<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ES2015(ES6)]]></title>
    <url>%2F2019%2F07%2F15%2Fes5ores6%2F</url>
    <content type="text"><![CDATA[ä¸»è¦æ˜¯ ES6 çš„çŸ¥è¯†æ¢³ç† ~ let/const12345// æœ‰ä»£ç å—çš„æ¦‚å¿µ&#123; let a = 12;&#125;console.log(a);// ReferenceError: a is not defined 123// ä¸å…è®¸é‡å¤å£°æ˜Žlet a = 12;let a = 5; 123456let f = 10;function fn() &#123; f = 7; // æš‚æ—¶æ€§æ­»åŽ»ï¼ŒæŠ¥é”™ let f = 2;&#125;fn(); 123// ä¸æ”¯æŒé¢„è§£æžï¼ˆå˜é‡æå‡ï¼‰äº†console.log(a); // ReferenceError: a is not definedlet a = 1; 123456// å¾ªçŽ¯è¯­å¥ä¹‹å†…æ˜¯ä¸€ä¸ªçˆ¶ä½œç”¨åŸŸï¼Œå¾ªçŽ¯ä½“ä¹‹ä¸­æ˜¯ä¸€ä¸ªå­ä½œç”¨åŸŸfor(let i = 0; i &lt; 3; i ++) &#123; let i = 10; console.log(i);&#125;console.log(i); // æŠ¥é”™ï¼Œi is not defined 1234567// const å¿…é¡»ç»™åˆå§‹å€¼ï¼Œä¸”ä¸€æ—¦èµ‹å€¼ï¼Œç»ˆèº«ä¸å˜// const å¯¹è±¡çš„è¯æ˜¯å¯ä»¥ä¿®æ”¹å†…éƒ¨çš„å€¼çš„const a = &#123; name: 'yangk'&#125;;a.name = 'momo';console.log(a.name); å…³äºŽå­—ç¬¦ä¸²æ¨¡æ¿å­—ç¬¦ä¸²1234// åŸºç¡€å¥—è·¯let name = "yangk"let age = 22;let str = `my name is $&#123;name&#125;, age $&#123;age&#125;.`; 12345678// å°è¯•æ›¿æ¢ $&#123;xxx&#125;let name = 'yangk';let age = 22;let str = 'my name is $&#123;name&#125;, age $&#123;age&#125;.';str = str.replace(/\$\&#123;([^&#125;]+)\&#125;/g, function() &#123; return eval(arguments[1]);&#125;); 12345// æ ‡ç­¾å‡½æ•°function fn(args) &#123; console.log(args);&#125;fn`aaa`; 12345678910111213141516171819// è‡ªå®šä¹‰æ¨¡æ¿let name = 'yangk';let age = 22;function fn() &#123; // console.log(arguments);// [["my name is ", ", age ", "."], "yangk", 22] let strings = arguments[0]; // æŠŠç¬¬ä¸€é¡¹åŽé¢çš„å˜æˆæ•°ç»„ let values = [].slice.call(arguments, 1); let res = ''; for(let i = 0; i &lt; values.length; i ++) &#123; res += `$&#123;strings[i]&#125;~$&#123;values[i]&#125;~`; &#125; res += strings[strings.length - 1]; return res;&#125;let str = fn`my name is $&#123;name&#125;, age $&#123;age&#125;.`;console.log(str); æ–°å¢žæ–¹æ³•123// includes ä»£æ›¿ indexOflet str = 'hello world';console.log(str.includes('hello')); 1234// startWith/endsWithlet str = 'hello world';console.log(str.startsWith('hello'));// trueconsole.log(str.endsWith('world'));// true 123// repeatlet str = 'hello world';console.log(str.repeat(3)); // hello worldhello worldhello world 123456// padStart/padEndlet str = 'hello world';// é•¿åº¦ï¼Œè¦å¾€å‰å¡«å……çš„å†…å®¹console.log(str.padStart(20, 'x')); // xxxxxxxxxhello world// é•¿åº¦ï¼Œè¦å¾€åŽå¡«å……çš„å†…å®¹console.log(str.padEnd(20, 'x')); // hello worldxxxxxxxxx è§£æž„èµ‹å€¼è§£æž„æ™®é€šæ•°ç»„1let [a,b,c] = [12,54,74]; 12let [a, [b, c], d] = [12, [1, 2], 6];let [&#123;a, e&#125;, [b, c], d] = [&#123;a: 'haha',e: 'xixi'&#125;, [1, 2], 6]; è§£æž„ JSON å¯¹è±¡12// è§£æž„ä¸€ä¸ªå¯¹è±¡ï¼Œä¸Žé¡ºåºæ— å…³let &#123;a,b,c&#125; = &#123;b: 5, c: 7, a: 12&#125; 123// è§£æž„ [] å¯¹è±¡çš„ length å±žæ€§let &#123;length&#125; = ['å“ˆ', 9];console.log(length); // 2 12// ä½¿ç”¨åˆ«åï¼Œä¸ç„¶ç›´æŽ¥ä½¿ç”¨ default å…³é”®å­—ä¼šæŠ¥é”™let &#123;default: d&#125; = &#123;default: 2&#125;; 123// é»˜è®¤å€¼let &#123;time=12,id=0&#125; = &#123;time:33&#125;;console.log(time); // 33 è§£æž„å­—ç¬¦ä¸²12let [a, b, c, d] = '1234';console.log(a, b, c, d); 12let &#123;length: len&#125; = 'test';console.log(len); // 4 å…¶ä»–è§£æž„èµ‹å€¼12345let &#123;toString: ts&#125; = 1;let &#123;toString: bs&#125; = true;console.log(ts === Number.prototype.toString);console.log(bs === Boolean.prototype.toString); æ³¨ï¼šnull å’Œ undefined æ˜¯ä¸èƒ½è¿›è¡Œè§£æž„èµ‹å€¼çš„ Iterator å’Œ for ofIterator å¯ä»¥ä¸ºå„ç§ä¸åŒçš„æ•°æ®ç»“æž„æä¾›ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ï¼Œä»»ä½•æ•°æ®ç»“æž„åªè¦éƒ¨ç½² Iterator æŽ¥å£ï¼Œå°±å¯ä»¥å®ŒæˆéåŽ†æ“ä½œï¼Œè€Œä¸”è¿™ç§éåŽ†æ˜¯ä¾æ¬¡è¿›è¡Œçš„ ä¸ºå„ç§æ•°æ®ç»“æž„ï¼Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„ã€ç®€ä¾¿çš„è®¿é—®æŽ¥å£ ä½¿å¾—æ•°æ®ç»“æž„çš„æˆå‘˜èƒ½å¤ŸæŒ‰æŸç§æ¬¡åºæŽ’åˆ— Iterator ç»“æž„ä¸»è¦ä¾› for of å¾ªçŽ¯æ¥æ¶ˆè´¹ 123456789101112131415161718192021222324252627// Iterator éåŽ†è¿‡ç¨‹ï¼š// - åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ŒæŒ‡å‘å½“å‰æ•°æ®ç»“æž„çš„èµ·å§‹ä½ç½®// - ç¬¬ä¸€æ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„ next æ–¹æ³•ï¼Œå°†æŒ‡é’ˆå¯¹è±¡æŒ‡å‘æ•°æ®ç»“æž„çš„ç¬¬ä¸€ä¸ªæˆå‘˜// - ...const arr = [1, 2, 3];function iterator(arr) &#123; let index = 0; return &#123; next: function() &#123; return index &lt; arr.length ? &#123; value: arr[index++], done: false &#125; : &#123; value: undefined, done: true &#125;; &#125; &#125;;&#125;let it = iterator(arr);console.log( it.next() );console.log( it.next() );console.log( it.next() );console.log( it.next() ); æœ‰äº›æ•°æ®ç»“æž„æœ¬èº«å°±å…·å¤‡äº† Iterator æŽ¥å£ï¼Œä¾‹å¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ã€setã€mapï¼Œå¯¹è±¡å°±æ²¡æœ‰ Iterator æŽ¥å£ï¼Œå‡¡æ˜¯å…·æœ‰ Symbol.iterator å±žæ€§çš„æ•°æ®ç»“æž„éƒ½å…·æœ‰ Iterator æŽ¥å£ 12345678910111213141516const arr = [1, 2, 3];const set = new Set(['a', 'b', 'c']);const map = new Map([ ['name', 'aaayang']]);const itArr = arr[Symbol.iterator]();const itSet = set[Symbol.iterator]();const itMap = map[Symbol.iterator]();console.log(itArr, itSet, itMap); // æ‰“å° Iterator çš„å¯¹è±¡æŒ‡é’ˆconsole.log(itSet.next()); // &#123;value: 'a', done: false&#125;console.log(itSet.next());console.log(itSet.next());console.log(itSet.next()); 12const obj = &#123;&#125;;console.log(obj[Symbol.iterator]); // undefinedï¼Œè¯´æ˜Žå¯¹è±¡å¹¶ä¸å…·å¤‡ Iterator æŽ¥å£ å…·å¤‡ iterator æŽ¥å£çš„æ•°æ®ç»“æž„éƒ½å¯ä»¥è¿›è¡Œç»“æž„èµ‹å€¼ã€æ‰©å±•è¿ç®—ç¬¦ã€for of 123const set = new Set(['a', 'b', 'c']);let [x, y] = set;console.log(x, y); 1234let str = 'test'; // ç±»æ•°ç»„ï¼Œä¹Ÿå…·å¤‡ Iterator æŽ¥å£let arrStr = [...str];console.log(arrStr); // ['t', 'e', 's', 't'] 1234// æ•°ç»„åŽ»é‡let arr = [1, 1];let newArr = [...new Set(arr)];console.log(newArr); 12345let arr = ['a', 'b', 'c'];for (let i of arr) &#123; console.log(i); // a, b, c&#125; 123456const m = new Map();m.set('a', 1).set('b', 2).set('c', 3);for(let i of m) &#123; console.log(i); // ['a', 1], ['b', 2], ['c', 3]&#125; 123456const m = new Map();m.set('a', 1).set('b', 2).set('c', 3);// ä¹Ÿå¯ä»¥åœ¨å¾ªçŽ¯çš„æ—¶å€™å¯¹æ•°ç»„è¿›è¡Œè§£æž„for(let [k, v] of m) &#123; console.log(k, v); // a 1, b 2, c 3&#125; ç»™ä¸€ä¸ªä¸å…·å¤‡ Iterator æŽ¥å£çš„å¯¹è±¡éƒ¨ç½²ä¸€ä¸ª Iterator æŽ¥å£ 123456789101112131415161718192021222324252627let obj = &#123; name: 'aaayang', age: 18&#125;;obj[Symbol.iterator] = function() &#123; let keys = Object.keys(obj); let len = keys.length; let i = 0; // è¯¥å‡½æ•°å¿…é¡»è¿”å›žä¸€ä¸ªå¯¹è±¡ return &#123; // è¿”å›žå¯¹è±¡ä¸­å¿…é¡»åŒ…å« next æ–¹æ³•ï¼Œè¿™ä¸ª next æ–¹æ³•å°±æ˜¯ç»™è¿­ä»£è¿›è¡Œè°ƒç”¨çš„ï¼Œæ¯”å¦‚ for ofï¼Œæ¯æ¬¡è¿­ä»£å°±æ˜¯è°ƒç”¨è¿™ä¸ª next() next() &#123; return i &lt; len ? &#123; value: obj[keys[i++]], done: false &#125; : &#123; value: undefined, done: true &#125;; &#125; &#125;;&#125;;for(let i of obj) &#123; console.log(i);&#125; å±•å¼€å’Œæ”¶ç¼©ä¸»è¦é’ˆå¯¹çš„æ˜¯æ•°ç»„ï¼ˆES2018å¯¹è±¡ä¹Ÿå¯ä»¥äº†ï¼‰ï¼Œæ—¢å¯ä»¥æ‰©å±•ï¼Œä¹Ÿå¯ä»¥æ”¶ç¼©ï¼Œä¹Ÿå¯ä»¥å‰©ä½™ï¼ˆå†™åœ¨å‡½æ•°å‚æ•°ä¸­ï¼‰ æ‰©å±•æˆå¤šä¸ªï¼ˆå€¼ï¼‰å¯ä»¥ç”¨æ¥æ‹·è´å¯¹è±¡ï¼Œå¹¶ä¸”å¯¹æ–°å¯¹è±¡çš„ä¿®æ”¹ä¸ä¼šå½±å“åˆ°åŽŸå¯¹è±¡ 123456let arr1 = [1, 2, 3];let arr2 = [];// å…ˆæ‰©å±•æ•°ç»„ï¼Œåœ¨æ”¾è¿›æ•°ç»„arr2 = [...arr1]; // ä¹Ÿå¯ä»¥ Array.from(arr1)arr2.pop();console.log(arr1); 12345let aDiv = document.getElementsByTagName('div');// let aEle = [].slice.call(aDiv);// Array.fromlet aEle = [...aDiv];console.log(aEle); 12345// ä¹‹å‰çš„åšæ³•function show(a,b,c,d) &#123; console.log(a,b,c,d);&#125;show.apply(null, [1, 2, 3, 4]); 12345// çŽ°åœ¨çš„åšæ³•function show(a,b,c,d) &#123; console.log(a,b,c,d);&#125;show(...[1, 2, 3, 4]); æ”¶ç¼©ä¸ºä¸€ä¸ªï¼ˆæ•°ç»„ï¼‰ä¹‹å‰çš„åšæ³•æ˜¯ï¼šArray.prototype.slice.call(arguments)ï¼ŒçŽ°åœ¨å¯ä»¥ç”¨ Array.from æˆ–æ‰©å±•è¿ç®—ç¬¦ 12345function show(...args)&#123; args.push(5);// args å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç›´æŽ¥å¯ä»¥push console.log(...args);&#125;show(1,2,3,4); å¯¹è±¡çš„æ”¶ç¼©å’Œå±•å¼€12let &#123; x, y, ...z &#125; = &#123; x: 1, y: 2, z: 3, m: 4 &#125;;console.log(z); // &#123;z: 3, m: 4&#125; 1234// å¸¸ç”¨æ¥å¤åˆ¶ä¸€ä¸ªå¯¹è±¡let json1 = &#123; x: 1, y: 2, z: 3, m: 4 &#125;;let json2 = &#123;...json1&#125;;console.log(json2); å…³äºŽæ•°ç»„reduce1234567// æ±‚å’Œï¼Œå› ä¸ºæ²¡æœ‰é»˜è®¤å€¼ï¼Œç¬¬ä¸€æ¬¡ prev æ˜¯ 1ï¼Œnext æ˜¯ 2ï¼ŒnextIndex å°±æ˜¯ 1let arr = [1, 2, 3, 4];let res = arr.reduce((prev, next, nextIndex, arr) =&gt; &#123; // è¿”å›žç»“æžœä¼šä½œä¸ºä¸‹ä¸€æ¬¡å¾ªçŽ¯çš„ prev return prev + next;&#125;);console.log(res); 12345// åŠ é»˜è®¤å€¼å°±å¤šå¾ªçŽ¯äº†ä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡ prev æ˜¯ 0ï¼Œnext æ˜¯1ï¼ŒnextIndex åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä¹Ÿå°±æ˜¯ 0let arr = [1, 2, 3, 4];let res = arr.reduce((prev, next, nextIndex, arr) =&gt; &#123; return prev + next;&#125;,0); 123456789// æ±‚å¹³å‡æ•°let arr = [1, 2, 3, 4];let res = arr.reduce((prev, next, nextIndex, arr) =&gt; &#123; if(arr.length -1 === nextIndex) &#123; return (prev + next)/arr.length; &#125; return prev + next;&#125;);console.log(res); 123456789101112131415161718// é»˜è®¤å€¼çš„ä½¿ç”¨let arr = [&#123; count: 1&#125;,&#123; count: 2&#125;,&#123; count: 3&#125;];/* let res = arr.reduce((prev, next, nextIndex, arr) =&gt; &#123; // ç¬¬ä¸€æ¬¡æ²¡é—®é¢˜ï¼Œç¬¬äºŒæ¬¡è¿”å›žçš„ç»“æžœ 3 ä¼šä½œä¸ºä¸‹ä¸€æ¬¡çš„ prevï¼Œ3.count è¿™æ˜¯ä»€ä¹ˆé¬¼ return prev.count + next.count;&#125;); */let res = arr.reduce((prev, next, nextIndex, arr) =&gt; &#123; // ç¬¬ä¸€æ¬¡ prev ä¸º 0ï¼Œnext.count å°±æ˜¯ 1ï¼Œå®ƒä»¬çš„å’Œä½œä¸ºä¸‹ä¸€æ¬¡çš„ prevï¼Œä¸‹ä¸€æ¬¡çš„ next.count åˆæ˜¯ 2 return prev + next.count;&#125;,0); 123456789101112// å®žçŽ° reduceArray.prototype.myReduce = function (fn, prev) &#123; for (let i = 0; i &lt; this.length; i++) &#123; if (typeof prev === 'undefined') &#123; prev = fn(this[i], this[i + 1], i + 1, this); // ++i; &#125; else &#123; prev = fn(prev, this[i], i, this); &#125; &#125; return prev;&#125;; 12345678910// æ²¡æœ‰é»˜è®¤å€¼ï¼Œreduce å›žè°ƒåªæ‰§è¡Œäº†ä¸€æ¬¡ï¼Œåªèƒ½å±•å¼€äºŒç»´æ•°ç»„let arr = [ [1,2,3], [4,5,6]];arr = arr.reduce((prev,next, nextIndex,ary) =&gt; &#123; return [...prev,...next];&#125;);console.log(arr); forEachforEach å¯ä»¥å®Œå…¨ä»£æ›¿ for 1234// ['a', 'b', 'c', 'd'].forEach(console.log);['a', 'b', 'c', 'd'].forEach(function (value, index, array) &#123; console.log(this,value); // this é»˜è®¤ windowï¼ŒçŽ°åœ¨æ”¹æˆäº† 'xxx'&#125;, 'xxx'); 123['a', 'b', 'c', 'd'].forEach( (value, index, array) =&gt; &#123; console.log(this,value); // ç”¨ç®­å¤´å‡½æ•°ç¬¬äºŒä¸ªå‚æ•°å°±å‡‰äº†&#125;, 'xxx'); 1234// æ³¨æ„ jQuery ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ index ...$.each([], function(index, value, array) &#123; // ...&#125;); 1234567// åº”ç”¨let sum = 0;[1, 2, 3, 4].forEach(function(value,index,array)&#123; // console.log(array[index] == value); sum += value;&#125;);console.log(sum);// 10 map123456// map å¯¹å…ƒç´ é‡æ–°ç»„è£…ï¼Œç”Ÿæˆæ–°æ•°ç»„let arr = [1, 2, 3, 4];let arrNew = arr.map(function (item) &#123; return item * item;// ä¸€èˆ¬é…åˆreturnä½¿ç”¨&#125;);console.log(arrNew); // 1, 4, 9, 16 filter12345678let arr = [1, 2, 3, 4];// filter ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›žæ–°æ•°ç»„let result3 = arr.filter(function(item, index) &#123; if(item &gt;= 2) &#123; return true; &#125;&#125;);console.log(result3); find123456// è¿”å›žæ•°ç»„ä¸­ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ let array1 = [5, 12, 8, 130, 44];let found = array1.find(function (element) &#123; return element &gt; 10;&#125;);console.log(found); // 12 findIndex123456// è¿”å›žæ•°ç»„ä¸­ç¬¦åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•let array1 = [5, 12, 8, 130, 44];let found = array1.findIndex(function (element) &#123; return element &gt; 10;&#125;);console.log(found); // 1 some123456789let arr = [1, 2, 3, 4];// some åˆ¤æ–­æ˜¯å¦æœ‰è‡³å°‘ä¸€ä¸ªå…ƒç´ ç¬¦åˆæ¡ä»¶ï¼Œè¿”å›žtrue or falselet result2 = arr.some(function (item, index) &#123; /* if (item &lt; 4) &#123; return true; &#125; */ return item &lt; 4;&#125;);console.log(result2); // true every123456789// every åˆ¤æ–­æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆæ¡ä»¶ï¼Œè¿”å›žtrue or falselet arr = [1, 2, 3, 4];let result = arr.every(function(item, index) &#123; /* if(item &lt; 4) &#123; return true; &#125; */ return item &lt; 4;&#125;);console.log(result); // false fill123let arr = new Array(5);arr.fill('xxx');console.log(arr); // ["xxx", "xxx", "xxx", "xxx", "xxx"] includesæ•°ç»„ä¹Ÿæœ‰ includesï¼Œå’Œå­—ç¬¦ä¸²çš„ä¸€æ ·çš„æ„æ€ fromç±»æ•°ç»„è½¬æ•°ç»„ å¤åˆ¶ä¸€ä»½å¯¹æ–°èµ‹å€¼å¯¹è±¡çš„ä¿®æ”¹ä¸ä¼šå½±å“åŽŸæ¥çš„å¯¹è±¡ 12345let arr1 = [1, 2, 3];let arr2 = [];arr2 = Array.from(arr1);arr2.pop();console.log(arr1); ç±»æ•°ç»„è½¬æ•°ç»„1234let aDiv = document.getElementsByTagName('div');// let aEle = [].slice.call(aDiv);let aEle = Array.from(aDiv);// ç±»æ•°ç»„è½¬æ•°ç»„console.log(aEle); 12345678910// ä¸€èˆ¬æœ‰ length å°±æ˜¯ç±»æ•°ç»„ï¼Œå°±å¯ä»¥è½¬let json = &#123; 0: 'xxx', 1: 'yyy', 2: 'zzz', length: 2&#125;;let arr = Array.from(json);console.log(arr); // ['xxx', 'yyy'] å­—ç¬¦ä¸²æ‹†åˆ†æˆæ•°ç»„123let name = 'yangk';let arrName = Array.from(name);console.log(arrName); // ["y", "a", "n", "g", "k"] ofä¹Ÿå¯ä»¥æŠŠä¸€å †å‚æ•°ç»„åˆæˆæ•°ç»„ 12let arr = Array.of(1,2,3,4,5);console.log(arr); // [1, 2, 3, 4, 5] flatä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éåŽ†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸ŽéåŽ†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ž 12// depth é»˜è®¤1var newArray = arr.flat(depth) 123var arr1 = [1, 2, [3, 4]];arr1 = arr1.flat();console.log(arr1); // [1, 2, 3, 4] 1234var arr = [1, 2, [3, 4, [5, 6]]];// ä½¿ç”¨ Infinity ä½œä¸ºæ·±åº¦ï¼Œå±•å¼€ä»»æ„æ·±åº¦çš„åµŒå¥—æ•°ç»„arr = arr.flat(Infinity);console.log(arr); 1234// åŽ»é‡æ‰å¹³åŒ–åŽçš„æ•°ç»„å¹¶æŽ’åºvar arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10];arr = Array.from(new Set(arr.flat(Infinity))).sort((a,b) =&gt; a-b);console.log(arr); // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14] å‡½æ•°å˜æ›´é»˜è®¤å‚æ•°1234function show(a='hello', b='world') &#123; console.log(a,b);&#125;show(); 12345function show(&#123;x=0,y=1&#125;=&#123;&#125;) &#123; console.log(x,y);&#125;show(&#123;x:8&#125;); ç®­å¤´å‡½æ•°1234document.onclick = () =&gt; &#123; // this =&gt; window document.body.style.background = "red";&#125;; this æŒ‡å‘123456789let json = &#123; a: 1, b: 2, show: () =&gt; &#123; // this =&gt; window console.log(this.a); &#125;&#125;;json.show();// undefined 12345678910let json = &#123; a: 1, b: 2, show: () =&gt; &#123; setTimeout(() =&gt; &#123; console.log(this.a); &#125;, 1000); &#125;&#125;;json.show();// undefined 1234567891011let json = &#123; a: 1, b: 2, show: function() &#123; setTimeout(() =&gt; &#123; // å–å†³äºŽçˆ¶çº§ä¸­çš„ this console.log(this.a); &#125;, 1000); &#125;&#125;;json.show();// 1 argumentsç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰ arguments 1234let show = ()=&gt;&#123; console.log(arguments);// arguments is not defined&#125;;show(1,2,3); 12345// å¸¸ç”¨let show = (...args) =&gt; &#123; console.log(args); // [1,2,3]&#125;;show(1, 2, 3); ç®€ä¾¿å†™æ³•1234567891011let name = "yangk";let age = 18;let person = &#123; name, age, showName()&#123; // this =&gt; window console.log(this.name); &#125;&#125;;person.showName(); ç®­å¤´å‡½æ•°ä¸èƒ½å½“æž„é€ å‡½æ•°ä½¿ç”¨12345// é”™è¯¯å§¿åŠ¿let Show = (name) =&gt; &#123; this.name = name;&#125;let show = new Show('xxx'); å¯¹è±¡ç®€æ´è¯­æ³•12345678910111213let name = 'aaa';let age = 18;let json = &#123; name, age, // é‡Œé¢çš„æ–¹æ³•ä¸è¦ç”¨ç®­å¤´å‡½æ•°ï¼Œä¸ç„¶è‡ªæ‰¾è›‹ç–¼ showName() &#123; console.log(this.name); &#125;&#125;;json.showName(); // aaa ObjectObject.assignåªä¼šæ‹·è´æºå¯¹è±¡è‡ªèº«çš„å¹¶ä¸”å¯æžšä¸¾çš„å±žæ€§åˆ°ç›®æ ‡å¯¹è±¡ï¼Œæ³¨æ„æ˜¯æµ…æ‹·è´ 12345678910111213let json1 = &#123; name: 'xxx'&#125;;let json2 = &#123; name: 'yyy', age: 18&#125;;let json3 = &#123; hobby: 'è¶³çƒ'&#125;;// ç›®æ ‡ç”¨æ–°çš„ç©ºå¯¹è±¡ï¼Œå‡å¦‚åŽ»æŽ‰ä¼šå¯¹åŽŸæ¥çš„ json1 é€ æˆå½±å“let obj = Object.assign(&#123;&#125;, json1, json2, json3); 1234// ä¹Ÿå¯ä»¥å¯¹æ•°ç»„è¿›è¡Œå¤åˆ¶æ“ä½œlet arr1 = ['a', 'b', 'c'];let arr2 = Object.assign([],arr1);console.log(arr2); Object.keys1234567let json = &#123; name: 'aaayang', age: 18&#125;;for(let key of Object.keys(json)) &#123; console.log(key); // name, age, for in å¾ªçŽ¯å¾—åˆ°çš„æ˜¯ 0, 1&#125; Object.valuesObject.entriesObject.is1Object.is(NaN, NaN); // true 12console.log(+0 === -0); // trueconsole.log(Object.is(+0, -0)); // false setPrototypeOf1234567891011// è®¾let obj1 = &#123; name: 'aaayang'&#125;;let obj2 = &#123; age: 18&#125;;// é“¾ï¼š__proto__ï¼Œä»»ä½•ä¸œè¥¿éƒ½æœ‰obj1.__proto__ = obj2;// å…ˆæ‰¾è‡ªå·±çš„ï¼Œæ‰¾ä¸åˆ°é€šè¿‡é“¾æ‰¾console.log(obj1.age); 1234// å–// console.log(obj1.__proto__); // &#123;age: 18&#125;Object.getPrototypeOf(obj1); // &#123;age: 18&#125; 12345678910111213// å¯ä»¥é€šè¿‡ super æ‰¾åˆ°çˆ¶let obj1 = &#123; name: 'aaayang'&#125;;let obj2 = &#123; name: 'bbb', getPName() &#123; return super.name; &#125;, __proto__: obj1&#125;;console.log(obj2.name); // bbbconsole.log(obj2.getPName()); // aaayang å¼‚æ­¥çš„å‘å±•å›žè°ƒå‡½æ•°å‡½æ•°è¿”å›žå‡½æ•°é«˜é˜¶å‡½æ•°ï¼šå‡½æ•°è¿”å›žå‡½æ•°ï¼Œæˆ–å‡½æ•°å½“åšå‚æ•°ä¼ é€’ 1234567// ç®€å•åˆ¤æ–­ç±»åž‹çš„éœ€æ±‚function isType(type, content) &#123; return Object.prototype.toString.call(content) === `[object $&#123;type&#125;]`;&#125;// éº»çƒ¦isType('String', 'hello')isType('String', 'world') 1234567891011121314function isType(type) &#123; return function(content) &#123; return Object.prototype.toString.call(content) === `[object $&#123;type&#125;]`; &#125;&#125;let arr = ['String', 'Number', 'Array', 'Object', 'Null'];let util = &#123;&#125;;arr.forEach(item =&gt; &#123; util['is'+item] = isType(item);&#125;);console.log(util.isString('hello')); å‡½æ•°å½“åšå‚æ•°é«˜é˜¶å‡½æ•°ï¼šå‡½æ•°è¿”å›žå‡½æ•°ï¼Œæˆ–å‡½æ•°å½“åšå‚æ•°ä¼ é€’ 123456789101112131415161718// è°ƒç”¨ 3 æ¬¡ fn æ‰æ‰§è¡Œå›žè°ƒlet fn = after(3, function() &#123; console.log('done');&#125;);// å½“è¾¾åˆ°æŸä¸ªæ¡ä»¶æ—¶æ‰§è¡Œ callbackfunction after(times, callback) &#123; return function() &#123; // è¿™é‡Œå¯ä»¥å†™ä¸€äº›é€»è¾‘ xxx // xxx if(--times === 0) &#123; callback(); &#125; &#125;&#125;fn();fn();fn(); // done èƒ½å¹²ä»€ä¹ˆ1234567891011121314151617// æŠŠä¸¤ä¸ªæ–‡ä»¶è¯»å–çš„ç»“æžœåŒæ—¶æ‰“å°å‡ºæ¥let fs = require('fs');fs.readFile('./a.txt', 'utf-8', function(err, data) &#123; out(data);&#125;);fs.readFile('./b.txt', 'utf-8', function (err, data) &#123; out(data)&#125;);let arr = [];function out(data) &#123; arr.push(data); if (arr.length === 2) &#123; console.log(arr); &#125;&#125; 1234567891011121314151617181920212223// æ”¹è¿›ä¸Šé¢çš„ä»£ç let fs = require('fs');function after(times, callback) &#123; // å¯ä»¥ç¼“å­˜å‡½æ•°ï¼Œå½“è¾¾åˆ°æ¡ä»¶æ—¶æ‰§è¡Œå›žè°ƒå‡½æ•° let arr = []; return function (data) &#123; arr.push(data); if (--times === 0) &#123; callback(arr); &#125; &#125;&#125;fs.readFile('./a.txt', 'utf-8', function (err, data) &#123; out(data);&#125;);fs.readFile('./b.txt', 'utf-8', function (err, data) &#123; out(data)&#125;);let out = after(2, function (arr) &#123; console.log(arr);&#125;); Promise12345678910let promise = new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve('success'); &#125;, 1000);&#125;);promise.then(res =&gt; &#123; console.log(res);&#125;, err =&gt; &#123; console.log(err);&#125;); generatoré¢„çƒ­12345678910111213// æœ‰ç´¢å¼•ï¼Œæœ‰é•¿åº¦ï¼Œæ˜¯ä¸€ä¸ªç±»æ•°ç»„let obj = &#123; 0: 'hello', 1: 'world', length: 2&#125;;// é»˜è®¤ä¸å¯è¢«è¿­ä»£// let arr = [...obj];// å¯ä»¥ä½¿ç”¨ Array.fromlet arr = Array.from(obj);console.log(arr); 12345678910111213141516171819202122// æ¨¡æ‹Ÿè¿­ä»£let obj = &#123; 0: 'hello', 1: 'world', length: 2, // è¿­ä»£å™¨å‡½æ•°ï¼Œä¼šè¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å¿…é¡»æœ‰ä¸€ä¸ª next æ–¹æ³• [Symbol.iterator]: function() &#123; let index = 0; let that = this; return &#123; next() &#123; return &#123; value: that[index], // æ˜¯å¦è¿­ä»£å®Œæˆ done: index++ === that.length &#125; &#125; &#125; &#125;&#125;;let arr = [...obj]; 123456789101112131415161718// æ¨¡æ‹Ÿè¿­ä»£å™¨function read(arr) &#123; let index = 0; return &#123; next() &#123; return &#123; value: arr[index], done: index++ &gt;= arr.length &#125;; &#125; &#125;;&#125;let it = read(['vue', 'react', 'angular']);console.log(it.next());console.log(it.next());console.log(it.next());console.log(it.next()); // &#123; value: undefined, done: true &#125; æ­£å¼å¼€å§‹generator æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œç”Ÿæˆçš„æ˜¯ä¸Šé¢æˆ‘ä»¬æ¨¡æ‹Ÿçš„è¿­ä»£å™¨ï¼Œå®ƒå¯ä»¥æŠŠä¸€ä¸ªå‡½æ•°æ‹†åˆ†æˆè‹¥å¹²ä¸ªéƒ¨åˆ†æ‰§è¡Œã€‚ 123456function *gen() &#123; return 1000;&#125;let a = gen();// ç¢°åˆ° return è®¤ä¸ºè¿­ä»£å®Œæˆäº†console.log(a.next()); // &#123; value: 1000, done: true &#125; 123456function *gen() &#123; yield 1000;&#125;let a = gen();// yield å¹¶ä¸è®¤ä¸ºè¿­ä»£å®Œæˆconsole.log(a.next()); // &#123; value: 1000, done: false &#125; 12345678910111213// ç¬¬ä¸€æ¬¡è°ƒç”¨è¿­ä»£å™¨ next ä¼ é€’çš„å‚æ•°æ²¡æœ‰æ„ä¹‰ï¼Œæƒ³ç©¿åœ¨è°ƒç”¨ç”Ÿæˆå™¨çš„æ—¶å€™ç©¿// ç¬¬äºŒæ¬¡ next ä¼ é€’çš„å‚æ•°æ˜¯ä¸Šæ¬¡ yield çš„è¿”å›žå€¼ ...function *gen(xxx) &#123; let a = yield xxxx; let b = yield a; return b;&#125;let a = gen('ä¹°èœ');console.log(a.next());console.log(a.next('ä¹°å¥½çš„èœ')); // èµ‹å€¼ç»™äº† aconsole.log(a.next('åšèœ')); 12345678910111213141516171819202122232425262728293031323334/* const read = function(filename) &#123; return new Promise((resolve, reject) =&gt; &#123; fs.readFile(filename, (err, data) =&gt; &#123; if(err) reject(err); resolve(data.toString()); &#125;); &#125;);&#125;; */// è¯»å–ä¾èµ–æ–‡ä»¶ï¼Œæ‰‹å·¥è¿­ä»£let fs = require('fs');let &#123;promisify&#125; = require('bluebird');let read = promisify(fs.readFile);function * gen() &#123; // read è¿”å›žçš„æ˜¯ä¸ª promise let b = yield read('a.txt', 'utf8'); let c = yield read(b, 'utf8'); let res = yield read(c, 'utf8'); return res;&#125;let it = gen();// it.next() çš„ read çš„è¿”å›žç»“æžœï¼Œç»“æžœçš„value æ˜¯ä¸ª promiseit.next().value.then(data =&gt; &#123; // data =&gt; b.txt =&gt; ä¼ é€’ç»™ä¸Šé¢çš„ b it.next(data).value.then(data =&gt; &#123; // data =&gt; c.txt =&gt; ä¼ é€’ç»™ä¸Šé¢çš„ c it.next(data).value.then(data =&gt; &#123; // data =&gt; hello world =&gt; ä¼ é€’ç»™ä¸Šé¢çš„ res console.log(it.next(data).value) &#125;); &#125;);&#125;); 12345678910111213141516// ç”¨ co å¸®æˆ‘ä»¬æ‰§è¡Œä¸Šé¢çš„è¿­ä»£ï¼Œyield åŽè¦æ±‚è¿”å›žçš„æ˜¯ä¸€ä¸ª promiselet fs = require('fs');let co = require('co');let &#123;promisify&#125; = require('bluebird');let read = promisify(fs.readFile);function * gen() &#123; let b = yield read('a.txt', 'utf8'); let c = yield read(b, 'utf8'); let res = yield read(c, 'utf8'); return res;&#125;co(gen()).then(data =&gt; &#123; console.log(data);&#125;); 123456789101112131415function *a() &#123; yield '1'; yield '2';&#125;// å¦‚æžœåœ¨ generator ä¸­è°ƒç”¨å¦ä¸€ä¸ª generatorï¼ŒåŠ ä¸ª *function *b() &#123; yield '3'; yield * a(); yield '4';&#125;let it = b();console.log(it.next());console.log(it.next()); asyncasync æ˜¯ generator çš„è¯­æ³•ç³– await åŽé¢å¯ä»¥æ˜¯ promiseï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦ä¸² åªè¦ await è¯­å¥åŽé¢çš„ Promise çŠ¶æ€å˜æˆ rejectï¼Œé‚£ä¹ˆæ•´ä¸ª async å‡½æ•°éƒ½ä¼šä¸­æ–­æ‰§è¡Œï¼Œæ‰€ä»¥å»ºè®®ä»»ä½•æœ‰ await çš„åœ°æ–¹éƒ½è¦ try catchï¼Œæˆ–è€…ç”¨ promise æœ¬èº«çš„ catchï¼Œæ¯”è¾ƒç´¯ 123456789101112131415let &#123;promisify&#125; = require('bluebird');let fs = require('fs');let read = promisify(fs.readFile);// async è¿”å›žçš„æ˜¯ä¸ª promiseasync function r() &#123; let b = await read('./a.txt', 'utf8'); let c = await read(b, 'utf8'); let res = await read(c, 'utf8'); return res;&#125;r().then(data =&gt; &#123; console.log(data);&#125;); 123456789async function fn() &#123; let [a,b,c] = await Promise.all([ readFile('./a.txt'), readFile('./b.txt'), readFile('./c.txt') ]); console.log(a,b,c);&#125;fn(); æ¨¡å—åŒ– CommonJSï¼ŒæœåŠ¡ç«¯ï¼ŒåŒæ­¥çš„ AMDï¼ŒrequireJS CMDï¼ŒseaJS ESè§„èŒƒï¼Œç»Ÿä¸€å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ ä¸€èˆ¬å¥—è·¯æœåŠ¡å™¨çŽ¯å¢ƒä¸‹è¿è¡Œï¼Œé»˜è®¤ä¸¥æ ¼æ¨¡å¼ 12// mod.jsexport const name = 'aaa'; 12345// å¯ä»¥ç›¸å¯¹è·¯å¾„&lt;script type="module"&gt;import &#123;name&#125; from './mod.js';console.log(name);&lt;/script&gt; 123456789// ä¹Ÿå¯ä»¥ç»å¯¹è·¯å¾„&lt;script type="module"&gt;import 'https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js';setTimeout(() =&gt; &#123; $('body').css(&#123; background: 'red' &#125;);&#125;);&lt;/script&gt; 12// åªæœ‰ export default åœ¨å¼•å…¥æ—¶ä¸éœ€è¦è§£æž„// å…¶ä»–æƒ…å†µåœ¨å¼•å…¥æ—¶è¦ä¹ˆè§£æž„ï¼Œè¦ä¹ˆ import * as xxx from './mod' åŠ¨æ€åŠ è½½123456789101112&lt;script type="module"&gt;let a = 'xxx';if (a === 'xxx') &#123; import('./mod1.js').then(res =&gt; &#123; console.log(res.name); &#125;);&#125; else &#123; import('./mod2.js').then(res =&gt; &#123; console.log(res.name); &#125;);&#125;&lt;/script&gt; 123456789&lt;script type="module"&gt;import('https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js').then(res =&gt; &#123; $(function() &#123; $('body').css(&#123; background: 'red' &#125;); &#125;);&#125;);&lt;/script&gt; 12345678910// await åŽè·Ÿ promiseï¼Œè¿”å›žçš„æ˜¯ promise æ‰§è¡Œçš„ç»“æžœ&lt;script type="module"&gt;async function load() &#123; const mod1 = await import('./mod1.js'); const mod2 = await import('./mod2.js'); console.log(mod1.name); console.log(mod2.name);&#125;load();&lt;/script&gt; 12345678910&lt;script type="module"&gt;async function load() &#123; const [m1,m2] = await Promise.all([ import('./mod1.js'), import('./mod2.js') ]); console.log(m1.name, m2.name);&#125;load();&lt;/script&gt; ES6 ä¸­çš„ç±»class æ²¡æœ‰é¢„è§£æžï¼Œå¿…é¡»å…ˆå®šä¹‰åŽè°ƒç”¨ ES5å’ŒES6 å¯¹æ¯”12345678910111213141516const Test = function(a, b) &#123; this.a = a; this.b = b; return this;&#125;;Test.prototype = &#123; constructor: Test, print: function() &#123; console.log(this.a + ' ' + this.b); &#125;&#125;;let t = new Test('hello', 'world');t.print(); 123456789101112class Test &#123; constructor(a, b) &#123; this.a = a; this.b = b; return this; &#125; print() &#123; console.log(this.a + ' ' + this.b); &#125;&#125;new Test('hello', 'world').print(); åŸºæœ¬å¥—è·¯12345678910111213class Person &#123; // è°ƒç”¨ new è‡ªåŠ¨æ‰§è¡Œï¼Œé»˜è®¤ä¹Ÿä¼šæ·»åŠ  contructor constructor(name, age) &#123; this.name = name; this.age = age; &#125; // å®šä¹‰åœ¨ç±»ä¸­æ–¹æ³•éƒ½æ˜¯ä¸å¯ä»¥è¢«æžšä¸¾çš„ï¼ŒObject.keys(Person.prototype) æžä¸å‡ºæ¥ showName() &#123; console.log(this.name); &#125;&#125;let p1 = new Person('aaayang', 18);p1.showName(); æ–¹æ³•å¯ä»¥æ˜¯å˜é‡12345678910let hobby = 'hobbyFn';class Person &#123; [hobby]() &#123; console.log('hello world'); &#125;&#125;let p1 = new Person();p1[hobby]();p1.hobbyFn(); å…³äºŽ thisä¸€èˆ¬å®šä¹‰å¦¥å¦¥çš„ 1234567891011class Person &#123; constructor(name) &#123; this.name = name; &#125; sayName() &#123; console.log(this.name); &#125;&#125; let p1 = new Person('aaayang');p1.sayName(); // ok è§£æž„åŽå†ä½¿ç”¨ï¼Œthis å°±æ˜¯ undefined äº† 1234567891011class Person &#123; constructor(name) &#123; this.name = name; &#125; sayName() &#123; console.log(this.name); &#125;&#125;let p1 = new Person('aaayang');let &#123;sayName&#125; = p1;sayName(); // this æ˜¯ undefined çŸ«æ­£ this 1234567891011121314class Person &#123; constructor(name) &#123; this.name = name; // call å’Œ apply ä¹Ÿå¯ä»¥çŸ«æ­£ thisï¼Œä½†ä¼šè°ƒç”¨å‡½æ•° // bind åªç®¡çŸ«æ­£ï¼Œå¹¶ä¸è°ƒç”¨å‡½æ•° this.sayName = this.sayName.bind(this); &#125; sayName() &#123; console.log(this.name); &#125;&#125;let p1 = new Person('aaayang');let &#123;sayName&#125; = p1;sayName(); // aaayang é™æ€æ–¹æ³•123456class Person &#123; static sayName() &#123; console.log('hello world'); &#125;&#125;Person.sayName(); ç»§æ‰¿1234567891011121314class Person &#123; constructor(name) &#123; this.name = name; &#125; sayName() &#123; console.log(this.name); &#125;&#125;class Student extends Person &#123;&#125;let stu = new Student('xxx');stu.sayName(); // xxx 123456789101112131415161718class Person &#123; constructor(name) &#123; this.name = name; &#125; sayName() &#123; console.log(this.name); &#125;&#125;class Student extends Person &#123; constructor(name, age) &#123; super(name); // æƒ³æœ‰è‡ªå·±çš„å±žæ€§ï¼Œå¿…é¡»å…ˆç»§æ‰¿çˆ¶çº§çš„å±žæ€§ this.age = age; &#125;&#125;let stu = new Student('xxx', 18);console.log(stu.name, stu.age); æ‰§è¡Œçˆ¶çš„æ–¹æ³• 1234567891011121314151617181920212223class Person &#123; constructor(name) &#123; this.name = name; &#125; sayName() &#123; console.log(this.name); &#125;&#125;class Student extends Person &#123; constructor(name) &#123; super(name); &#125; sayName() &#123; // æ‰§è¡Œçˆ¶çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ˜¯çˆ¶ç±»çš„é™æ€æ–¹æ³• // super æŒ‡çš„æ˜¯çˆ¶ç±»çš„åŽŸåž‹å¯¹è±¡ super.sayName(); console.log(this.name); &#125;&#125;let stu = new Student('xxx');stu.sayName(); æ€»ç»“ å­ç±»ç»§æ‰¿çˆ¶ç±»ç”¨ extends å…³é”®å­— ä¸ºçˆ¶ç±»æŒ‡å®šé™æ€æ–¹æ³•ï¼Œä½¿ç”¨ static æ–¹æ³•åå­— super åœ¨æž„é€ å‡½æ•°ä¸­å¯ä»¥å½“ä¸€ä¸ªå‡½æ•°æ¥ä½¿ç”¨ï¼Œç›¸å½“äºŽè°ƒç”¨çˆ¶ç±»çš„æž„é€ å‡½æ•° super åœ¨åŽŸåž‹æ–¹æ³•ä¸­å¯ä»¥å½“ä¸€ä¸ªå¯¹è±¡æ¥ä½¿ç”¨ï¼Œç›¸å½“äºŽçˆ¶ç±»çš„åŽŸåž‹å¯¹è±¡ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨ç»‘å®š this åˆ°å­ç±»ä¸Š ä¸€ä¸ªä¾‹å­123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; canvas &#123; box-shadow: 2px 2px 12px rgba(0, 0, 0, 0.5); &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;canvas id="canvas"&gt;&lt;/canvas&gt; &lt;script&gt; const canvas = document.querySelector('#canvas'); const ctx = canvas.getContext('2d'); canvas.width = 600; canvas.height = 400; class Ball &#123; constructor(x, y, r) &#123; this.x = x; this.y = y; this.r = r; // ~~ ä»£è¡¨åŽ»æŽ‰å°æ•°éƒ¨åˆ† this.color = `rgba($&#123;~~Ball.rpFn([55, 255])&#125;, $&#123;~~Ball.rpFn([55, 255])&#125;, $&#123;~~Ball.rpFn([55, 255])&#125;)`; return this; // å¯ä»¥åœ¨å®žä¾‹åŒ–åŽç»§ç»­è°ƒç”¨å…¶ä»–çš„æ–¹æ³• &#125; render(ctx) &#123; ctx.save(); ctx.translate(this.x, this.y); ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(0, 0, this.r, 0, 2*Math.PI); ctx.fill(); ctx.restore(); return this; &#125; static rpFn(arr) &#123; // Ball.rpFn([1, 10]) let max = Math.max(...arr), min = Math.min(...arr); return Math.random() * (max - min) + min; &#125; &#125; class SuperBall extends Ball &#123; constructor(x, y, r) &#123; // ç»§æ‰¿çˆ¶ç±»æž„é€ å‡½æ•°ä¸­æ‰€æœ‰çš„å±žæ€§ super(x, y, r); // è°ƒç”¨çˆ¶ç±»çš„æž„é€ å‡½æ•°ï¼Œç›¸å½“äºŽä¹‹å‰çš„ Ball.call(this, x, y, r) // ç»§æ‰¿æ—¶ï¼Œæ²¡è°ƒ super è¿™é‡Œæ˜¯æ²¡æœ‰ this çš„ this.vy = SuperBall.rpFn([2, 4]); this.g = SuperBall.rpFn([0.2, 0.4]); this.a = 0; return this; &#125; move(ctx) &#123; // super(); // ä¸èƒ½åœ¨éžæž„é€ å‡½æ•°ä¸­è°ƒç”¨ this.y += this.vy; this.vy += this.g; let current = this.vy * -0.75; if(this.y + this.r &gt;= ctx.canvas.height) &#123; this.y = ctx.canvas.height - this.r; if(Math.abs(current - this.a) &lt; 0.01) return false; this.a = this.vy *= -0.75; &#125; ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height); // æ³¨æ„è¿™é‡Œçš„ super æŒ‡çš„æ˜¯çˆ¶ç±»çš„åŽŸåž‹å¯¹è±¡ super.render(ctx); return true; &#125; &#125; let ball, timer; canvas.onclick = function(e) &#123; let x = e.offsetX, y = e.offsetY; let r = ~~Ball.rpFn([25, 55]); ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height); ball = new SuperBall(x, y, r).render(ctx); ballMove(); &#125;; function ballMove() &#123; timer = window.requestAnimationFrame(ballMove); if(!ball.move(ctx)) &#123; window.cancelAnimationFrame(timer); &#125; &#125; &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; Symbolä¸€èˆ¬å½“åšå”¯ä¸€çš„ key ä½¿ç”¨ï¼ŒSymbol ä¸èƒ½ä½¿ç”¨ new åŽ»è°ƒç”¨ 1234567891011121314let syml = Symbol('hello');let json = &#123; a: 'apple', b: 'bannana', [syml]: 'symbol'&#125;;// console.log(json[syml]); // symbol// ä¸èƒ½è¢« for in å‡ºæ¥for(let key in json)&#123; console.log(key); // a b&#125; 12345678910let obj = &#123; [Symbol()]: 123, name: 'aaayang'&#125;;let a = Object.getOwnPropertySymbols(obj);console.log(a); // [ Symbol() ]let b = obj[a[0]];// å¯è§å³ä½¿ä¸åœ¨å¤–é¢æŠŠ Symbol å½“åšä¸€ä¸ªå˜é‡ï¼Œä¹Ÿæ˜¯å¯ä»¥å¾—åˆ°å®ƒçš„å€¼çš„console.log(b); // 123 123456// è½¬æˆå­—ç¬¦ä¸²console.log( String(Symbol('test')) );console.log( Symbol('test').toString() );// è½¬å¸ƒå°”console.log( !!Symbol() ); generatoræ‰§è¡Œ generator å‡½æ•°è¿”å›žçš„æ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿ 1234567891011function* gen() &#123; yield 'hello'; yield 'world'; return 'last';&#125;let g1 = gen();console.log(g1.next());console.log(g1.next());// æœ€åŽä¸€ä¸ªçš„ done æ˜¯ä¸æ˜¯ true å–å†³äºŽ generator å‡½æ•°æœ€åŽæ˜¯ return è¿˜æ˜¯ yieldconsole.log(g1.next()); // &#123; value: "last", done: true &#125; for of éåŽ† 12345678910function * gen() &#123; yield 'hello'; yield 'world'; return 'last';&#125;let g1 = gen();for(let val of g1) &#123; console.log(val); // hello workdï¼Œreturn çš„ä¸œè¥¿ä¸ä¼šéåŽ†&#125; 123456789function * gen() &#123; yield 'hello'; yield 'world'; return 'last';&#125;let [a,b] = gen();console.log(a,b); // hello worldconsole.log(...gen()); // hello world 1234567function* gen() &#123; yield 'hello'; yield 'world'; return 'last';&#125;console.log(Array.from(gen())); // ['hello', 'world'] 1234567891011function* gen() &#123; let val = yield 'aaayang'; yield axios.get(`https://api.github.com/users/$&#123;val&#125;`);&#125;let g1 = gen();let username = g1.next().value; // aaayangg1.next(username).value.then(res =&gt; &#123; console.log(res);&#125;); Set/MapSet ç±»ä¼¼äºŽæ•°ç»„ï¼Œä¸é‡å¤ï¼Œå…¶å®žæ²¡æœ‰çœŸæ­£çš„ keyï¼Œæ‰€æœ‰ä¹Ÿå°±æ²¡æœ‰ get æ–¹æ³•ï¼Œå› ä¸º get è¦é€šè¿‡ key èŽ·å–çš„ Map ç±»ä¼¼äºŽ JSONï¼Œç›¸å¯¹äºŽ Set å¤šäº†ä¸ª get æ–¹æ³•ï¼Œå¦å¤– key å¯ä»¥æ˜¯ä»»æ„çš„å€¼ Setç›¸å½“äºŽ Python ä¸­çš„é›†åˆ 1234// æ•°æ®ç»“æž„// set: ç±»ä¼¼æ•°ç»„ï¼Œé‡Œé¢ä¸èƒ½æœ‰é‡å¤çš„å€¼let arr = ['a', 'b', 'c', 'a'];let set = new Set(arr); 12345// æ–¹æ³•set.add('xxx'); // æ·»åŠ set.delete('xxx'); // åˆ é™¤console.log(set.has('c')); // æ£€æµ‹set.clear(); // æ¸…ç©º 12// å±žæ€§console.log(set.size); // é•¿åº¦ 1234// å¾ªçŽ¯for(let item of set) &#123; console.log(item); // a, b, c&#125; 1234567891011121314// Set çš„ keys å’Œ values æ˜¯ä¸€æ ·çš„for (let item of set.keys()) &#123; console.log(item); // a, b, c&#125;// é»˜è®¤æ˜¯values()for(let item of set.values()) &#123; console.log(item); // a, b, c&#125;for(let item of set.entries()) &#123; console.log(item); // ["a", "a"], ["b", "b"] ...&#125;for(let [k, v] of set.entries()) &#123; console.log(k,v); // a a, b b ...&#125; 1234// set æœ‰ forEachset.forEach((val, index) =&gt; &#123; console.log(val, index);// a a, b b, c c ...&#125;); 12// å¯ä»¥é“¾å¼æ“ä½œ new set(arr).add().add()set.add('gg').add('bb'); 12345678// åŽ»é‡let xxx = ['1', '1', '2', '3', '3'];// Set æ•°æ®ç»“æž„å˜æˆæ•°ç»„é€šè¿‡ ...console.log([...new Set(xxx)]);// ä½¿ç”¨æ•°ç»„ä¸­çš„æ–¹æ³•let m = new Set([...new Set(xxx)].map(value =&gt; value * 2));console.log(m); 123456789101112// æ­£å¸¸Seté‡Œé¢æ”¾çš„æ•°ç»„// ä¹Ÿå¯ä»¥æ”¾å¯¹è±¡ï¼Œæœ€å¥½ç”¨weaksetlet j1 = &#123; name: 'aaa'&#125;;let j2 = &#123; age: 18&#125;;// æ³¨æ„æ˜¯ add è¿›åŽ»çš„let j3 = new Set().add(j1).add(j2);j3.forEach(val =&gt; console.log(val)); // &#123;name: "aaa"&#125; &#123;age: 18&#125; 123456789let wSet = new WeakSet();let json = &#123; name: 'aaa', age: 18&#125;;// å»ºè®®å­˜ jsonwSet.add(json);// æ²¡æœ‰ size æ²¡æœ‰ clearï¼Œæœ‰add, has, deleteconsole.log(wSet.size); // undefined ... Mapç›¸å½“äºŽ Python ä¸­çš„å­—å…¸ 12345678910// é—®é¢˜ï¼Œä¸ºå¯¹è±¡æ·»åŠ äº†ä¸¤æ¬¡ key(æ˜¯ä¸ªå¯¹è±¡)ï¼Œç»“æžœå´åªæœ‰åªæœ‰let data1 = &#123;a:1&#125;;let data2 = &#123;b:2&#125;;let obj = &#123;&#125;;// å¦‚æžœ key çš„å¯¹è±¡ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ toString()ï¼Œè€Œè¿™ä¸¤ä¸ªå¯¹è±¡ toString() åŽæ˜¯ä¸€æ ·çš„obj[data1] = 1;obj[data2] = 2;console.log(obj); // &#123; '[object Object]': 2 &#125; Map æ•°æ®ç»“æž„ï¼Œé”®çš„èŒƒå›´ä¸é™äºŽå­—ç¬¦ä¸²ï¼Œå¯¹è±¡ä¹Ÿå¯ä»¥ï¼Œæ˜¯ä¸€ç§æ›´å®Œå–„çš„ Hash ç»“æž„çš„å®žçŽ° 1234const map = new Map([ ['a', 1], // é”®æ˜¯a ï¼Œå€¼æ˜¯1 ['b', 2]]); 12345let map = new Map();// è®¾ç½®// map.set(key, value)console.log(map.set('name', 'aaa')); 12// å¯ä»¥é“¾å¼map.set('name', 'aaayang').set('age', 18); 123456789// map çš„ key å¯ä»¥æ˜¯ä»»æ„ç±»åž‹let json = &#123; a: 1&#125;;// key å¯ä»¥æ˜¯å¯¹è±¡console.log(map.set(json, 'aaa'));// èŽ·å–// set æ²¡æœ‰èŽ·å–ï¼Œåªèƒ½å¾ªçŽ¯console.log(map.get(json)); 123456map.delete('name'); // è¿”å›žtrue or false// åˆ¤æ–­console.log(map.has('name'));// æ¸…ç©ºmap.clear(); 123456789101112131415161718192021// é»˜è®¤ valuesfor(let [key,val] of map) &#123; console.log(key, val); // name aaa&#125;for(let key of map.keys()) &#123; console.log(key);&#125;for(let key of map.values()) &#123; console.log(key);&#125;for(let key of map.entries()) &#123; console.log(key);&#125;map.forEach((val, key) =&gt; &#123; console.log(val, key); // aaa name&#125;); 12345// WeakMap key åªèƒ½æ˜¯å¯¹è±¡let obj = &#123; name: 'aaa'&#125;;let weakMap = new WeakMap().set(obj, 'xxx'); ç»†èŠ‚1234// ä¼šè®¤ä¸º NaN æ˜¯ä¸€ä¸ªä¸œè¥¿let map = new Map();let a = map.set(NaN, '1').set(NaN, '2');console.log(a); // &#123;NaN =&gt; '2'&#125; 1234// ä¸¤ä¸ªç©ºå¯¹è±¡å°±ä¸æ˜¯ä¸€ä¸ªä¸œè¥¿äº†let map = new Map();let a = map.set(&#123;&#125;, '1').set(&#123;&#125;, '2');console.log(a); // &#123;&#123;&#125; =&gt; '1', &#123;&#125; =&gt; '2&#125; 1// map é‡Œé¢ key çš„æŽ’åˆ—é¡ºåºæ°¸è¿œæ˜¯æŒ‰ç…§æ·»åŠ çš„é¡ºåºè¿›è¡Œçš„ æ•°å€¼å˜åŒ–è¿›åˆ¶123// 0b ä»£è¡¨äºŒè¿›åˆ¶let a = 0b11;console.log(a); // 3 123// å…«è¿›åˆ¶let a = 0o11;console.log(a); // 0 Number Number.isNaN Number.isFiniteï¼Œæ˜¯å¦æ˜¯æ•°å­— Number.isIntegerï¼Œæ˜¯å¦æ˜¯æ•´æ•° Number.parseInt Number.parseFloat Number.isSafeInteger(253)ï¼Œæ˜¯å¦æ˜¯å®‰å…¨æ•´æ•°ã€-(253-1) ~ (2**53-1)ã€‘ Number.MAX_SAFE_INTEGERï¼Œæœ€å¤§å®‰å…¨æ•´æ•° Number.MAX_VALUE Math.trunc(1.23)ï¼Œæˆªå–ï¼Œåªä¿ç•™æ•´æ•°éƒ¨åˆ† Math.signï¼Œæ•´æ•°è¿”å›ž1ï¼Œè´Ÿæ•°è¿”å›ž-1ï¼Œ0è¿”å›ž0ï¼Œ-0è¿”å›ž-0 å¹‚è¿ç®—123// 2 çš„ 3 æ¬¡æ–¹console.log(Math.pow(2,3)); // 8console.log(2**3); // 8 å…³äºŽæ­£åˆ™å‘½åæ•èŽ·12345let str = '2018-08-25';let reg = /(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/;let arr = str.match(reg);let &#123;year, month, daty&#125; = arr.groups; 12345678let reg = /^(?&lt;aaayang&gt;welcome)-\k&lt;aaayang&gt;$/;// let reg = /^(?&lt;aaayang&gt;welcome)-\1$/;let str = 'a-a';let str2 = 'welcome-welcome';console.log(reg.test(str));console.log(reg.test(str2)); 123456let str = '2018-08-25';let reg = /(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/;// let a = str.replace(reg, '$2$1$3');let a = str.replace(reg, '$&lt;year&gt;/$&lt;month&gt;/$&lt;day&gt;');console.log(a); 12345678let str = '2018-08-25';let reg = /(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/;let a = str.replace(reg, (...args) =&gt; &#123; let &#123;year, month, day&#125; = args[args.length-1]; return `$&#123;year&#125;/$&#123;month&#125;/$&#123;day&#125;`;&#125;);console.log(a); 123// s ä¿®é¥°ç¬¦è®© . ä»£è¡¨æ‰€æœ‰let reg = /^\w.\w$/s;console.log(reg.test('w\nx')); // false]]></content>
  </entry>
  <entry>
    <title><![CDATA[å†è¯´äº‹ä»¶ç»‘å®š]]></title>
    <url>%2F2019%2F06%2F27%2FaddEventListener%2F</url>
    <content type="text"><![CDATA[å¤§å®¶éƒ½æ¸…æ¥šï¼Œå¸¸ç”¨çš„äº‹ä»¶ç»‘å®šæœ‰ä¸¤ç§å½¢å¼ï¼Œä¸€ç§æ˜¯ä¼ ç»Ÿç»‘å®šï¼Œä¾‹å¦‚ oBtn.onclick = fn; è¿˜æœ‰ä¸€ç§æ˜¯é€šè¿‡äº‹ä»¶ç›‘å¬ï¼Œä¾‹å¦‚ oBtn.addEventListener(&#39;click&#39;, fn, false); ä¸¤ç§ç»‘å®šæ–¹å¼æœ€å¤§çš„å·®å¼‚æˆ‘ç›¸ä¿¡å¤§å®¶ä¹Ÿæ¯”è¾ƒæ¸…æ¥šï¼Œå°±æ˜¯ä¼ ç»Ÿæ–¹å¼ç»™åŒä¸€å…ƒç´ ç»‘å®šå¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºæ—¶ç”Ÿæ•ˆçš„æ˜¯æœ€åŽçš„é‚£ä¸ªï¼ˆåŽé¢çš„è¦†ç›–å‰é¢çš„ï¼‰ï¼Œäº‹ä»¶ç›‘å¬çš„å½¢å¼ç»™åŒä¸€å…ƒç´ ç»‘å®šå¤šä¸ªä¸åŒçš„äº‹ä»¶å¤„ç†ç¨‹åºæ—¶éƒ½ä¼šç”Ÿæ•ˆã€‚ä½†æ˜¯åœ¨å…·ä½“ä½¿ç”¨æ—¶ç”¨ä»€ä¹ˆæ–¹å¼ç»‘ï¼Ÿç»‘å®šåœ¨è°èº«ä¸Šï¼ˆæ˜¯ç‚¹å‡»çš„å½“å‰å…ƒç´ è¿˜æ˜¯çˆ¶å…ƒç´ ï¼‰ï¼Ÿä»€ä¹ˆæ—¶å€™ç»‘ï¼ˆæ˜¯ç‚¹å‡»çš„æ—¶å€™ç»‘è¿˜æ˜¯ç¨‹åºåŠ è½½çš„æ—¶å€™ç»‘ï¼‰ï¼Ÿéƒ½æ˜¯ä½ éœ€è¦å…³æ³¨çš„ç»†èŠ‚ï¼Œè¿™é‡Œæˆ‘ä¸¾äº†ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜Žè¿™ä¸‰ä¸ªé—®é¢˜ï¼ åŸºæœ¬éœ€æ±‚ éœ€æ±‚ï¼šç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼ŒæŠŠ input æ¡†ä¸­çš„å†…å®¹æ”¾å…¥æ–°åˆ›å»ºçš„ liï¼Œå¹¶ç»™ li ä¸­æ·»åŠ åˆ é™¤æŒ‰é’®å¯ä»¥åˆ é™¤å½“å‰è¡Œï¼Œæœ€åŽæŠŠ li æ·»åŠ åˆ° ul ä¸­ï¼Œå¦‚ä¸Šå›¾ ä»£ç å®žçŽ°ï¼š 123&lt;input type="text"&gt;&lt;button&gt;æ·»åŠ &lt;/button&gt;&lt;ul style="width: 200px;"&gt;&lt;/ul&gt; 123456789101112131415161718192021222324252627var oInput = document.querySelector('input');var oBtn = document.querySelector('button');var oUl = document.querySelector('ul');oBtn.onclick = function() &#123; // åˆ›å»º li var oLi = document.createElement('li'); // ç»™ li æ·»åŠ å†…å®¹ oLi.innerHTML = oInput.value; // æ·»åŠ  li åˆ° ul oUl.appendChild(oLi); // åˆ›å»ºåˆ é™¤æŒ‰é’® span var oBtn = document.createElement('span'); // æ·»åŠ æ–‡å­— oBtn.innerHTML = 'åˆ é™¤'; // æ·»åŠ åˆ é™¤æŒ‰é’®åˆ° li oLi.appendChild(oBtn); // æ¯æ¬¡ç‚¹å‡»æ—¶é€‰æ‹©æ‰€æœ‰æŒ‰é’®ï¼Œå¹¶ç»‘å®šç‚¹å‡»äº‹ä»¶åšåˆ é™¤æ“ä½œ var aBtn = document.querySelectorAll('span'); for(var i = 0; i &lt; aBtn.length; i ++) &#123; aBtn[i].onclick = function() &#123; oUl.removeChild(this.parentNode); &#125;; &#125;&#125;; é—®é¢˜é‡çŽ°ä¸Šé¢åˆ é™¤å½“å‰åˆ—è¡¨çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬æ˜¯ç”¨æ™®é€šçš„äº‹ä»¶ç»‘å®šå½¢å¼(onclick)åŽ»åšçš„ï¼Œæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚æœ‰åŒå­¦å°è¯•ç”¨äº‹ä»¶ç›‘å¬çš„å½¢å¼(addEventListener)æ”¹å†™ä»£ç å¦‚ä¸‹ï¼š 123456var aBtn = document.querySelectorAll('span');for(var i = 0; i &lt; aBtn.length; i ++) &#123; aBtn[i].addEventListener('click', function() &#123; oUl.removeChild(this.parentNode); &#125;);&#125; ç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼Œå¢žåŠ äº† 2 ä¸ªæˆ–å¤§äºŽ 2 ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶å†åˆ é™¤éžæœ€åŽä¸€ä¸ªåˆ—è¡¨æ—¶ï¼ˆéžæœ€åŽä¸€ä¸ªè¿˜æ˜¯éžç¬¬ä¸€ä¸ªå–å†³äºŽæ˜¯ç”¨ appendChild è¿˜æ˜¯ insertBefore æ’å…¥çš„ï¼‰ï¼Œå´å‘çŽ°å‡ºçŽ°äº†é”™è¯¯ï¼æ‰“å¼€æŽ§åˆ¶å°æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼ˆåˆ é™¤äº†ä¸€ä¸ªä¸æ˜¯ oUl å­å…ƒç´ çš„èŠ‚ç‚¹ï¼‰ï¼š é—®é¢˜åˆ†æžç¬¬ 1 æ¬¡ç‚¹å‡»æŒ‰é’®æ·»åŠ å®ŒæˆåŽï¼Œä¼šé€šè¿‡ var aBtn = document.querySelectorAll(&#39;span&#39;); é€‰æ‹©æ‰€æœ‰çš„åˆ é™¤æŒ‰é’®ï¼Œç»‘å®šäº‹ä»¶ ç¬¬ 2 æ¬¡ç‚¹å‡»æ·»åŠ æŒ‰é’®å®ŒæˆåŽï¼Œä¼šé€šè¿‡ var aBtn = document.querySelectorAll(&#39;span&#39;); é€‰æ‹©æ‰€æœ‰çš„åˆ é™¤æŒ‰é’®ï¼Œç»‘å®šäº‹ä»¶ã€‚é—®é¢˜å°±å‡ºåœ¨è¿™é‡Œï¼Œé€‰æ‹©æ‰€æœ‰åˆ é™¤æŒ‰é’®å¹¶ç»‘å®šäº‹ä»¶çš„æ“ä½œï¼Œå…¶å®žåˆä¼šæŠŠä¹‹å‰å·²ç»ç»‘å®šäº‹ä»¶çš„å…ƒç´ å†æ¬¡ç»‘å®šäº†ä¸€æ¬¡ã€‚æ‰€ä»¥ç‚¹å‡»åˆ é™¤æŒ‰é’®æ—¶ä¼šå‘çŽ° oUl.removeChild(this.parentNode); æ‰§è¡Œäº†å¤šæ¬¡ï¼ˆå–å†³äºŽé‡å¤ç»‘å®šäº†å¤šå°‘æ¬¡ï¼‰ï¼Œç¬¬ 1 æ¬¡æ‰§è¡Œæ—¶å·²ç»æŠŠå½“å‰ li ä»Ž ul ä¸­ç§»é™¤ï¼Œä¸‹æ¬¡å†æ‰§è¡Œ oUl.removeChild(this.parentNode); æ—¶å…¶å®ž ul ä¸­å·²ç»æ²¡æœ‰äº†è¿™ä¸ª liï¼Œåˆ é™¤ä¸€ä¸ªä¸å­˜åœ¨çš„å­èŠ‚ç‚¹å°±ä¼šæŠ¥é”™ï¼ ç¬¬ 3 æ¬¡ç‚¹å‡»æ·»åŠ æŒ‰é’®å®ŒæˆåŽï¼ŒåŒç†â€¦ è§£å†³æ–¹æ¡ˆWay1: ä½¿ç”¨æ™®é€šçš„äº‹ä»¶ç»‘å®šå½¢å¼ï¼ˆonclickï¼‰ Way2: å¯¹äºŽåŒæ ·çš„äº‹ä»¶å¤„ç†ç¨‹åºç‹¬ç«‹å‡ºåŽ»å˜æˆåŒä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡ä¿è¯ç»‘å®šçš„æ˜¯åŒä¸€ä¸ªï¼ˆå‡½æ•°ï¼‰ï¼Œä¾‹å¦‚ï¼š 123456789var aBtn = document.querySelectorAll('span');for(var i = 0; i &lt; aBtn.length; i ++) &#123; // aBtn[i].removeEventListener('click', rm); // è¿™é‡Œå°±æ²¡æœ‰å¿…è¦è¿›è¡Œå…ˆè§£ç»‘äº†ï¼Œå› ä¸ºæ¯æ¬¡ç»‘å®šçš„æ˜¯åŒä¸€ä¸ª rmï¼Œä¼šè¦†ç›–æŽ‰ä¹‹å‰çš„ aBtn[i].addEventListener('click', rm);&#125;// æ³¨æ„è¿™é‡Œå·§å¦™çš„ç”¨åˆ°äº† e.target æŸ¥æ‰¾å½“å‰ç‚¹å‡»çš„å…ƒç´ ï¼Œä¸è¦è¯•å›¾é€šè¿‡ä¼ å‚çš„å½¢å¼ä½¿ç”¨ this æŸ¥æ‰¾å½“å‰å…ƒç´ ï¼function rm(e) &#123; oUl.removeChild(e.target.parentNode);&#125; Way3: å…¶å®žå‰é¢æ¯æ¬¡æ·»åŠ åˆ—è¡¨å°±é€šè¿‡ querySelectorAll é‡æ–°é€‰æ‹©æ‰€æœ‰åˆ é™¤æŒ‰é’®å¹¶ç»‘å®šäº‹ä»¶ï¼Œæœ¬èº«å°±æ˜¯ä¸€ä¸ªç³Ÿç³•çš„æ€è·¯ï¼å…¶å®žåªéœ€è¦æ‰¾åˆ°æœ€æ–°æ·»åŠ çš„é‚£ä¸€ä¸ªè¿›è¡Œäº‹ä»¶ç»‘å®šå°±å¯ä»¥äº†ï¼Œå¾€å‰æ’å…¥çš„è¯å¯ä»¥ç›´æŽ¥é€šè¿‡ var oBtn = document.querySelector(&#39;span&#39;); æ‰¾åˆ°æœ€æ–°æ·»åŠ çš„é‚£ä¸ªï¼Œå¾€åŽæ’å…¥çš„è¯ä»£ç å¦‚ä¸‹ï¼š 1234var oBtn = document.querySelectorAll('span')[oUl.children.length-1];oBtn.addEventListener('click', function() &#123; oUl.removeChild(this.parentNode);&#125;); é™¤äº†ä¸Šé¢é€šè¿‡å…ƒç´ é€‰æ‹©çš„æ–¹å¼æŸ¥æ‰¾æœ€æ–°æ·»åŠ çš„é‚£ä¸€ä¸ªï¼Œæœ€æ­£ç¡®çš„æ–¹å¼å…¶å®žæ˜¯æ ¹æœ¬ä¸ç”¨æŸ¥æ‰¾ï¼Œå®ƒå°±åœ¨é‚£é‡Œï¼æ¯æ¬¡æ·»åŠ åˆ—è¡¨çš„æ—¶å€™ï¼Œå½“å‰åˆ›å»ºçš„åˆ é™¤æŒ‰é’®å°±æ˜¯æœ€æ–°çš„ï¼Œç›´æŽ¥ç»™å…¶ç»‘å®šäº‹ä»¶å³å¯ï¼Œè¿™æ ·æ— è®ºæ˜¯ä»Žæ•ˆçŽ‡ï¼Œè¿˜æ˜¯ä»£ç ç®€æ´åº¦ä¸Šéƒ½æœ€ä½³ï¼Œä»£ç å¦‚ä¸‹ï¼š 1234567var oBtn = document.createElement('span');// ç»™ä¸€ä¸ªåˆ›å»ºçš„å…ƒç´ å•ç‹¬ç»‘å®šäº‹ä»¶ï¼Œè€Œä¸æ˜¯æ¯æ¬¡ç‚¹å‡»é€šè¿‡ querySelectorAll é€‰æ‹©çš„å½¢å¼oBtn.addEventListener('click', function() &#123; oUl.removeChild(this.parentNode);&#125;);oBtn.innerHTML = 'åˆ é™¤';oLi.appendChild(oBtn); Way4: ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼ŒæŽ¨èï¼ 1234567// æŠŠäº‹ä»¶ç»‘å®šåœ¨çˆ¶çº§ä¸ŠoUl.addEventListener('click', function(e) &#123; // æ ¹æ®ç‚¹å‡»å½“å‰å…ƒç´ çš„åå­—ï¼ˆæˆ–å…¶ä»–ï¼‰æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ spanï¼ˆå³åˆ é™¤æŒ‰é’®ï¼‰ï¼Œç„¶åŽåšç›¸åº”çš„æ“ä½œ if(e.target.nodeName.toLowerCase() === 'span') &#123; e.currentTarget.removeChild(e.target.parentNode); &#125;&#125;);]]></content>
      <categories>
        <category>Web API</category>
      </categories>
      <tags>
        <tag>addEventListener</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽæ•°ç»„å¡Œé™·]]></title>
    <url>%2F2019%2F06%2F23%2Fsplice%2F</url>
    <content type="text"><![CDATA[å…³äºŽæ•°ç»„çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œsplice ç®—æ˜¯æ¯”è¾ƒå¼ºå¤§çš„ä¸€ä¸ªï¼Œå®ƒèƒ½ç”¨æ¥åˆ é™¤ã€æ·»åŠ ã€æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå®žé™…å¼€å‘ä¸­éžå¸¸å®žç”¨ï¼ åŸºæœ¬è¯­æ³•123456// start: ä»Žå“ªé‡Œå¼€å§‹ï¼Œä¹Ÿæ”¯æŒè´Ÿå€¼ï¼Œ-n ç›¸å½“äºŽ arr.length - n// deleteCount: è¦åˆ é™¤å‡ ä¸ªï¼ˆå¯é€‰ï¼‰// item1, item2: è¦æ·»åŠ è¿›æ•°ç»„çš„å…ƒç´ ï¼ˆå¯é€‰ï¼‰// è¿”å›žå€¼: ä»¥æ•°ç»„çš„å½¢å¼è¿”å›žåˆ é™¤çš„é‚£äº›å…ƒç´ array.splice(start, deleteCount, item1, item2); ä»£ç æ¼”ç»ƒåˆ é™¤ï¼šä»Žç¬¬ 2 ä½å¼€å§‹ï¼Œåˆ é™¤ 2 ä¸ª 123var arr = ['apple', 'orange', 'banana', 'watermelon'];arr.splice(2, 2);console.log(arr); // ['apple', 'orange'] æ·»åŠ ï¼šä»Žç¬¬ 2 ä½å¼€å§‹ï¼Œåˆ é™¤ 0 ä¸ªï¼Œæ·»åŠ  ðŸ¤£ðŸ˜Ž 123var arr = ['apple', 'orange', 'banana', 'watermelon'];arr.splice(2, 0, 'ðŸ¤£', 'ðŸ˜Ž');console.log(arr); // ["apple", "orange", "ðŸ¤£", "ðŸ˜Ž", "banana", "watermelon"] æ›¿æ¢ï¼šä»Žç¬¬ 2 é¡¹å¼€å§‹ï¼Œåˆ é™¤ 2 é¡¹å¹¶æ·»åŠ ðŸŒå’ŒðŸ‰ 123var arr = ['apple', 'orange', 'banana', 'watermelon'];arr.splice(2, 2, 'ðŸŒ', 'ðŸ‰');console.log(arr); // ["apple", "orange", "ðŸŒ", "ðŸ‰"] æ•°ç»„å¡Œé™·éœ€æ±‚ï¼šåˆ©ç”¨ splice åˆ é™¤æ•°ç»„ä¸­çš„æŒ‡å®šå…ƒç´  1234var arr = ['apple', 'orange', 'banana', 'watermelon'];// ä»Ž 0 å¼€å§‹åˆ åˆ°æœ€åŽï¼Œå¹¶ä¸èƒ½æŒ‡å®šåˆ é™¤æŸä¸ªå…ƒç´ arr.splice(0);console.log(arr); // [] 1234567// åˆ é™¤æŒ‡å®šçš„æŸä¸ªå…ƒç´ æ—¶å°±éœ€è¦éåŽ†ï¼Œä½†æœ€ç»ˆçš„ç»“æžœå’Œæˆ‘ä»¬æƒ³çš„ä¸ä¸€æ ·ï¼var arr = ['apple', 'orange', 'banana', 'watermelon'];for(var i = 0; i &lt; arr.length; i ++) &#123; // ä»Žç¬¬ i ä¸ªå¼€å§‹ï¼Œåˆ é™¤ 1 ä¸ª arr.splice(i, 1);&#125;console.log(arr); // ["orange", "watermelon"] ä¸Šé¢çš„å†™æ³•åˆ ä¸å¹²å‡€ï¼Œå› ä¸º splice æ¯åˆ é™¤ä¸€ä¸ªå…ƒç´ å°±ä¼šæ”¹å˜åŽŸæ¥æ•°ç»„çš„ç´¢å¼•ä»¥åŠé•¿åº¦ï¼Œè€Œ i çš„å€¼æ°¸è¿œæ˜¯ä¸ªé€’å¢žçš„çŠ¶æ€ï¼Œä»£ç åˆ†æžå¦‚ä¸‹ï¼ˆå»ºè®®æ–­ç‚¹è°ƒè¯•ï¼‰ï¼š ç¬¬ 1 æ¬¡ i ç­‰äºŽ 0ï¼Œ arr.splice(0, 1) åŽçš„ç»“æžœæ˜¯ [â€˜orangeâ€™, â€˜bananaâ€™, â€˜watermelonâ€™]ï¼Œarr çš„ length å˜ä¸ºäº† 3ï¼› ç¬¬ 2 æ¬¡ i ç­‰äºŽ 1ï¼Œarr.splice(1, 1) åŽçš„ç»“æžœæ˜¯ [â€˜orangeâ€™, â€˜watermelonâ€™]ï¼Œarr çš„ length å˜ä¸ºäº† 2ï¼› ç¬¬ 3 æ¬¡ i ç­‰äºŽ 2ï¼Œ i &lt; arr.length æ¡ä»¶ä¸ºå‡ï¼Œç»“æŸå¾ªçŽ¯ï¼› è§£å†³æ–¹æ³•éœ€æ±‚ï¼šè§£å†³ä¸Šé¢åˆ©ç”¨ splice åˆ é™¤ä¸å¹²å‡€çš„é—®é¢˜ï¼ æ¯æ¬¡åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  1234567var arr = ['apple', 'orange', 'banana', 'watermelon'];for(var i = 0; i &lt; arr.length; i ++) &#123; arr.splice(i, 1); // æ¯æ¬¡åˆ é™¤åŽè¿›è¡Œ i--ï¼Œè¿™æ ·å°±èƒ½ä¿è¯åˆ é™¤çš„æ°¸è¿œéƒ½æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆè¯´ç¬¬ä¸€ä¸ªå…ƒç´ ä¸å¤ªå‡†ç¡®ï¼Œå–å†³äºŽiçš„å€¼å˜åŒ–åˆ°å“ªé‡Œäº†ï¼‰ i --;&#125;console.log(arr); // [] 1234// åŽŸç†å’Œä¸Šé¢ä¸€æ ·ï¼Œæ°¸è¿œåˆ é™¤æ•°ç»„æœ€å‰é¢é‚£ä¸ªå…ƒç´ while(arr.length) &#123; arr.splice(0, 1);&#125; å€’ç€åˆ  123456// å¯ä»¥é€šè¿‡æ–­ç‚¹è°ƒè¯•æŸ¥çœ‹ä»£ç æ‰§è¡Œè¿‡ç¨‹var arr = ['apple', 'orange', 'banana', 'watermelon'];for(var i = arr.length - 1; i &gt;= 0; i --) &#123; arr.splice(i, 1);&#125;console.log(arr); ä½¿ç”¨åœºæ™¯æ•°ç»„åŽ»é‡ï¼šæ¯æ¬¡ç”¨å½“å‰å…ƒç´ å’ŒåŽé¢çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æžœç›¸åŒå°±åˆ©ç”¨ splice åˆ é™¤æŽ‰åŽé¢ç›¸åŒçš„é‚£ä¸ªå…ƒç´  jï¼ˆæˆ–å½“å‰çš„ iï¼‰ 12345678910var arr = ['apple', 'apple', 'apple', 'orange', 'apple'];for(var i = 0; i &lt; arr.length; i ++) &#123; for(var j = i + 1; j &lt; arr.length; j ++) &#123; if(arr[i] === arr[j]) &#123; arr.splice(j, 1); // è§£å†³ splice åŽå¸¦æ¥çš„æ•°ç»„å¡Œé™·é—®é¢˜ j --; &#125; &#125;&#125; é¢˜ç›®æµ‹è¯•éœ€æ±‚ï¼šåœ¨æ•°ç»„ var arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]; æ¯ä¸€é¡¹çš„å‰é¢æ·»åŠ  @ å­—ç¬¦ 123456// Way1for(var i = arr.length - 1; i &gt;= 0; i --) &#123; arr.splice(i, 0, '@');&#125;console.log(arr); // ["@", "a", "@", "b", "@", "c", "@", "d"] 12345678// Way2for(var i = 0; i &lt; arr.length; i ++) &#123; arr.splice(i, 0, '@'); // ['@', 'a', 'b', 'c', 'd'] ä¸‹æ¬¡ 'b' çš„ç´¢å¼•å·²ç»æ˜¯ 2 äº†ï¼Œéœ€è¦å†æ¬¡è¿›è¡Œ i++ i++;&#125;console.log(arr); // ["@", "a", "@", "b", "@", "c", "@", "d"] 1234567// Way3for(var i = 0; i &lt; arr.length; i ++) &#123; arr.splice(i, 1, '@'+arr[i]);&#125;arr = arr.join('').split('');console.log(arr); // ["@", "a", "@", "b", "@", "c", "@", "d"] å…¶ä»–æ–¹æ³•ç”¨ splice åˆ é™¤æŒ‡å®šå…ƒç´ çš„ç›®çš„ï¼Œæ¢å¥è¯è¯´æ— éžæ˜¯æƒ³å¾—åˆ°æƒ³è¦çš„å…ƒç´ ï¼Œå…¶å®žæ•°ç»„ä¹Ÿæä¾›äº† filter æ–¹æ³•ï¼Œå¯ä»¥å¸®æˆ‘ä»¬ç­›é€‰å‡ºæƒ³è¦çš„æ•°ç»„å…ƒç´ ï¼ 12345// å…·ä½“ä½¿ç”¨çœ‹æ–‡æ¡£ï¼Œè¿™é‡Œä¸å†å•°å—¦äº†ï¼var arr = ['apple', 'orange', 'banana', 'watermelon'];// è¿”å›žä¸€ä¸ªæ–°çš„ã€ç”±é€šè¿‡æµ‹è¯•çš„å…ƒç´ ç»„æˆçš„æ–°æ•°ç»„var newArr = arr.filter(word =&gt; !word);console.log(newArr); // []]]></content>
      <categories>
        <category>JS åŸºç¡€</category>
      </categories>
      <tags>
        <tag>æ•°ç»„å¡Œé™·</tag>
        <tag>splice</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ ‡è®°è¯­å¥]]></title>
    <url>%2F2019%2F06%2F21%2Fjs-label%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰è¯¾ä¸Šåšè¿‡ä¸€ä¸ªè®¡ç®—å™¨çš„æ¡ˆä¾‹ï¼Œé€‰æ‹© 1ã€2ã€3ã€4 åŽä¼šå¯¹åŽé¢å¡«å…¥çš„æ•°å­—è¿›è¡Œå¯¹åº”çš„è¿ç®—å¹¶å¼¹å‡ºç»“æžœï¼Œç‚¹å‡»ç¡®å®šåŽåˆä¼šå›žåˆ°åˆå§‹ç•Œé¢ã€‚å¦‚æžœç”¨æˆ·åœ¨åˆå§‹ç•Œé¢è¾“å…¥çš„æ˜¯æ•°å­— 5ï¼Œç‚¹å‡»ç¡®å®šå°±ä¼šè¿›è¡Œé€€å‡ºæ“ä½œï¼Œä¸å†å›žåˆ°åˆå§‹ç•Œé¢äº†ï¼ å¯å®žçŽ°ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839// è¾“å…¥å†…å®¹å¹¶è¿”å›žfunction inputValue() &#123; var num1 = parseFloat(prompt('è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•°ï¼š')); var num2 = parseFloat(prompt('è¯·è¾“å…¥ç¬¬äºŒä¸ªæ•°ï¼š')); return [num1, num2];&#125;// ç›¸å½“äºŽåˆ›å»ºäº†ä¸€ä¸ªå¼€å…³ï¼Œé»˜è®¤å¼€å¯çŠ¶æ€var bBar = true;do &#123; var opration = prompt('è¯·é€‰æ‹©è¦è¿›è¡Œçš„è¿ç®—ï¼š\n1. åŠ æ³•è¿ç®—\n2. å‡æ³•è¿ç®—\n3. ä¹˜æ³•è¿ç®—\n4. é™¤æ³•è¿ç®—\n5. é€€å‡º'); opration = parseInt(opration); switch (opration) &#123; case 1: var arr = inputValue(); alert('ç›¸åŠ çš„ç»“æžœæ˜¯ï¼š' + (arr[0] + arr[1])); break; case 2: var arr = inputValue(); alert('ç›¸å‡çš„ç»“æžœæ˜¯ï¼š' + (arr[0] - arr[1])); break; case 3: var arr = inputValue(); alert('ç›¸ä¹˜çš„ç»“æžœæ˜¯ï¼š' + (arr[0] * arr[1])); break; case 4: var arr = inputValue(); alert('ç›¸é™¤çš„ç»“æžœæ˜¯ï¼š' + (arr[0] / arr[1])); break; case 5: alert('é€€å‡º...'); // å¦‚æžœç”¨æˆ·è¾“å…¥çš„æ˜¯ 5ï¼Œåˆ™å…³é—­å¼€å…³ï¼Œé‚£ä¸‹æ¬¡çš„å¾ªçŽ¯ bBar å°±æ˜¯ falseï¼Œwhile(bBar) ä¹Ÿå°±ä¸ä¼šæ‰§è¡Œäº† bBar = false; // é»˜è®¤åªä¼šé€€å‡ºå½“å‰çš„ switch break; &#125;&#125; while (bBar); å…¶å®žä¸Šé¢é€€å‡ºå¾ªçŽ¯çš„æ“ä½œä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡è®°è¯­å¥æ¥å®Œæˆï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç‚¹å‡»é“¾æŽ¥è¿›åŽ»å­¦ä¹ ä¸‹ï¼Œä¿®æ”¹åŽçš„ä»£ç å¦‚ä¸‹ï¼š 123456789101112// Step1: æŒ‡å®šæ ‡è®°ç‚¹loopPoint:do &#123; // ... switch (opration) &#123; // ... case 5: alert('é€€å‡º...'); // Step2: è·³åˆ°æ ‡è®°ç‚¹ break loopPoint; &#125;&#125; while (true); ä¸‹é¢æ˜¯æµ‹è¯•ä»£ç ï¼š 1234567891011121314var num = 0;for (var i = 0; i &lt; 6; i++) &#123; for (var j = 0; j &lt; 6; j++) &#123; // å½“ i ç­‰äºŽ 3 å¹¶ä¸” j ç­‰äºŽ 3 æ—¶ï¼Œä¼šç›´æŽ¥ break é‡Œé¢ä¸€å±‚çš„ for å¾ªçŽ¯ï¼Œç»§ç»­å¤–é¢çš„ for å¾ªçŽ¯ // å½“ i ç­‰äºŽ 3 æ—¶ï¼Œå¯¼è‡´ j å€¼ä¸º [3,6) ä¹‹é—´çš„æ²¡æœ‰è¿›è¡Œï¼Œnum å°‘åŠ äº† 3 æ¬¡ // æ‰€ä»¥æœ€ç»ˆçš„ num å€¼ä¸º 33 if (i == 3 &amp;&amp; j == 3) &#123; // è·³å‡ºå½“å‰å¾ªçŽ¯ break; &#125; num++; &#125;&#125;console.log(num); // æ‰“å°ç»“æžœæ˜¯å¤šå°‘ï¼Ÿ 1234567891011121314151617var num = 0;outerMark:for (var i = 0; i &lt; 6; i++) &#123; // å¤–å±‚ for å¾ªçŽ¯ï¼Œi ç­‰äºŽ 0 æ—¶ï¼Œé‡Œå±‚æ‰§è¡Œå®Œ 6 æ¬¡ // å¤–å±‚ for å¾ªçŽ¯ï¼Œi ç­‰äºŽ 1 æ—¶ï¼Œé‡Œå±‚æ‰§è¡Œå®Œ 6 æ¬¡ // å¤–å±‚ for å¾ªçŽ¯ï¼Œi ç­‰äºŽ 2 æ—¶ï¼Œé‡Œå±‚æ‰§è¡Œå®Œ 6 æ¬¡ // å¤–å±‚ for å¾ªçŽ¯ï¼Œi ç­‰äºŽ 3 æ—¶ï¼Œé‡Œå±‚å¾ªçŽ¯ j æ‰§è¡Œäº† 3 æ¬¡ [0, 3) // æœ€ç»ˆçš„ num å€¼æ˜¯ 21 for (var j = 0; j &lt; 6; j++) &#123; if (i == 3 &amp;&amp; j == 3) &#123; // è·³å‡ºåˆ° outerMark æ ‡è®°çš„åœ°æ–¹ break outerMark; &#125; num++; &#125;&#125;console.log(num); // æ‰“å°ç»“æžœæ˜¯å¤šå°‘ï¼Ÿ 123456789101112var num = 0;outerMark:for (var i = 0; i &lt; 6; i++) &#123; for (var j = 0; j &lt; 6; j++) &#123; if (i == 3 &amp;&amp; j == 3) &#123; // è·³å‡ºå¤–å±‚çš„å½“å‰å¾ªçŽ¯ï¼Œç»§ç»­ä¸‹æ¬¡ i++ continue outerMark; &#125; num++; &#125;&#125;console.log(num); // æ‰“å°ç»“æžœæ˜¯å¤šå°‘ï¼Ÿ]]></content>
      <categories>
        <category>JS åŸºç¡€</category>
      </categories>
      <tags>
        <tag>æ ‡è®°è¯­å¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç§»åŠ¨ç«¯å¸ƒå±€é‚£ç‚¹äº‹]]></title>
    <url>%2F2019%2F06%2F07%2Fmobile-layout%2F</url>
    <content type="text"><![CDATA[ä½œä¸ºå‰ç«¯ï¼Œåœ¨ä»Šå¤©æ¥è¯´ï¼Œç§»åŠ¨ç«¯å¸ƒå±€å¿…é¡»æ˜¯ä¸€ä»¶å¿…çŸ¥å¿…ä¼šçš„äº‹æƒ…ï¼Œé‡è¦ç¨‹åº¦ä¸è¨€è€Œå–»ï¼è¿™é‡Œæˆ‘æ€»ç»“äº†åŒä¸€æ¡ˆä¾‹ä¸‹ä¸åŒå¸ƒå±€çš„å†™æ³•ï¼ˆåŽŸç†å°±ä¸å†èµ˜è¿°ï¼Œç›´æŽ¥å³é”®æŸ¥çœ‹æºä»£ç å³å¯ï¼‰ï¼Œæ–¹ä¾¿å¤§å®¶å›žå¿†ã€‚ ç™¾åˆ†æ¯”å¸ƒå±€ç‰¹ç‚¹ï¼šå®½åº¦ç™¾åˆ†æ¯”ã€é«˜åº¦å†™æ­»ï¼ˆ750çš„è®¾è®¡ç¨¿ä¸‹ä¸€èˆ¬é™¤ä»¥2ï¼‰ã€‚ç¼ºç‚¹ï¼šé«˜åº¦æˆ–æ–‡å­—å¾ˆéš¾è‡ªé€‚åº”ã€‚ ä¸¾ä¾‹ Flexible å¸ƒå±€ç‰¹ç‚¹ï¼šå®½åº¦å¼¹æ€§å¸ƒå±€ã€é«˜åº¦å†™æ­»ã€‚ç¼ºç‚¹ï¼šé«˜åº¦æˆ–æ–‡å­—è¿˜æ˜¯å¾ˆéš¾è‡ªé€‚åº”ã€‚ä¼˜ç‚¹ï¼šçµæ´»ã€ç®€æ´ã€‚ ä¸¾ä¾‹ REM å¸ƒå±€åŽŸç†ï¼šä¸åŒå°ºå¯¸å±å¹•ä¸‹ç»™æ ¹å…ƒç´ è®¾ç½®ä¸åŒçš„æ–‡å­—å¤§å°ï¼ˆåˆ©ç”¨åª’ä½“æŸ¥è¯¢æˆ–JSï¼‰ï¼Œå®½ã€é«˜ã€é—´è·â€¦éƒ½ç»Ÿä¸€ä½¿ç”¨ REM å•ä½ã€‚ä½¿ç”¨ï¼šé‡å–åˆ°çš„è®¾è®¡ç¨¿å°ºå¯¸é™¤ä»¥æ ¹å…ƒç´ å­—ä½“å¤§å°ï¼ˆåŸºå‡†å€¼ï¼‰å³å¯ï¼Œä¾‹å¦‚ä½¿ç”¨ flexible.jsï¼Œ150px ç”¨ rem è¡¨ç¤ºå°±æ˜¯ 2remã€‚ä¼˜ç‚¹ï¼šé«˜åº¦å’Œæ–‡å­—å¯ä»¥è‡ªé€‚åº”ã€‚ æ³¨æ„ em æ˜¯ç›¸å¯¹äºŽå½“å‰å…ƒç´ çš„å­—ä½“å¤§å°ï¼ˆå¦‚æžœå½“å‰å…ƒç´ æ²¡æœ‰è®¾ç½®å­—ä½“å¤§å°é‚£å°±æ˜¯ç»§æ‰¿è¿‡æ¥çš„å¤§å°ï¼‰çš„å•ä½ã€‚ ä¸¾ä¾‹ å“åº”å¼å¸ƒå±€åŽŸç†ï¼šåˆ©ç”¨ bootstrap çš„æ …æ ¼ç³»ç»Ÿï¼ˆæ ¸å¿ƒè¿˜æ˜¯åª’ä½“æŸ¥è¯¢ï¼‰ï¼Œä¸åŒå°ºå¯¸ä¸‹è®¾ç½®ä¸åŒçš„æ ·å¼ï¼Œå®žçŽ° PC å’Œç§»åŠ¨ç«¯å¸ƒå±€ä½¿ç”¨åŒä¸€å¥—ä»£ç ï¼åœºæ™¯ï¼šé€‚ç”¨äºŽç›¸å¯¹ç®€å•çš„é¡µé¢ï¼Œå¤æ‚é¡µé¢ä¸‹çš„å“åº”å¼å¼€å‘æˆæœ¬å¤ªé«˜ã€‚]]></content>
      <categories>
        <category>ç§»åŠ¨ Web å¼€å‘</category>
      </categories>
      <tags>
        <tag>ç§»åŠ¨ç«¯å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[steps(number[, end | start])]]></title>
    <url>%2F2019%2F05%2F31%2Fsteps%2F</url>
    <content type="text"><![CDATA[ç¼˜èµ·CSS3 ä¸­ç”¨äºŽè®¾ç½®åŠ¨ç”»çš„ animation è¯­æ³•å¦‚ä¸‹ï¼š 1animation: name duration timing-function delay iteration-count direction; å…¶ä¸­ï¼Œtiming-function å–å€¼å¦‚ä¸‹ï¼š 1timing-function: linear / ease / ease-in / ease-out / ease-in-out / cubic-bezier() / steps() ä¸Šé¢ timing-function çš„å–å€¼é™¤äº† steps() éƒ½ä»£è¡¨è¡¥é—´åŠ¨ç”»ï¼ˆçº¿æ€§åŠ¨ç”»ï¼‰ï¼Œsteps() ä»£è¡¨å¸§åŠ¨ç”»ï¼Œæœ‰æ—¶å€™ä¸€äº›åŠ¨ç”»æ•ˆæžœå¿…é¡»ç”¨å®ƒæ‰èƒ½å®žçŽ°ï¼Œä¾‹å¦‚ä¸Šé¢å›¾å¥”è·‘çš„åŠ¨ç‰©æ˜¯æˆ‘ä»¬æ›¾ç»åšè¿‡çš„åŠ¨ç”»ï¼Œå°±æ˜¯é€šè¿‡ steps() é…åˆæ”¹å˜é›ªç¢§å›¾ï¼ˆ1600pxå®½ï¼‰çš„ä½ç½®å®žçŽ°çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678@keyframes aniSelf &#123; 0% &#123; background-position: 0 0; &#125; 100% &#123; background-position: -1600px 0; &#125;&#125; 123.wolf&#123; animation: aniSelf 1s steps(8) infinite;&#125; ä¸Šé¢ä»£ç ç¡®å®žèƒ½å®žçŽ°é¢„æœŸçš„æ•ˆæžœï¼Œä½†ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰è¿™æ ·ä¸€ä¸ªç–‘é—®ï¼šå½“èƒŒæ™¯ä½ç½®ä¸º background-position: -1600px 0; æ—¶ï¼Œå›¾ç‰‡åœ¨ç›’å­ä¸­åº”è¯¥æ˜¯çœ‹ä¸åˆ°çš„æ‰å¯¹ï¼ˆå› ä¸ºå›¾ç‰‡æ€»å…±æ˜¯1600pxï¼Œè¿™æ ·åˆšå¥½æ˜¯å›¾ç‰‡çš„æœ€å³è¾¹å¡åˆ°ç›’å­çš„æœ€å·¦è¾¹ï¼‰ï¼Œä½†ä¸ºä»€ä¹ˆåŠ¨ç”»è¿˜èƒ½æ­£å¸¸è·‘èµ·æ¥ï¼Œè€Œæ²¡æœ‰å‡ºçŽ°ç©ºç™½çš„é—®é¢˜å‘¢ï¼Ÿ è¦è§£ç­”ä¸Šé¢çš„ç–‘é—®ï¼Œæˆ‘ä»¬å°±è¦æ˜Žç™½å…³äºŽ steps(number[, end | start]) å‚æ•°çš„å«ä¹‰ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¤§å®¶éƒ½çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œè¡¨ç¤ºåœ¨æ¯ä¸ªé—´éš”çš„èµ·ç‚¹æˆ–æ˜¯ç»ˆç‚¹å‘ç”Ÿé˜¶è·ƒå˜åŒ–ï¼Œå¦‚æžœå¿½ç•¥ï¼Œé»˜è®¤æ˜¯ endã€‚ çœ‹å®Œä¸Šé¢åŠ ç²—éƒ¨åˆ†çš„å®šä¹‰ï¼Œæˆ‘ä¸çŸ¥é“ä½ ä½œä½•æ„Ÿæƒ³â€¦ðŸ˜£ æˆ‘çš„æ„Ÿæ€§è®¤è¯†æˆ‘çš„ç†è§£ï¼šsteps() ç¬¬äºŒä¸ªå‚æ•°å¦‚æžœæ˜¯ end åˆ™ä»£è¡¨å¿½ç•¥ç»“æŸå¸§ï¼Œå¦‚æžœæ˜¯ start åˆ™ä»£è¡¨å¿½ç•¥å¼€å§‹å¸§ï¼Œå¦‚ä½•ç†è§£è¿™å¥è¯å‘¢ï¼Ÿ ä¸Šé¢æ˜¯ä¸€å¼  50 * 200 çš„å›¾ç‰‡ï¼Œä½œä¸º 50 * 50 ç›’å­çš„èƒŒæ™¯å›¾ï¼Œæˆ‘æƒ³å®žçŽ°åœ¨ hover ç›’å­çš„æ—¶å€™èƒŒæ™¯ä»Ž A å˜åŒ–åˆ° A çš„é€å¸§åŠ¨ç”»ã€‚ç”±äºŽæˆ‘ä»¬çŸ¥é“ steps(4, end) æ—¶ä¼šå¿½ç•¥æœ€åŽä¸€å¸§ï¼ŒåŠ¨ç”»èµ°å®Œæ—¶æ²¡æœ‰ forwardsï¼Œåˆä¼šå›žåˆ°åˆå§‹çŠ¶æ€ï¼Œæ•…å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•æ¥å®žçŽ°ï¼š 1234567891011121314151617181920.box &#123; border: 1px solid #333; width: 50px; height: 50px; background: url(./images/steps.png) no-repeat;&#125;.box:hover &#123; /* åˆ†ä¸º 4 æ­¥æ¥å®Œæˆï¼Œä¼šå¿½ç•¥æœ€åŽä¸€æ­¥ background-position: 0 -150px; åˆ° background-position: 0 -200px; è¿™ä¸ªåŒºé—´ï¼ */ animation: way1 2s steps(4);&#125;@keyframes way1 &#123; 0% &#123; background-position: 0 0; &#125; 100% &#123; background-position: 0 -200px; &#125;&#125; ä¸Šé¢ä»£ç å…¶å®žå°±æ˜¯å’Œæˆ‘ä»¬è¯¾ä¸Šå®žçŽ°åŠ¨ç‰©è¿åŠ¨çš„ä»£ç æ˜¯ä¸€æ ·çš„æ€è·¯ï¼Œé‚£å¦‚æžœæˆ‘æŠŠä¸Šé¢çš„ä»£ç æ”¹ä¸º steps(4, start) ä¼šæ€Žæ ·çš„ï¼Œæ ¹æ®æˆ‘ä»¬ä¹‹å‰çš„ç»“è®ºï¼Œstart ä¼šå¿½ç•¥ç¬¬ä¸€å¸§ï¼Œä¹Ÿå°±æ˜¯ hover ä¸Šçš„ä¸€åˆ¹é‚£å°±ä¼šå®šä½åˆ° Bï¼Œç„¶åŽä¹Ÿä¼šèµ° background-position: 0 -150px; åˆ° background-position: 0 -200px; æœ€åŽä¸€å¸§è¿™ä¸ªåŒºé—´ï¼Œå³ä¼šå‡ºçŽ°ç©ºç™½ï¼Œæœ€åŽåˆå›žåˆ°åˆå§‹çŠ¶æ€ Aï¼Œå¯è§ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ã€‚ æˆ‘å°±æƒ³ç”¨ startå¦‚æžœå®žåœ¨æƒ³ç”¨ start å¯ä»¥æ”¹å†™ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314/* Step1: åˆ†ä¸º 3 æ­¥èµ° */.box:hover &#123; animation: way1 2s steps(3, start);&#125;/* Step2: æœ€åŽä¸€å¸§çš„ä½ç½®æ”¹æˆä¸¥ä¸åˆç¼çš„æœ€åŽä¸€æ ·å›¾ç‰‡ */@keyframes way1 &#123; 0% &#123; background-position: 0 0; &#125; 100% &#123; background-position: 0 -150px; &#125;&#125; æ³¨æ„ï¼šä»¥ä¸Šä»£ç è™½ç„¶èƒ½å®žçŽ° hover æ—¶èƒŒæ™¯ä»Ž Aã€Bã€Cã€D åˆ° A çš„å˜æ¢ï¼Œä½†å¹¶ä¸æŽ¨èè¿™æ ·åšï¼Œå› ä¸º hover çš„ä¸€åˆ¹é‚£ A åˆ° B çš„å˜æ¢æ˜¯æ²¡æœ‰åŠ¨ç”»çš„ï¼ˆé€å¸§åŠ¨ç”»ä¹Ÿæ˜¯åŠ¨ç”»ï¼‰ å…¶ä»–å†™æ³•æ³¨æ„çœ‹æˆ‘çš„æ³¨é‡Šéƒ¨åˆ†ï¼ 123456789101112131415161718192021.box &#123; border: 1px solid #333; width: 50px; height: 50px; /* Step1: èƒŒæ™¯é‡å¤ï¼ */ background: url(./images/steps.png) repeat-y;&#125;.box:hover &#123; /* Step2: è¿™æ—¶å€™ steps ç¬¬äºŒä¸ªå‚æ•°æ˜¯ start or end åªæ˜¯å¼€å§‹æ—¶ç¬¬ä¸€å¸§æœ‰æ²¡æœ‰åŠ¨ç”»çš„åŒºåˆ«ï¼Œå¹¶ä¸ä¼šå‡ºçŽ°ç©ºç™½äº†ï¼Œå› ä¸ºèƒŒæ™¯å¹³é“ºäº† */ animation: way1 2s steps(4);&#125;@keyframes way1 &#123; 0% &#123; background-position: 0 0; /* A */ &#125; 100% &#123; background-position: 0 -200px; /* A */ &#125;&#125; 123456789/* è®¾ç½®æ˜¯è¿™æ ·çš„å†™æ³• */@keyframes way1 &#123; 0% &#123; background-position: 0 200px; /* A */ &#125; 100% &#123; background-position: 0 0px; /* A */ &#125;&#125; å…¶ä»–å±žæ€§å¯¹ step çš„å½±å“å½“ steps() ç¬¬äºŒä¸ªå‚æ•°ä¸º end æ—¶ä¼šå¿½ç•¥ç»“æŸå¸§ï¼Œä½† animation-fill-mode: forwards; æ˜¯ä¼šå½±å“ steps() çš„è¡¨çŽ°çš„ï¼Œä¾‹å¦‚æˆ‘æƒ³è®©ä¸€ä¸ªç›’å­ä»Ž 0 è¿åŠ¨åˆ° 100ï¼Œå¯å†™ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516.box&#123; width: 100px; height: 100px; background-color: pink; position: absolute; top: 70px; animation: move 3s steps(5) forwards;&#125;@keyframes move &#123; 0%&#123; left: 0; &#125; 100%&#123; left: 100px; &#125;&#125; ç»“æžœå¦‚ä¸‹ï¼š è¯´å¥½çš„ steps() ç¬¬äºŒä¸ªå‚æ•°ä¸º end æ—¶ä¼šå¿½ç•¥æœ€åŽä¸€å¸§ï¼Œä½†æœ€åŽå´åœåœ¨äº† 100px çš„ä½ç½®ä¸Šï¼Œè¯´æ˜Ž animation-fill-mode ä¸º forwards æ—¶ä¼šå¯¹ steps() å¸§åŠ¨ç”»é€ æˆå½±å“ï¼Œä»¥ forwards ä¸ºå‡†ï¼å½“ç„¶ä½ å¦‚æžœåˆè®¾ç½®äº† infiniteï¼Œé‚£ forwards ä¹Ÿå°±â€œå¤±æ•ˆâ€äº†â€¦ å†æ¥ä¸ªå°æ —å­ç‚¹æˆ‘åŽ»è¿œæ–¹]]></content>
      <categories>
        <category>HTML5/CSS3</category>
      </categories>
      <tags>
        <tag>steps()</tag>
        <tag>å¸§åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ç±»åž‹æ£€æµ‹çš„ N ä¸­æ–¹å¼]]></title>
    <url>%2F2019%2F05%2F26%2Fjudge-type%2F</url>
    <content type="text"><![CDATA[ä»Ž JS åŸºç¡€ç¬¬ä¸€å¤©å¼€å§‹ï¼Œæˆ‘ä»¬å°±å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ typeof åŽ»åˆ¤æ–­æ•°æ®ç±»åž‹ï¼Œå­¦ä¹ æž„é€ å‡½æ•°æ—¶æˆ‘ä»¬åˆè¯´äº† constructor ä»¥åŠ instanceof ä¹Ÿå¯ä»¥åŽ»è¿›è¡Œç±»åž‹æ£€æµ‹ï¼Œåˆ° JS é«˜çº§æ—¶è¿˜è®²äº† Object.prototype.toString() æ–¹æ³•ä¹Ÿå¯ä»¥åŽ»åˆ¤æ–­æ•°æ®ç±»åž‹ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™ä¹ˆå¤šæ–¹æ³•å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆå¼‚åŒå—ï¼Ÿä¸åŒåœºæ™¯ä¸‹è¯¥æ€Žæ ·ä½¿ç”¨æ‰æ¯”è¾ƒåˆé€‚å‘¢ï¼Ÿ æ•°æ®ç±»åž‹çŸ¥å¤šå°‘æ—¢ç„¶è¦æ£€æµ‹æ•°æ®ç±»åž‹ï¼Œé¦–å…ˆè¦æ˜Žç¡® JS ä¸­çš„æ•°æ®ç±»åž‹æœ‰ä»¥ä¸‹ 7 ç§ï¼š ç®€å•æ•°æ®ç±»åž‹ï¼šNumberã€Stringã€Booleanã€Nullã€Undefinedã€Symbolï¼ˆES6ï¼‰ å¤æ‚æ•°æ®ç±»åž‹ï¼šObjectï¼ˆåŒ…æ‹¬å‡½æ•°ã€æ•°ç»„ã€å¯¹è±¡ã€æ­£åˆ™ã€æ—¥æœŸç­‰ï¼‰ typeoftypeof å®ƒçš„ä½¿ç”¨æ–¹æ³•æœ‰ä¸¤ç§ï¼š 1234// å¯ä»¥ä¸å¸¦æ‹¬å·ï¼Œç›´æŽ¥è·Ÿæ•°æ®console.log(typeof 36);// ä¹Ÿå¯ä»¥å¸¦æ‹¬å·console.log(typeof(36)); typeof çš„è¿”å›žå€¼æ°¸è¿œæ˜¯ä¸€ä¸ªå…¨å°å†™å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š 1console.log(typeof (typeof (typeof 66))); // string typeof çš„è¿”å›žå€¼é™¤äº†ä¸Šé¢ 7 ç§æ•°æ®ç±»åž‹å¤–ï¼Œè¿˜å¤šäº†ä¸€ä¸ª functionï¼Œä¾‹å¦‚ï¼š 12function test() &#123;&#125;console.log(typeof test); // function æ€»ç»“ï¼š é™¤äº† Nullï¼ˆè¿”å›ž objectï¼‰ï¼Œtypeof å¯¹äºŽåŸºæœ¬æ•°æ®ç±»åž‹éƒ½èƒ½è¿”å›žæ­£ç¡®çš„ç»“æžœ é™¤äº† Functionï¼ˆè¿”å›ž functionï¼‰ï¼Œtypeof å¯¹äºŽå¤æ‚æ•°æ®ç±»åž‹éƒ½è¿”å›ž object ç¼ºç‚¹ï¼š typeof å¯¹äºŽå¤æ‚æ•°æ®ç±»åž‹çš„å¤„ç†ï¼Œåªèƒ½è¿”å›žå¤„äºŽåŽŸåž‹é“¾æœ€é¡¶ç«¯çš„ Object ç±»åž‹ï¼Œä¸èƒ½ç»†åˆ† constructoræ–°å»ºä¸€ä¸ªï¼ˆæž„é€ ï¼‰å‡½æ•° Fn æ—¶ï¼ŒJS å¼•æ“Žä¼šç»™è‡ª Fn æ·»åŠ ä¸€ä¸ª prototype å±žæ€§ï¼Œprototype ä¸‹åˆæœ‰ä¸€ä¸ª constructor æŒ‡å‘ Fn å‡½æ•°ï¼Œå¯ç”¨å¦‚ä¸‹ä»£ç è¡¨ç¤ºï¼š 12function Fn() &#123;&#125;console.log(Fn.prototype.constructor === Fn); // true å½“æˆ‘ä»¬æ‰§è¡Œ new Fn æ¥åˆ›å»º Fn çš„å®žä¾‹åŽï¼Œè¿™ä¸ªå®žä¾‹çš„ constructor ä¹Ÿå°±æŒ‡å‘ Fnï¼Œå¦‚ä¸‹ï¼š 1234function Fn() &#123;&#125;var f1 = new Fn;// f1 ä¸‹æœ¬æ²¡æœ‰ constructorï¼Œè‡ªå·±æ²¡æœ‰åˆ™ä¼šé€šè¿‡åŽŸåž‹é“¾å‘ä¸ŠæŸ¥æ‰¾åˆ° Fn.prototype ä¸Šconsole.log(f1.constructor === Fn); // true å¦‚æ­¤ä¸€æ¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ constructor æ¥åˆ¤æ–­æŸä¸ªå®žä¾‹å¯¹è±¡å…·ä½“çš„ç±»åž‹ï¼ˆæ¥æºï¼‰ï¼Œä¾‹å¦‚ä¸Šé¢ä»£ç ä»ŽåŽŸåž‹é“¾çš„è§’åº¦æ¥è¯´ f1 çš„ç±»åž‹ï¼ˆæ¥æºï¼‰å°±æ˜¯ Fnã€‚ åŒæ ·çš„é“ç†ï¼Œå…¶ä»–æ•°æ®çš„ä¹Ÿå¯ä»¥é€šè¿‡ constructor æ¥åˆ¤æ–­å…·ä½“çš„ç±»åž‹ï¼Œå®ƒå¯ä»¥è§£å†³ typeof å¯¹åº”å¤æ‚æ•°æ®ç±»åž‹çš„åˆ¤æ–­æ— èƒ½ä¸ºåŠ›çš„é—®é¢˜ï¼Œæµ‹è¯•å¦‚ä¸‹ï¼š 1234567console.log([].constructor === Array); // trueconsole.log(new Date().constructor === Date); // trueconsole.log(new Function().constructor === Function);console.log(''.constructor === String);console.log(true.constructor === Boolean);console.log(new Error().constructor === Error);console.log(document.constructor === HTMLDocument); constructor çš„å°é—®é¢˜ï¼š null å’Œ undefined ä¸Šæ²¡æœ‰ constructor è¿™å±žæ€§ï¼Œä¸èƒ½é€šè¿‡ constructor æ¥åˆ¤æ–­ å½“ prototype è¢«ä¸å°å¿ƒé‡å†™åŽï¼Œä¼šå¯¼è‡´ constructor åˆ¤æ–­ä¸å‡†ç¡®çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼š 1234567891011function Test() &#123;&#125;var t1 = new Test;console.log(t1.constructor === Test); // true// é‡å†™åŽŸåž‹ä¼šå¯¼è‡´ Test.prototype.constructor æŒ‡å‘ä¸æ­£ç¡®// å½“ç„¶å¯¹åº”çš„å®žä¾‹å¯¹è±¡åœ¨ç”¨ constructor åŽ»åˆ¤æ–­ç±»åž‹çš„æ—¶å€™ä¹Ÿå°±ä¼šæŒ‡å‘ä¸æ­£ç¡®Test.prototype = &#123; showAge: function() &#123;&#125;&#125;;var t2 = new Test();console.log(t2.constructor === Test); // false instanceofå®ƒä¸»è¦ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦èƒ½å¤Ÿé€šè¿‡åŽŸåž‹é“¾æ‰¾åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„åŽŸåž‹ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä¾‹å¦‚ï¼š 12// [] å¯ä»¥é€šè¿‡ __proto__ æ‰¾åˆ° Array.prototypeï¼Œæ‰€ä»¥ç»“æžœæ˜¯ trueconsole.log([] instanceof Array); 123// [].__proto__.__proto__ === Object.prototype// è¯´æ˜Ž [] ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡åŽŸåž‹é“¾æ‰¾è¿‡ Object çš„åŽŸåž‹ï¼Œæ‰€ä»¥ä¸‹é¢ç»“æžœä¹Ÿæ˜¯ trueconsole.log([] instanceof Object); æ‰€ä»¥å¤§å®¶ä¹Ÿçœ‹åˆ°äº†ï¼Œinstanceof å¹¶ä¸èƒ½å‡†ç¡®çš„æ‰¾åˆ°æŸä¸ªå®žä¾‹çš„ç±»åž‹ï¼Œä½†å®ƒç›¸å¯¹äºŽ constructor æœ‰è¿™æ ·ä¸€ä¸ªç‰¹ç‚¹ï¼Œå³ä¾¿æž„é€ å‡½æ•°çš„åŽŸåž‹è¢«é‡å†™åŽï¼Œå®žä¾‹ä¹Ÿèƒ½é€šè¿‡ instanceof åŽ»åˆ¤æ–­è‡ªå·±çš„ç±»åž‹ï¼Œä¾‹å¦‚ï¼š 1234567function Test() &#123;&#125;Test.prototype = &#123; showAge: function() &#123;&#125;&#125;;var t1 = new Test();console.log(t1 instanceof Test); // trueconsole.log(t1 instanceof Object); // å½“ç„¶å¯¹åº”é¡¶çº§å¯¹è±¡ Object ä¹Ÿæ˜¯ trueï¼Œè¿˜æ˜¯ä¸èƒ½å‡†ç¡®åˆ¤æ–­å°±æ˜¯ Test ç±»åž‹ instanceof è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜éœ€è¦ä½ æ³¨æ„çš„ï¼Œå½“é¡µé¢ä¸­å¼•å…¥ iframe æ—¶ï¼Œå®žä¾‹åŒ– iframe çª—å£ä¸‹çš„å¯¹è±¡å’Œå½“å‰çª—å£ä¸‹ç›¸å¯¹åº”çš„æž„é€ å‡½æ•°è¿›è¡Œ instanceof åˆ¤æ–­æ—¶ä¹Ÿä¼šå‡ºçŽ°é—®é¢˜ã€‚ä¾‹å¦‚ï¼š 1234567891011var oFrame = document.createElement('iframe');document.body.appendChild(oFrame);// ifame çª—å£ä¸‹å®žä¾‹åŒ–çš„ arrvar arr = new window.frames[0].Array;console.log(arr instanceof window.frames[0].Array); // trueconsole.log(arr instanceof Array); // false// é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜ ES5 æä¾›äº† Array.isArray() è¿™ä¸ªæ–¹æ³•è¿›è¡Œåˆ¤æ–­console.log(Array.isArray(arr)); // true Object.prototype.toStringä»–è¿”å›žçš„ä¿¡æ¯æ ¼å¼æ˜¯ [object Xxx]ï¼ˆæ³¨æ„ç¬¬ä¸€ä¸ª X æ˜¯å¤§å†™ï¼‰ï¼Œå¯¹äºŽ {} ç›´æŽ¥è°ƒç”¨ toString æ—¢å¯ä»¥è¿”å›ž [object Object]ï¼Œå…¶ä»–ç±»åž‹éœ€è¦å€ŸåŠ© call/apply æ–¹æ³•åŽ»è°ƒç”¨ï¼Œä¾‹å¦‚ï¼š 12345678910111213// ä¹Ÿå¯ä»¥æŠŠ Object.prototype æ›¿æ¢æˆ &#123;&#125;// å› ä¸ºè°ƒç”¨ &#123;&#125; ä¸‹çš„ toString() æ–¹æ³•ï¼Œè‡ªå·±æ²¡æœ‰ä¼šé€šè¿‡åŽŸåž‹é“¾åŽ» Object.prototype ä¸Šé¢æ‰¾console.log(Object.prototype.toString.call(233)); // [object Number]console.log(Object.prototype.toString.call('233')); // [object String]console.log(Object.prototype.toString.call(true)); // [object Boolean]console.log(Object.prototype.toString.call(null)); // [object Null]console.log(Object.prototype.toString.call(undefined)); // [object Undefined]console.log(Object.prototype.toString.call(Symbol())); // [object Symbol]console.log(Object.prototype.toString.call([])); // [object Array]console.log(Object.prototype.toString.call(new Function)); // [object Function]console.log(Object.prototype.toString.call(new Date)); // [object Date]console.log(Object.prototype.toString.call(new RegExp)); // [object RegExp] å¯è§ Object.prototype.toString() ç®€ç›´å¤ªå¥½ç”¨å•¦ï¼ŒæŽ¨èä½¿ç”¨ï¼]]></content>
      <categories>
        <category>JS é«˜çº§</category>
      </categories>
      <tags>
        <tag>åˆ¤æ–­æ•°æ®ç±»åž‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å½¢å¼]]></title>
    <url>%2F2019%2F05%2F25%2Fsnake-question%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ è´ªåƒè›‡æ—¶ï¼Œå¾€è›‡èº«ä½“å¢žåŠ æœ€åŽä¸€èŠ‚ï¼Œå½“æ—¶ä»£ç æ˜¯ç›´æŽ¥è¿™æ ·å†™çš„ this.body.push({ x: last.x, y: last.y, color: last.color })ï¼Œæœ‰äº›åŒå­¦é—® last è¿™ä¸ªå˜é‡ä¿å­˜çš„æ•°æ®å’Œ { x: last.x, y: last.y, color: last.color } â€œé•¿çš„ä¸€æ ·â€ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç›´æŽ¥ this.body.push(last) å‘¢ï¼Ÿ åŸºæœ¬æ•°æ®ç±»åž‹å­˜å‚¨è¦è¯´æ¸…æ¥šä¸Šé¢çš„é—®é¢˜ï¼Œé¦–å…ˆå¤§å®¶è¦æ˜Žç™½ä¸åŒæ•°æ®ç±»åž‹åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å½¢å¼æ˜¯æ€Žæ ·çš„ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ JS ä¸­çš„æ•°æ®ç±»åž‹åˆ†ä¸º 2 å¤§ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š åŸºæœ¬æ•°æ®ç±»åž‹ï¼šNumberã€Stringã€Booleanã€Nullã€Undefinedã€Symbol(ES6) å¤æ‚æ•°æ®ç±»åž‹ï¼šObject(åŒ…æ‹¬æ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ã€æ­£åˆ™) å…¶ä¸­åŸºæœ¬æ•°æ®ç±»åž‹å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­ï¼Œä»–ä»¬æ˜¯æŒ‰å€¼å­˜æ”¾çš„ï¼Œä¾‹å¦‚ï¼š 1234var age1 = 18;var age2 = age1;age2 = 20;console.log(age1, age2); // 18 20 ä¸Šé¢ä»£ç åœ¨å†…å­˜ä¸­çš„è¡¨çŽ°å½¢å¼å¦‚ä¸‹ï¼š å¤æ‚æ•°æ®ç±»åž‹å­˜å‚¨å¤æ‚æ•°æ®ç±»åž‹çš„çœŸå®žæ•°æ®æ˜¯å­˜æ”¾åœ¨å †å†…å­˜ä¸­çš„ï¼Œå˜é‡ä¿å­˜çš„åªæ˜¯åœ¨æ ˆå†…å­˜ä¸­çš„ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘å †å†…å­˜ä¸­æ•°æ®ã€‚ä¾‹å¦‚ï¼š 1234var obj1 = &#123; age: 18 &#125;;var obj2 = obj1;obj2.age = 20; // obj2 æ˜¯æ”¹å˜å †å†…å­˜ä¸­çš„åŒä¸€ä»½æ•°æ®console.log(obj1.age); // æ‰€ä»¥ obj1 çš„æ•°æ®ä¹Ÿè¢«å½±å“äº†ï¼Œç»“æžœæ˜¯ 20 ä¸Šé¢ä»£ç åœ¨å†…å­˜ä¸­çš„è¡¨çŽ°å½¢å¼å¦‚ä¸‹ï¼š è§£é‡Šè´ªåƒè›‡çš„é—®é¢˜è®²è´ªåƒè›‡æ—¶ï¼Œå…³äºŽè›‡å¦‚ä½•åƒåˆ°é£Ÿç‰©æˆ‘ä»¬è¯´äº†è¿™ä¹ˆä¸€æ®µè¯ï¼šåœ¨è›‡è¿åŠ¨æ—¶ï¼Œåˆ¤æ–­è›‡å¤´çš„åæ ‡æ˜¯å¦ä¸Žé£Ÿç‰©çš„åæ ‡å»åˆï¼Œå¦‚æžœå»åˆï¼Œåˆ™å¾€è›‡èº«ä½“åŽå¢žåŠ ä¸€èŠ‚ï¼Œç„¶åŽå†éšæœºé£Ÿç‰©çš„åæ ‡å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678if (headX === food.x &amp;&amp; headY === food.y) &#123; // Step1: èŽ·å–è›‡çš„æœ€åŽä¸€èŠ‚ var last = this.body[this.body.length - 1]; // Step2: æ·»åŠ åˆ°èº«ä½“çš„æœ€åŽ this.body.push(&#123; x: last.x, y: last.y, color: last.color &#125;); // Step3: éšæœºéšæœºé£Ÿç‰©åæ ‡ food.render(map);&#125; å¦‚æžœç›´æŽ¥ this.body.push(last) çš„è¯ï¼Œç›¸å½“äºŽæ¯æ¬¡æ·»åŠ çš„è¿˜æ˜¯å †å†…å­˜ä¸­çš„åŒä¸€ä¸ª lastï¼Œé‚£åœ¨ä¸‹æ¬¡ move ä¿®æ”¹æ•°æ®çš„æ—¶å€™å°±ä¼šç›¸äº’å½±å“ï¼Œæ— è®ºä½ å¾€åŽé¢ push å¤šå°‘é¡¹ lastï¼Œåœ¨ä¿®æ”¹åˆ°æœ€å‰é¢çš„ three æ—¶ä¹Ÿä¼šæŠŠåŽé¢çš„ç»™ä¿®æ”¹æŽ‰ï¼ˆå› ä¸ºéƒ½æ˜¯å †å†…å­˜ä¸­çš„åŒä¸€ä»½æ•°æ®ï¼‰ï¼Œæ‰€ä»¥ä½ çœ‹åˆ°çš„ç»“æžœæ˜¯åŽé¢çš„æ•°æ®éƒ½æ˜¯é‡å¤çš„ï¼Œå¯¹åº”åˆ°é¡µé¢ä¸Šä¹Ÿå°±æ˜¯æœ€åŽä¸€èŠ‚çš„å…ƒç´ éƒ½æ˜¯è¦†ç›–åœ¨ä¸€èµ·çš„ã€‚æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š 12345678910var one = &#123;x: 26, y: 14, color: "red"&#125;;var two = &#123;x: 25, y: 14, color: "blue"&#125;;var three = &#123;x: 24, y: 14, color: "blue"&#125;;var arr = [one, two, three, three];for (var i = arr.length - 1; i &gt; 0; i--) &#123; arr[i].x = arr[i - 1].x; arr[i].y = arr[i - 1].y;&#125;console.log(arr); è¯¥å¦‚ä½•è§£å†³12345678910111213141516171819var arr = [ &#123;x: 26, y: 14, color: "red"&#125;, &#123;x: 25, y: 14, color: "blue"&#125;, &#123;x: 24, y: 14, color: "blue"&#125;];var last = arr[arr.length - 1];// æ¯æ¬¡é€ ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡var newObj = &#123; x: last.x, y: last.y, color: last.color &#125;;// æˆ–è€…æ‹·è´åŽŸæ¥çš„å¯¹è±¡// var newObj = JSON.parse(JSON.stringify(last));arr.push(newObj);for (var i = arr.length - 1; i &gt; 0; i--) &#123; arr[i].x = arr[i - 1].x; arr[i].y = arr[i - 1].y;&#125;console.log(arr);]]></content>
      <categories>
        <category>JS é«˜çº§</category>
      </categories>
      <tags>
        <tag>è´ªåƒè›‡</tag>
        <tag>å¼•ç”¨ç±»åž‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS ä¸­çš„éšå¼è½¬æ¢]]></title>
    <url>%2F2019%2F05%2F24%2Finvisible-transform%2F</url>
    <content type="text"><![CDATA[JS ä¸­æœ‰ä¸ªâ€œç»å…¸â€çš„é¢è¯•é¢˜ï¼šè¯·é—® [] == ![] çš„ç»“æžœæ˜¯ä»€ä¹ˆï¼Ÿä¸€çœ¼çœ‹ä¸ŠåŽ»è‚¯å®šæ˜¯ falseï¼Œä½†ç»“æžœå´æ˜¯ trueï¼Œè¦æ¸…æ¥šä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Œå°±è¦äº†è§£ JS åœ¨è¿›è¡Œæ•°æ®æ¯”è¾ƒæ—¶çš„éšå¼è½¬æ¢è§„åˆ™æ˜¯æ€Žæ ·çš„ï¼Ÿ æ³¨ï¼šé™¤äº†å¯¹æœ¬é—®é¢˜çš„è§£é‡Šéƒ¨åˆ†ï¼Œå…¶ä»–éƒ½æ¥è‡ª JavaScript é«˜çº§ç¨‹åºè®¾è®¡ï¼Œå»ºè®®çœ‹ä¹¦ï¼æˆ‘è¿™é‡Œæ‘˜å‡ºäº†å…¶ä¸­ä¸¤ç‚¹ï¼Œæ¥ä½œä¸ºå¯¹å¸¸è§é—®é¢˜çš„è§£é‡Šï¼Œå…¶å®žè¿˜æœ‰å…¶ä»–ç»†èŠ‚æˆ–ç‰¹æ®Šæ³¨æ„çš„åœ°æ–¹ï¼Œå»ºè®®åœ¨ç²¾åŠ›å……æ²›çš„æƒ…å†µä¸‹å¯ä»¥è‡ªå·±åŽ»æŽ¢ç´¢ï¼ ç›¸ç­‰æ“ä½œç¬¦è§„åˆ™åœ¨è½¬æ¢ä¸åŒçš„æ•°æ®ç±»åž‹æ—¶ï¼Œç›¸ç­‰å’Œä¸ç›¸ç­‰æ“ä½œç¬¦éµå¾ªä¸‹åˆ—åŸºæœ¬è§„åˆ™ï¼š 1 . å¦‚æžœæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™åœ¨æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰å…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼ï¼Œfalse è½¬æ¢ä¸º 0ï¼Œè€Œ true è½¬æ¢ä¸º 12 . å¦‚æžœä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°æ˜¯æ•°å€¼ï¼Œåœ¨æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼3 . å¦‚æžœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°ä¸æ˜¯ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ valueOf()æ–¹æ³•ï¼Œç”¨å¾—åˆ°çš„åŸºæœ¬ç±»åž‹å€¼æŒ‰ç…§å‰é¢çš„è§„åˆ™è¿›è¡Œæ¯”è¾ƒ è¿™ä¸¤ä¸ªæ“ä½œç¬¦åœ¨è¿›è¡Œæ¯”è¾ƒæ—¶åˆè¦éµå¾ªä¸‹åˆ—ç‰¹æ®Šçš„æƒ…å†µï¼š 1 . null å’Œ undefined æ˜¯ç›¸ç­‰çš„2 . è¦æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰ï¼Œä¸èƒ½å°† null å’Œ undefined è½¬æ¢æˆå…¶ä»–ä»»ä½•å€¼3 . å¦‚æžœæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯ NaNï¼Œåˆ™ç›¸ç­‰æ“ä½œç¬¦è¿”å›ž falseï¼Œè€Œä¸ç›¸ç­‰æ“ä½œç¬¦è¿”å›ž trueã€‚é‡è¦æç¤ºï¼šå³ä½¿ä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯ NaNï¼Œç›¸ç­‰æ“ä½œç¬¦ä¹Ÿè¿”å›ž falseï¼›å› ä¸ºæŒ‰ç…§è§„åˆ™ï¼ŒNaN ä¸ç­‰äºŽ NaN4 . å¦‚æžœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯å¯¹è±¡ï¼Œåˆ™æ¯”è¾ƒå®ƒä»¬æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æžœä¸¤ä¸ªæ“ä½œæ•°éƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ç›¸ç­‰æ“ä½œç¬¦è¿”å›ž trueï¼›å¦åˆ™ï¼Œè¿”å›ž false å…³ç³»æ“ä½œç¬¦è§„åˆ™å½“å…³ç³»æ“ä½œç¬¦çš„æ“ä½œæ•°ä½¿ç”¨äº†éžæ•°å€¼æ—¶ï¼Œä¹Ÿè¦è¿›è¡Œæ•°æ®è½¬æ¢æˆ–å®ŒæˆæŸäº›å¥‡æ€ªçš„æ“ä½œã€‚ä»¥ä¸‹å°±æ˜¯ç›¸åº”çš„è§„åˆ™ï¼š 1 . å¦‚æžœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯æ•°å€¼ï¼Œåˆ™æ‰§è¡Œæ•°å€¼æ¯”è¾ƒ2 . å¦‚æžœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹åº”çš„å­—ç¬¦ç¼–ç å€¼3 . å¦‚æžœä¸€ä¸ªæ“ä½œæ•°æ˜¯æ•°å€¼ï¼Œåˆ™å°†å¦ä¸€ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºä¸€ä¸ªæ•°å€¼ï¼Œç„¶åŽæ‰§è¡Œæ•°å€¼æ¯”è¾ƒ4 . å¦‚æžœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ valueOf()æ–¹æ³•ï¼Œç”¨å¾—åˆ°çš„ç»“æžœæŒ‰ç…§å‰é¢çš„è§„åˆ™æ‰§è¡Œæ¯”è¾ƒã€‚å¦‚æžœå¯¹è±¡æ²¡æœ‰ valueOf()æ–¹æ³•ï¼Œåˆ™è°ƒç”¨ toString()æ–¹æ³•ï¼Œå¹¶ç”¨å¾—åˆ°çš„ç»“æžœæ ¹æ®å‰é¢çš„è§„åˆ™æ‰§è¡Œæ¯”è¾ƒ5 . å¦‚æžœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™å…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼ï¼Œç„¶åŽå†æ‰§è¡Œæ¯”è¾ƒ è§£é‡Š [] == ![]1[] == ![] Step1: ! çš„ä¼˜å…ˆçº§æ¯” == é«˜ï¼Œå…ˆæ‰§è¡Œ ![]ï¼Œé™¤äº† nullã€undefinedã€â€™â€™ã€NaNã€0 éƒ½æ˜¯ trueï¼Œæ‰€ä»¥ ![] æ˜¯ false 1[] == false Step2: å‚è€ƒç›¸ç­‰æ“ä½œç¬¦æ¯”è¾ƒçš„ç¬¬ 1 æ¡è§„åˆ™ï¼Œå¦‚æžœæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™åœ¨æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰å…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼ï¼Œæ•…ç»“æžœå¦‚ä¸‹ï¼š 1[] == 0 Step3: å‚è€ƒç›¸ç­‰æ“ä½œç¬¦æ¯”è¾ƒçš„ç¬¬ 3 æ¡è§„åˆ™ï¼Œè°ƒç”¨å¯¹è±¡çš„ valueOf() æ–¹æ³•å¾—åˆ°åŽŸå§‹å€¼ï¼Œå¹¶å°†åŽŸå§‹å€¼è½¬æ¢ä¸ºæ•°å­—ç»“æžœå¦‚ä¸‹ï¼š 1Number([].valueOf()) == 0]]></content>
      <categories>
        <category>JS åŸºç¡€</category>
      </categories>
      <tags>
        <tag>éšå¼è½¬æ¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§¦å‘å…¨é€‰æŒ‰é’®çš„å‡ ç§æ€è·¯]]></title>
    <url>%2F2019%2F05%2F22%2Fselect-all%2F</url>
    <content type="text"><![CDATA[éœ€æ±‚ï¼šç‚¹å‡»å…¨é€‰ï¼Œé€‰ä¸­ä¸Šé¢æ‰€æœ‰çš„åˆ—è¡¨é¡¹ï¼›ç‚¹å‡»åˆ—è¡¨é¡¹ä¸­çš„æ¯ä¸€ä¸ªæ°´æžœï¼Œå¦‚æžœæœ‰æœªé€‰ä¸­åˆ™å–æ¶ˆå…¨é€‰æŒ‰é’®ï¼Œå¦‚æžœéƒ½é€‰ä¸­äº†åˆ™æ¿€æ´»å…¨é€‰æŒ‰é’®ã€‚ å¸¸è§„æ“ä½œç‚¹å‡»æ¯ä¸ªåˆ—è¡¨é€‰é¡¹æ—¶ï¼ŒéåŽ†æ‰€æœ‰åˆ—è¡¨é€‰é¡¹å¹¶æ£€æŸ¥æ˜¯å¦æœ‰æœªé€‰ä¸­çš„ï¼Œå¦‚æžœæœ‰åˆ™å¯ä»¥ç¡®å®šå…¨é€‰æŒ‰é’®çš„çŠ¶æ€ä¸ºæœªé€‰ä¸­ï¼Œå¦åˆ™å…¨é€‰æŒ‰é’®ç½®ä¸ºé€‰ä¸­ã€‚ 1234567891011121314151617181920212223242526272829303132var oAllInput = document.querySelector('#all');var aInput = document.querySelectorAll('ul input');// ç‚¹å‡»å…¨é€‰ input æ—¶æ ¹æ®è‡ªå·±çš„çŠ¶æ€æ¥æŽ§åˆ¶å…¶ä»–åˆ—è¡¨é¡¹çš„ inputoAllInput.onchange = function() &#123; for(var i = 0; i &lt; aInput.length; i ++) &#123; aInput[i].checked = this.checked; &#125;&#125;;// æ¯æ¬¡ç‚¹å‡»æ¯ä¸€ä¸ªåˆ—è¡¨é¡¹çš„ input æ—¶ï¼Œåˆ¤æ–­å…¨é€‰çš„ input æ˜¯å¦éœ€è¦è¢«é€‰ä¸­for(var i = 0; i &lt; aInput.length; i ++) &#123; aInput[i].onclick = function() &#123; if (!this.checked) &#123; // å¦‚æžœå½“å‰ç‚¹å‡»çš„æŒ‰é’®æœªé€‰ä¸­ï¼Œé‚£å°±å¯ä»¥ç›´æŽ¥ç¡®å®šå…¨é€‰æŒ‰é’®çš„çŠ¶æ€äº† oAllInput.checked = false; // ä¹Ÿå°±æ²¡æœ‰å¿…è¦è¿›è¡Œä¸‹åŽ»äº† return; &#125; var bBar = true; for(var i = 0; i &lt; aInput.length; i ++) &#123; // å‘çŽ°æœ‰ä¸€ä¸ªæ²¡é€‰ä¸­çš„ if(!aInput[i].checked) &#123; bBar = false; // å‘çŽ°æœ‰ä¸€ä¸ªæ²¡é€‰ä¸­çš„ä¹Ÿå°±å¯ä»¥æ–­å®š oAllInput çš„çŠ¶æ€äº†ï¼Œå°±æ²¡æœ‰å¿…è¦å†è¿›è¡Œä¸‹åŽ»äº† // å½“ç„¶ä½ ä¸å†™ break é€»è¾‘ä¸Šä¹Ÿæ˜¯å¯¹çš„ï¼Œåªæ˜¯å­˜åœ¨æ€§èƒ½æµªè´¹ break; &#125; &#125; oAllInput.checked = bBar; &#125;;&#125; æ³¨æ„ç»†èŠ‚æ€è·¯å’Œä¸Šé¢ä¸€æ ·ï¼Œä¸‹é¢çš„å†™æ³•ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šç‚¹å‡»åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹è¿›è¡Œå¾ªçŽ¯æ—¶ï¼Œç¢°åˆ°æœªé€‰ä¸­çš„ä¸€å®šè¦è·³å‡ºå¾ªçŽ¯ï¼Œä¸ç„¶å‰é¢å…¨é€‰æŒ‰é’®çš„çŠ¶æ€éƒ½ä¼šè¢«æœ€åŽä¸€ä¸ªæŒ‰é’®çš„çŠ¶æ€æ‰€è¦†ç›–ã€‚ 12345678910111213141516171819for (var i = 0; i &lt; aInput.length; i++) &#123; aInput[i].onclick = function () &#123; if (!this.checked) &#123; // å¦‚æžœå½“å‰ç‚¹å‡»çš„æŒ‰é’®æœªé€‰ä¸­ï¼Œé‚£å°±å¯ä»¥ç›´æŽ¥ç¡®å®šå…¨é€‰æŒ‰é’®çš„çŠ¶æ€äº† oAllInput.checked = false; // ä¹Ÿå°±æ²¡æœ‰å¿…è¦è¿›è¡Œä¸‹åŽ»äº† return; &#125; for (var i = 0; i &lt; aInput.length; i++) &#123; if (!aInput[i].checked) &#123; oAllInput.checked = false; // è¿™é‡Œçš„ break æ˜¯å¿…é¡»è¦åŠ çš„ï¼ä¸ç„¶å…¨é€‰æŒ‰é’®çš„çŠ¶æ€æ°¸è¿œæ˜¯ä»¥æœ€åŽä¸€ä¸ªçš„é€‰ä¸­çŠ¶æ€ä¸ºå‡†ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çš„ break; &#125; else &#123; oAllInput.checked = true; &#125; &#125; &#125;;&#125; å…¶ä»–æ–¹æ³•æ¯æ¬¡ç‚¹å‡»åˆ—è¡¨ä¸­çš„æŒ‰é’®æ—¶ï¼ŒèŽ·å–æ‰€æœ‰å·²é€‰ä¸­ input çš„é•¿åº¦ï¼Œå¹¶åˆ¤æ–­å·²é€‰ä¸­ input çš„ length æ˜¯å¦ç­‰äºŽæ‰€æœ‰ input çš„ lengthï¼Œå¦‚æžœç›¸ç­‰ï¼Œå°±å¯ä»¥æ¿€æ´»å…¨é€‰æŒ‰é’®å•¦ï¼Œå¦åˆ™åˆ™å–æ¶ˆå…¨é€‰ã€‚ 1234567891011for (var i = 0; i &lt; aInput.length; i++) &#123; aInput[i].onclick = function () &#123; var aInputChecked = document.querySelectorAll('ul input:checked'); // å·²é€‰ä¸­ length ç­‰äºŽæ‰€æœ‰ length å°±è¯æ˜Žå…¨é€‰ä¸­äº†ï¼Œä¹Ÿå°±å¯ä»¥æ¿€æ´»å…¨é€‰æŒ‰é’®å•¦ if (aInputChecked.length === aInput.length) &#123; oAllInput.checked = true; &#125; else &#123; oAllInput.checked = false; &#125; &#125;;&#125;]]></content>
      <categories>
        <category>Web API</category>
      </categories>
      <tags>
        <tag>å…¨é€‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŽ’ä»–æ€æƒ³]]></title>
    <url>%2F2019%2F05%2F21%2Fkill-other%2F</url>
    <content type="text"><![CDATA[ä¸Šè¯¾æˆ‘ä»¬åœ¨åšç‚¹å‡»å½“å‰æŒ‰é’®é«˜äº®ï¼Œå…¶ä»–æŒ‰é’®é‡ç½®ä¸ºé»˜è®¤é¢œè‰²çš„éœ€æ±‚æ—¶ï¼Œç”¨åˆ°äº†â€œæŽ’ä»–æ€æƒ³â€ï¼Œæ€è·¯æ˜¯ï¼šç¬¬ä¸€æ­¥ï¼Œå…ˆå¹²æŽ‰æ‰€æœ‰çš„ï¼›ç¬¬äºŒæ­¥ï¼Œå†æ“ä½œè‡ªå·±çš„ï¼Œç®€å•æ˜Žäº†ï¼Œç›¸ä¿¡å¤§å®¶éƒ½æ¯”è¾ƒæ¸…æ¥šäº†ï¼è¿™é‡Œæˆ‘å†ç»™å¤§å®¶åšä¸ªæ€»ç»“ï¼Œé¡ºä¾¿å†æ‹“å±•ä¸€ä¸‹å…¶ä»–çš„å®žçŽ°æ€è·¯ ~ æŽ’å®Œæ€æƒ³éœ€æ±‚ï¼šæœ‰ 5 ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»å½“å‰æŒ‰é’®å˜çº¢ï¼Œå…¶ä»–æŒ‰é’®æ¢å¤é»˜è®¤é¢œè‰² 123456&lt;!-- HTML ç»“æž„ --&gt;&lt;button&gt;1&lt;/button&gt;&lt;button&gt;2&lt;/button&gt;&lt;button&gt;3&lt;/button&gt;&lt;button&gt;4&lt;/button&gt;&lt;button&gt;5&lt;/button&gt; 123456789101112var aBtn = document.querySelectorAll('button');for(var i = 0; i &lt; aBtn.length; i ++) &#123; aBtn[i].onclick = function() &#123; // Step1: å…ˆå¹²æŽ‰æ‰€æœ‰äººï¼Œâ€œæŽ’å®Œâ€ for(var i = 0; i &lt; aBtn.length; i ++) &#123; aBtn[i].style.backgroundColor = ''; &#125; // Step2: å†æ“ä½œè‡ªå·±çš„ this.style.backgroundColor = 'red'; &#125;;&#125; æŽ’å…„æ€æƒ³1234567&lt;script src="https://cdn.bootcss.com/jquery/3.4.0/jquery.min.js"&gt;&lt;/script&gt;&lt;script&gt;$("button").on("click", function() &#123; // å…ˆæ“ä½œè‡ªå·±çš„ï¼Œå†å¹²æŽ‰æ‰€æœ‰çš„å…„å¼Ÿï¼Œâ€œæŽ’å…„â€ $(this).css("background", "red").siblings().css("background", "");&#125;);&lt;/script&gt; æŽ’ä¸Šæ€æƒ³1234567891011121314var aBtn = document.querySelectorAll('button');var prev = 0;for (var i = 0; i &lt; aBtn.length; i++) &#123; aBtn[i].index = i; aBtn[i].onclick = function () &#123; // Step1: å…ˆå¹²æŽ‰ä¸Šä¸€ä¸ªï¼Œâ€œæŽ’ä¸Šâ€ aBtn[prev].style.backgroundColor = ""; // Step2: å†æ“ä½œè‡ªå·±çš„ this.style.backgroundColor = 'red'; // Step3: æ“ä½œå®Œåˆ«å¿˜äº†æŠŠè‡ªå·±ä¹Ÿå˜æˆâ€œä¸Šä¸€ä¸ªâ€ prev = this.index; &#125;;&#125;]]></content>
      <categories>
        <category>Web API</category>
      </categories>
      <tags>
        <tag>æŽ’ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¤æ¸… Node.appendChild()]]></title>
    <url>%2F2019%2F05%2F19%2FappendChild%2F</url>
    <content type="text"><![CDATA[Node.appendChild() æ–¹æ³•ç”¨äºŽå°†ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ åˆ°æŒ‡å®šçˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹åˆ—è¡¨çš„æœ«å°¾ï¼Œä½†åœ¨å…·ä½“ä½¿ç”¨æ—¶è¿˜æœ‰å…¶ä»–ä¸€äº›éœ€è¦æˆ‘ä»¬å…³æ³¨çš„ç»†èŠ‚ï¼Œä»¥åŠå¯¹åº”çš„åº”ç”¨åœºæ™¯ã€‚ å¸¸è§„æ“ä½œå¤§å®¶éƒ½æ¸…æ¥š appendChild å¯ä»¥æŠŠåˆ›å»ºå¥½çš„å…ƒç´ æ’å…¥åˆ°å¦ä¸€ä¸ªå…ƒç´ å†…å®¹çš„æœ€åŽé¢ï¼Œå¸¸è§„æ“ä½œå¦‚ä¸‹ï¼š 123456// åˆ›å»ºå…ƒç´ var oDiv = document.createElement('div');// ç»™åˆ›å»ºå¥½çš„å…ƒç´ åŠ ç‚¹å†…å®¹oDiv.innerHTML = 'hello world';// æ·»åŠ åˆ° body é‡Œé¢document.body.appendChild(oDiv); éœ€è¦æ³¨æ„ä¸Šé¢ä»£ç å¿…ç„¶æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†è¿™é‡Œè¿˜æœ‰ä¸€ç‚¹éœ€è¦å¤§å®¶æ³¨æ„çš„æ˜¯ï¼ŒappendChild åœ¨æ’å…¥å·²å­˜åœ¨å…ƒç´ çš„æ—¶å€™å…¶å®žæ˜¯åšäº†ä¸¤ä»¶äº‹çš„ï¼š å…ˆæŠŠåŽŸæ¥å·²å­˜åœ¨çš„å…ƒç´ åˆ é™¤ å†è¿›è¡ŒåŽç»­çš„æ·»åŠ æ“ä½œ å…·ä½“æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå¤§å®¶çœ‹ä¸‹é¢çš„ä¾‹å­å°±æ¸…æ¥šäº†ã€‚éœ€æ±‚ï¼šæ¯æ¬¡ç‚¹å‡»æŒ‰é’®æŠŠä¸Šé¢ ul ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ç§»åŠ¨åˆ°ä¸‹é¢çš„ ul ä¸­ï¼š 1234567891011121314151617181920&lt;ul id="ul1"&gt; &lt;li&gt;aaa&lt;/li&gt; &lt;li&gt;bbb&lt;/li&gt; &lt;li&gt;ccc&lt;/li&gt; &lt;li&gt;ddd&lt;/li&gt;&lt;/ul&gt;&lt;button id="btn"&gt;æ’å…¥ä¸‹é¢&lt;/button&gt;&lt;ul id="ul2"&gt;&lt;/ul&gt;&lt;script&gt;// é€‰æ‹©å…ƒç´ var oUl1 = document.querySelector('#ul1');var oBtn = document.querySelector('#btn');var oUl2 = document.querySelector('#ul2');oBtn.onclick = function() &#123; var oLi = oUl1.children[0]; // æ¯æ¬¡ç‚¹å‡»æŒ‰é’®ç¡®å®žåœ¨ oUl2 ä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œä½†åŒæ—¶ oUl1 ä¸­ä¹Ÿç›¸åº”å°‘äº†è¿™ä¸ªå…ƒç´  // æ‰€ä»¥ appendChild æ—¶ç›¸å½“äºŽå·å·å¸®æˆ‘ä»¬åšäº†è¿™ä¹ˆä¸€æ­¥æ“ä½œï¼šoUl1.removeChild(oLi); oUl2.appendChild(oLi);&#125;;&lt;/script&gt; å®žé™…åº”ç”¨å¥½ï¼ŒçŽ°åœ¨æˆ‘ä»¬æ¸…æ¥šäº†å½“ç”¨ appendChild æ’å…¥å·²å­˜åœ¨å…ƒç´ æ—¶ä¼šå…ˆåˆ é™¤ä¹‹å‰å†è¿›è¡Œæ’å…¥ï¼Œé‚£æ˜Žç™½è¿™ä¸ªç‰¹æ€§æœ‰ä»€ä¹ˆå®žé™…çš„ç”¨å¤„å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ä¾‹å¦‚ä¸‹é¢ä¸€ä¸ªéœ€æ±‚ï¼Œç‚¹å‡»æŒ‰é’®ï¼Œæ ¹æ®å…ƒç´ ä¸­çš„æ•°å­—å¤§å°å¯¹è¿™ç»„å…ƒç´ è¿›è¡ŒæŽ’åºï¼š 123456789&lt;!-- HTML ç»“æž„ --&gt;&lt;ul id="ul1"&gt; &lt;li&gt;5&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;4&lt;/li&gt;&lt;/ul&gt;&lt;button id="btn"&gt;ç‚¹å‡»&lt;/button&gt; 123456789101112131415161718192021222324252627282930313233// é€‰æ‹©å…ƒç´ var oUl1 = document.querySelector('#ul1');var aLi = oUl1.querySelectorAll('li');var oBtn = document.querySelector('#btn');// æŠŠä¼ªæ•°ç»„ aLi ä¸­çš„æ¯ä¸€é¡¹éƒ½æ”¾åˆ°æ•°ç»„é‡Œé¢ï¼Œç›®çš„æ˜¯ä¸ºäº†è¿›è¡ŒæŽ’åºvar arr = [];for(var i = 0; i &lt; aLi.length; i ++) &#123; arr.push(aLi[i]);&#125;oBtn.onclick = function () &#123; // è¿™å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„å†’æ³¡æŽ’åºï¼Œä½ è¿˜è®°å¾—å— for (var i = 0; i &lt; arr.length - 1; i++) &#123; // éœ€è¦èµ° arr.length - 1 è½® for (var j = 0; j &lt; arr.length - i - 1; j++) &#123; // æ¯è½®æ¯”è¾ƒ arr.length - i - 1 æ¬¡ var prevNum = parseFloat(arr[j].innerText); var nextNum = parseFloat(arr[j + 1].innerText); if (prevNum &gt; nextNum) &#123; // ä¸èƒ½å¯¹ä¼ªæ•°ç»„ä¸­å…¶ä¸­ä¸€äº›ç›´æŽ¥èµ‹å€¼ï¼Œä¾‹å¦‚ï¼šaLi[j] = aLi[j+1]ï¼Œæ‰€ä»¥éœ€è¦æŠŠä¼ªæ•°ç»„è½¬æ¢æˆæ•°ç»„åŽå†è¿›è¡ŒæŽ’åº var temp = null; temp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = temp; &#125; &#125; &#125; // æ­¤æ—¶ arr ä¸­è£…çš„å·²ç»æ˜¯æŽ’å¥½åºçš„ä¸€å † li å…ƒç´ äº† for(var i = 0; i &lt; arr.length; i ++) &#123; // åˆ†åˆ«æŠŠæŽ’å¥½åºçš„æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ’å…¥åˆ° oUl1 å†…å®¹çš„æœ€åŽ // æ³¨æ„æ¯æ¬¡æ’å…¥çš„åŒæ—¶ä¹Ÿä¼šæŠŠ oUl1 ä¸­é‚£ä¸ªç›¸åŒçš„å…ƒç´ å…ˆç»™å¹²æŽ‰ï¼Œæ‰€ä»¥ oUl1 ä¸­ä¹Ÿå°±ä¸ä¼šå­˜åœ¨é‡å¤å…ƒç´ çš„é—®é¢˜ oUl1.appendChild(arr[i]); &#125;&#125;; ä¼˜åŒ–ä»£ç è¿™é‡Œä¼˜åŒ–ç›¸å…³çš„ä»£ç æˆ‘ä»¬å¹¶æ²¡æœ‰å­¦ï¼ˆä¸å»ºè®®æŸ¥çœ‹ï¼‰ï¼Œæˆ‘è¿™é‡Œä¹Ÿæä¾›ä¸€ç§è¾ƒä½³å®žæˆ˜ï¼Œæ˜¯ç»™ä½ ä»¬ä»¥åŽçœ‹çš„ï¼ˆç”šè‡³æ˜¯å·¥ä½œåŽï¼‰ï¼Œä¼˜åŒ–åŽçš„ JS ä»£ç å¦‚ä¸‹ï¼š 123456789101112const oUl1 = document.querySelector('#ul1');const aLi = oUl1.querySelectorAll('li');const oBtn = document.querySelector('#btn');oBtn.addEventListener('click', () =&gt; &#123; // Array.from å¯ä»¥æŠŠä¼ªæ•°ç»„è½¬æˆæ•°ç»„ï¼Œsort çš„åŽŸç†å°±æ˜¯ä¸Šé¢å†™çš„å†’æ³¡æŽ’åº Array.from(aLi).sort((li1, li2) =&gt; &#123; return parseFloat(li1.innerText) - parseFloat(li2.innerText); &#125;).forEach(li =&gt; &#123; oUl1.appendChild(li); &#125;)&#125;);]]></content>
      <categories>
        <category>Web API</category>
      </categories>
      <tags>
        <tag>appendChild</tag>
      </tags>
  </entry>
</search>
