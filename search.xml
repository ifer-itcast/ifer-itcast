<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Webpack åŸºç¡€ç¯‡]]></title>
    <url>%2F2019%2F07%2F06%2Fwebpack-base%2F</url>
    <content type="text"><![CDATA[æ‰“é€š Webpack ä»»ç£ä¹‹åŸºç¡€ç¯‡ ~ åŸºæœ¬è·‘é€šåˆå§‹åŒ– package.json1npm init -y å®‰è£… webpack å’Œå‘½ä»¤è¡Œå·¥å…·12// ä¸ºäº†é¿å…ä¸å¿…è¦çš„ç‰ˆæœ¬é—®é¢˜ï¼Œä¸å»ºè®®å…¨å±€å®‰è£…ï¼webpack æ˜¯æ ¸å¿ƒæ¨¡å—ï¼Œwebpack-cli æ˜¯å‘½ä»¤è¡Œå·¥å…·npm i webpack webpack-cli -D 123// å®‰è£…å®Œæˆåå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æµ‹ç‰ˆæœ¬å·npx webpack -vnpx webpack-cli -v æ‰“åŒ…ç¬¬ä¸€ä¸ªåº”ç”¨entry: èµ„æºæ‰“åŒ…çš„å…¥å£ï¼Œwebpack é»˜è®¤çš„å…¥å£å°±æ˜¯ src/index.jsï¼Œå…¶å®å¯ä»¥çœç•¥ entry é…ç½®output-filename: è¾“å‡ºèµ„æºåï¼Œé»˜è®¤ä¼šè¾“å‡ºåˆ° dist ç›®å½•mode: æ‰“åŒ…æ¨¡å¼ï¼Œwebpack ä¼šè‡ªåŠ¨æ·»åŠ é€‚åˆå½“å‰æ¨¡å¼çš„ä¸€äº›é…ç½® 1npx webpack --entry=./src/index.js --output-filename=bundle.js --mode=development ä½¿ç”¨ npm scriptsä¸Šé¢æ¯æ¬¡æ‰“åŒ…éƒ½è¦è¾“å…¥ä¸€å¤§ä¸²å‘½ä»¤ï¼Œä¸å¥½ï¼è¿™æ—¶å€™å¯ä»¥é…ç½® package.json å¦‚ä¸‹ï¼š 12345&#123; "scripts": &#123; "build": "webpack --output-filename=bundle.js --mode=development" &#125;&#125; ä¸‹æ¬¡åªéœ€æ‰§è¡Œ npm run build å³å¯ ä½¿ç”¨é…ç½®æ–‡ä»¶å¯ä»¥ä½¿ç”¨ npx webpack -h æŸ¥çœ‹ webpack ç›¸å…³çš„é…ç½®é¡¹ä»¥åŠå‘½ä»¤è¡Œå‚æ•°ï¼å½“é¡¹ç›®éœ€è¦è¶Šæ¥è¶Šå¤šçš„é…ç½®é¡¹æ—¶ï¼Œå¾€ package.json ä¸­æ·»åŠ å°±ä¼šå˜å¾—è¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„é…ç½®æ”¾åœ¨æŸä¸ªæ–‡ä»¶ä¸­ï¼Œwebpack æ¯æ¬¡æ‰“åŒ…çš„æ—¶å€™ä¼šè¯»å–è¯¥æ–‡ä»¶çš„é…ç½®ã€‚ è¿™é‡Œçš„é»˜è®¤é…ç½®æ–‡ä»¶æ˜¯ webpack.config.jsï¼Œå¦‚æœä¿®æ”¹äº†éœ€è¦æŒ‰è¿™ç§æ–¹å¼ npx webpack --config webpack.config.my.js å»å¯»æ‰¾å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼çº¦å®šå¤§äºé…ç½®ï¼Œé»˜è®¤ä¼šæŠŠ src/index.js æ‰“åŒ…åˆ° dist/main.jsã€‚ 12345678910const path = require('path');// é‡‡ç”¨ CommonJS æ¨¡å—è§„èŒƒmodule.exports = &#123; mode: 'development', // é»˜è®¤ entry: './src/index.js', // é»˜è®¤ output: &#123; path: path.resolve(__dirname, 'dist'), // é»˜è®¤ï¼Œ__dirname å¯çœç•¥ï¼Œæˆ– path.join(__dirname, './dist') filename: 'main.js' // é»˜è®¤ &#125;&#125;; é…ç½® package.json12345// webpack --mode production å¯ä»¥æ‰§è¡Œæ¨¡å¼// æ³¨æ„è¿™é‡Œ package.json ä¸­çš„ webpack ä¸æ˜¯å…¨å±€çš„ï¼Œæ˜¯ node_modules/.bin ä¸‹çš„"scripts": &#123; "build": "webpack"&#125; æ‰“åŒ…å¹¶æµ‹è¯•æ‰§è¡Œ npx webpack æˆ–è€… npm run buildï¼Œdist ä¸­å»ºä¸ª HTML æ–‡ä»¶å¼•å…¥æ‰“åŒ…åçš„ä»£ç å¯ä»¥æµ‹è¯•æ‰“åŒ…çš„ç»“æœ å‘½ä»¤è¡Œä¼ å‚å…³äºå¦‚ä½•ç»™ package.json ä¸­çš„å‘½ä»¤ä¼ å‚ï¼Ÿ 1234// å¦‚æœ package.json ä¸­åªé…ç½®äº†è¿™äº›"scripts": &#123; "build": "webpack"&#125; 123// å¯ä»¥é€šè¿‡ -- çš„å½¢å¼ä¼ å‚ï¼Œç›¸å½“äºæ‰§è¡Œ webpack --config webpack.config.my.jsnpm run build -- --config webpack.config.my.jsnpm run build -- --config development æœ¬åœ°å¯åŠ¨æœåŠ¡é€šè¿‡ webpack-dev-server å¯ä»¥å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼ˆå†…éƒ¨ä¾èµ–çš„æ˜¯ Expressï¼‰ï¼Œå®ƒä¹Ÿå¯ä»¥åœ¨å†…å­˜ä¸­ç”Ÿæˆæ‰“åŒ…åçš„ä»£ç  main.jsï¼Œè¿™ç‚¹å¯ä»¥é€šè¿‡è®¿é—® localhost:8080/main.js å¯ä»¥è¯æ˜ï¼ è¿˜æœ‰ä¸€é¡¹ç‰¹æ€§æ˜¯ live-reloadingï¼ˆè‡ªåŠ¨åˆ·æ–°ï¼‰ï¼Œåœ¨ index.html ä¸­å¼•å…¥ &lt;script src=&quot;/main.js&quot;&gt;&lt;/script&gt; å¯ä»¥è¿›è¡Œæµ‹è¯•ï¼ è¿˜æœ‰æ›´å…ˆè¿›çš„åŠŸèƒ½ hot-module-replacementï¼ˆæ¨¡å—çƒ­æ›¿æ¢ï¼‰ï¼Œä¸éœ€è¦åˆ·æ–°æµè§ˆå™¨å°±èƒ½å±•ç¤ºæ›´æ–°åçš„å†…å®¹ï¼ å®‰è£…12// æ³¨æ„æ˜¯å¼€å‘ä¾èµ–ï¼Œé¡¹ç›®ä¸Šçº¿æ—¶å¯ä»¥é€šè¿‡ npm install --production è¿‡æ»¤æ‰ devDependencies ä¸­çš„æ¨¡å—cnpm i webpack-dev-server -D é…ç½® package.json123"scripts": &#123; "dev": "webpack-dev-server"&#125; ä¹Ÿå¯ä»¥åƒä¸‹é¢ä¸€æ ·é…ç½®ä¸€äº›å‚æ•°ï¼Œä¸è¿‡ä¸€èˆ¬è¿˜æ˜¯å»ºè®®åœ¨ webpack.config.js ä¸­è¿›è¡Œé…ç½® 123"script": &#123; "dev": "webpack-dev-server --open firefox --port 3000 --hot --progress --compress --host 127.0.0.1"&#125; é…ç½® webpack.config.jsé»˜è®¤å¯åŠ¨æœåŠ¡çš„æ ¹ç›®å½•æ˜¯å’Œ webpack.config.js å¹³çº§çš„ç›®å½•ï¼Œæˆ‘æƒ³ç”¨ dist å½“åšæ ¹ç›®å½•å°±éœ€è¦é€šè¿‡ contentBase æ¥æŒ‡å®šã€‚ä¾‹å¦‚é…ç½®åè®¿é—® localhost:8080/a.js å°±æ˜¯æŒ‡çš„ dist ä¸‹çš„ a.js 1234567891011module.exports = &#123; mode: 'development', devServer: &#123; contentBase: path.join(__dirname, "dist"), // æ— è®ºè¿™é‡Œæ€ä¹ˆé…ç½®ï¼Œå†…å­˜ä¸­çš„ main.js è¿˜æ˜¯é€šè¿‡ localhost:8080/main.js è®¿é—®ï¼Œä½†è¿™æ ·é…ç½®æ—¶ä¼šå½±å“å®é™…èµ„æºçš„å­˜æ”¾è·¯å¾„ï¼Œä¾‹å¦‚é€šè¿‡ localhost:8080 æƒ³è®¿é—®é¦–é¡µæ—¶ï¼Œå°±è¦æŠŠ index.html å°±è¦æ”¾åœ¨ dist ç›®å½•ä¸‹ // publicPath: '/dist', // ä¼šä¸ºå†…å­˜ä¸­çš„èµ„æºæ·»åŠ ä¸€ä¸ªå‰ç¼€ï¼Œè¿™æ—¶å€™å†è®¿é—®å†…å­˜ä¸­çš„ main.js å°±éœ€è¦ localhost:8080/dist/main.js progress: true, // æ˜¾ç¤ºæ‰“åŒ…è¿›åº¦ compress: true, // å¼€å¯ GZIP å‹ç¼© port: 9000, open: true, &#125;&#125;; ä½¿ç”¨è¿è¡Œ npm run devï¼Œæ­¤æ—¶è®¿é—® http://localhost:8080/main.js å¯ä»¥çœ‹åˆ°å†…å­˜ä¸­çš„ main.js æ–‡ä»¶ çƒ­æ›´æ–° JSåœ¨ dist ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª html æ–‡ä»¶å¦‚ä¸‹ï¼š 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;script src="/main.js"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; é€šè¿‡ localhost:8080 è®¿é—®ï¼Œä¿®æ”¹ JS æ–‡ä»¶ä¼šå‘ç°é¡µé¢ä¹Ÿè¿›è¡Œäº†åˆ·æ–°ã€‚æƒ³åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹ä¹Ÿæ›´æ–° JSï¼Œè¿™å°±æ˜¯çƒ­æ›´æ–°ï¼ˆæ³¨æ„æŠŠ index.html æ”¾åœ¨å’Œ webpack.config.js å¹³çº§ç›®å½•ä¸‹ï¼Œæˆ–é€šè¿‡ contentBase ä¿®æ”¹æ ¹ç›®å½•å¹¶åœ¨ index.html æ”¾åœ¨å…¶ä¸­ï¼‰ï¼ 1234567891011121314151617181920const path = require('path');const webpack = require('webpack');module.exports = &#123; mode: 'development', // é»˜è®¤ entry: './src/index.js', // é»˜è®¤ output: &#123; path: path.resolve(__dirname, 'dist'), // é»˜è®¤ï¼Œ__dirname å¯çœç•¥ filename: 'main.js' // é»˜è®¤ &#125;, devServer: &#123; contentBase: path.resolve('dist'), // step 1 hot: true &#125;, plugins: [ // step 2 new webpack.HotModuleReplacementPlugin() ]&#125;; 123456console.log('hello world');// step 3if(module.hot) &#123; module.hot.accept();&#125; æ³¨æ„ä»¥ä¸Šåªæ˜¯ JS æ–‡ä»¶çš„çƒ­æ›´æ–°ï¼Œä¿®æ”¹ dist ä¸­çš„ HTML æ–‡ä»¶åˆ«è¯´çƒ­æ›´æ–°ï¼Œåˆ·æ–°éƒ½åˆ·æ–°ä¸äº†ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œåé¢è§£å†³ï¼ å¦‚æœå…³é—­ JS çƒ­æ›´æ–°ï¼ˆhotï¼‰ï¼Œæ›´æ”¹ HTML æ–‡ä»¶ä¾¿ä¼šè‡ªåŠ¨åˆ·æ–°ï¼ æ¨¡æ¿æ–‡ä»¶é€šè¿‡ html-webpack-plugin å¯ä»¥å¼•ç”¨æ¨¡æ¿æ–‡ä»¶ï¼Œé…åˆ webpack-dev-server å¯ä»¥è®©æ­¤ HTML æ–‡ä»¶ä¹Ÿç”Ÿæˆäºå†…å­˜ä¸­ï¼ˆå¿«ï¼‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ‰“åŒ…è¿› distï¼Œæ‰“åŒ…åçš„æ–‡ä»¶ä¸­ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¼•å…¥ JS ç­‰ï¼Œè¿™æ ·ä¹Ÿå°±ä¸å¿…åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­æ‰‹åŠ¨å¼•å…¥ main.js äº†ï¼ å®‰è£…1cnpm i html-webpack-plugin -D é…ç½® plugins12345678910111213141516171819202122232425262728293031323334const path = require('path');const webpack = require('webpack');const HtmlWebpackPlugin = require('html-webpack-plugin');const htmlPlugin = new HtmlWebpackPlugin(&#123; // å¼•å…¥çš„æ¨¡æ¿ template: path.join(__dirname, './src/index.html'), // åœ¨å†…å­˜ä¸­ç”Ÿæˆçš„æ–‡ä»¶çš„åç§° filename: 'index.html', // npm run build æˆ–è€…è¿è¡Œ webpack-dev-server æ—¶åˆ é™¤ html æ–‡ä»¶ä¸­å±æ€§çš„åŒå¼•å· minify: &#123; removeAttributeQuotes: true, collapseWhitespace: true // HTML å˜æˆä¸€è¡Œ &#125;, // ç»™ HTML ä¸­å¼•å…¥çš„æ–‡ä»¶åŠ  Hashï¼Œé˜²æ­¢ç¼“å­˜ hash: true&#125;);module.exports = &#123; mode: 'development', entry: './src/index.js', output: &#123; path: path.resolve(__dirname, 'dist'), filename: 'main.[hash:8].js' &#125;, devServer: &#123; contentBase: path.resolve(__dirname, 'dist'), hot: true &#125;, plugins: [ new webpack.HotModuleReplacementPlugin(), htmlPlugin ]&#125;; æµ‹è¯•æ­¤æ—¶ä¿®æ”¹ src/index.js å’Œ src/index.html ä¼šè‡ªåŠ¨çš„å¸®æˆ‘ä»¬åˆ·æ–°é¡µé¢ï¼æ³¨æ„æ­¤æ—¶æˆ‘åˆ é™¤äº† index.js ä¸­çš„å¦‚ä¸‹çƒ­æ›´æ–°ä»£ç ï¼š 1234// æš‚æ—¶å…³é—­çƒ­æ›´æ–°ï¼Œä¸ºäº†è®©ä¿®æ”¹ index.html æ—¶ä¹Ÿå®æ—¶åˆ·æ–°é¡µé¢if(module.hot) &#123; module.hot.accept();&#125; ä»¥ä¸Šä»£ç  ä½¿ç”¨ Loaderä½¿ç”¨ loader å¸¸å†™çš„æœ‰ä¸‰ç§æ–¹å¼ï¼Œä»¥ css-loader å’Œ style-loader ä¸ºä¾‹ï¼Œå¦‚ä¸‹ï¼š loader 12345678module: &#123; rules: [ &#123; test: /\.css$/, loader: ["style-loader", "css-loader"] &#125; ]&#125; use 12345678module: &#123; rules: [ &#123; test: /\.css$/, use: ["style-loader", "css-loader"], &#125; ]&#125; use + loader 1234567891011121314module: &#123; rules: [ &#123; test: /\.css$/, use: [&#123; loader: "style-loader", options: &#123; // æ’å…¥å¤´éƒ¨ insertAt: 'top' &#125; &#125;, "css-loader"] &#125; ]&#125; ä½¿ç”¨æ ·å¼ä½¿ç”¨ CSSå®‰è£…1cnpm i style-loader css-loader -D é…ç½®12345678module: &#123; rules: [ &#123; test: /\.css$/, use: ['style-loader', 'css-loader'] &#125; ]&#125; ä½¿ç”¨12import './index.css';require('./index.css'); ä½¿ç”¨ Lesså®‰è£1cnpm i less less-loader -D é…ç½®module rules ä¸‹é…ç½® loader 12345678module: &#123; rules: [ &#123; test: /\.less$/, use: ['style-loader', 'css-loader', 'less-loader'] &#125; ]&#125; ä½¿ç”¨ Sasså®‰è£1cnpm i node-sass sass-loader -D é…ç½®12345678module: &#123; rules: [ &#123; test: /\.scss$/, use: ['style-loader', 'css-loader', 'sass-loader'] &#125; ]&#125; ç»™æ ·å¼åŠ å‰ç¼€ä½¿ç”¨ autoprefixerï¼Œå¹¶é…åˆ postcss-loader å¯ä»¥å¤„ç† CSS3 çš„å‰ç¼€ï¼Œæœ€åæ‰“åŒ…æ—¶ä¼šè‡ªåŠ¨å¸¦ä¸Š å®‰è£…1cnpm i postcss-loader autoprefixer -D é…ç½®123456789// é…ç½® loadermodule: &#123; rules: [ &#123; test: /\.css$/, use: ['style-loader', "css-loader", "postcss-loader"] &#125; ]&#125; æ ¹ç›®å½•æ–°å»º postcss.config.js å¹¶é…ç½®å¦‚ä¸‹ï¼š 123module.exports = &#123; plugins: [require('autoprefixer')]&#125;; æŠ½ç¦»æ ·å¼åˆ©ç”¨ mini-css-extract-plugin æ’ä»¶å¯ä»¥æŠ½ç¦»å‡º CSSï¼Œä½†ä½¿ç”¨æ­¤æ’ä»¶å†æ¬¡ä¿®æ”¹ CSS åé¡µé¢ä¸ä¼šè‡ªåŠ¨åˆ·æ–°æˆ–çƒ­æ›´æ–°ï¼Œæ‰€ä»¥ä¸€èˆ¬ç”Ÿäº§ç¯å¢ƒæ‰ä½¿ç”¨ï¼ å®‰è£…1cnpm i mini-css-extract-plugin -D é…ç½®12345678910111213141516171819// æŠ½ç¦» Less åŒç†module: &#123; rules: [ &#123; test: /\.css$/, use: [&#123; // Step 1 loader: MiniCssExtractPlugin.loader &#125;, "css-loader", "postcss-loader"] &#125; ]&#125;,plugins: [ // Step 2 new MiniCssExtractPlugin(&#123; // name æŒ‡çš„æ˜¯å…¥å£æ–‡ä»¶çš„å±æ€§åï¼Œå•å…¥å£é»˜è®¤æ˜¯ main filename: '[name].css' &#125;)] ä¿®æ”¹ CSS å¯¼å‡ºçš„è·¯å¾„ä¹Ÿå¯ä»¥ç»™å¯¼å‡ºçš„ CSS åˆ’åˆ†ç›®å½•ç­‰ 1234new MiniCssExtractPlugin(&#123; // entry çš„åå­— main filename: 'css/[name].css'&#125;) ä»¥ä¸Šä»£ç  ä½¿ç”¨å›¾ç‰‡JS å’Œ CSS ä¸­ä½¿ç”¨ file-loader è§£å†³ CSS å’Œ JS æ–‡ä»¶å¼•å…¥å›¾ç‰‡çš„è·¯å¾„é—®é¢˜ url-loader å½“å›¾ç‰‡å°äº limit çš„æ—¶å€™å¯¹å›¾ç‰‡è¿›è¡Œ BASE64 ç¼–ç ï¼Œå¤§äº limit è°ƒç”¨ file-loader è¿›è¡Œæ‹·è´ å®‰è£…1cnpm i file-loader url-loader@1.0.1 -D é…ç½®123456789101112131415161718192021222324module: &#123; rules: [ &#123; test: /\.(gif|jpg|jpeg|png|bmp|eot|woff|woff2|ttf|svg)$/, use: [ &#123; // url-loader é‡Œé¢å°è£…äº† file-loader loader: 'url-loader', options: &#123; // å°äº 10kb æ‰éœ€è¦ base64ï¼Œè¿™æ—¶å€™èµ·ä½œç”¨çš„ url-loader // å¤§äº 10kb ä¼šåœ¨å†…éƒ¨è‡ªåŠ¨è°ƒç”¨ file-loader å»å¤„ç†å›¾ç‰‡ // é»˜è®¤ä¸åŠ è¿™ä¸ªå‚æ•°å…¨éƒ¨æ˜¯ç”¨ url-loader ææˆ base64 limit: 10 * 1024, // å°†æ‰“åŒ…çš„å›¾ç‰‡æ”¾åˆ° img ç›®å½•ï¼Œå›¾ç‰‡å¹¶ä¸ä¼šæ”¾åˆ°ç¼“å­˜ä¸­ï¼Œç¼“å­˜çš„æ˜¯ HTMLã€JS å’Œ CSS æ–‡ä»¶ // å¯ä»¥å…ˆ npm run build åˆ° dist/img ç›®å½•ï¼Œå½“ç„¶ä¹Ÿè¦æŠŠ devServer çš„ contentBase é…ç½®ä¸º dist outputPath: '/img/', // ç»™å¼•å…¥çš„å›¾ç‰‡èµ„æºåŠ ä¸Šå‰ç¼€ publicPath: 'http://www.zhihur.com' &#125; &#125; ] &#125; ]&#125; ä½¿ç”¨123456// è‹¥å›¾ç‰‡å¤§å°å°äº limit imgSrc å°†æ˜¯ä¸€ä¸ª base64ï¼Œå¦åˆ™æ˜¯ä¸€ä¸ªè·¯å¾„import imgSrc from './images/timg.jpg';const img = new Image();img.src = imgSrc;img.width = 100;document.body.appendChild(img); 12345.logo &#123; width: 300px; height: 100px; background: url(./images/timg.jpg) no-repeat;&#125; HTML ä¸­ä½¿ç”¨æ­¤ html-withimg-loader æ’ä»¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ HTML ä¸­ä½¿ç”¨å›¾ç‰‡ å®‰è£1cnpm i html-withimg-loader -D é…ç½®12345678module: &#123; rules: [ &#123; test: /\.html$/, use: 'html-withimg-loader' &#125; ]&#125; ä½¿ç”¨1&lt;img src="timg.jpg" width="100" alt=""&gt; ä»¥ä¸Šä»£ç  ä½¿ç”¨ JSä¸»è¦æ˜¯å¯¹é«˜ç‰ˆæœ¬çš„ JS ä»£ç è¿›è¡Œè½¬æ¢ï¼Œä½¿æµè§ˆå™¨å…¼å®¹ è½¬æ¢ç®­å¤´å‡½æ•°ç­‰å¦‚ä¸‹ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä¼šå‘ç°æ‰“åŒ…åçš„ä»£ç ä¹Ÿæ˜¯ç®­å¤´å‡½æ•°ï¼Œæ²¡æœ‰è½¬æˆ ES5ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ 1234let aaa = () =&gt; &#123; console.log('hello1');&#125;aaa(); è§£å†³å¦‚ä¸‹ 12// éœ€è¦ä½¿ç”¨ loader å¹¶é…åˆ presetscnpm i babel-loader @babel/core @babel/preset-env -D 123456789101112131415&#123; test: /\.js$/, use: &#123; loader: 'babel-loader', options: &#123; presets: [ '@babel/preset-env' ] &#125; &#125;, // åˆ«å¿˜è®°æ’é™¤è¿™ä¸ªï¼Œæ³¨æ„è¿™é‡Œçš„å€¼æ²¡æœ‰å¼•å·ï¼ exclude: /node_modules/, // æœ€å¥½å†™ä¸Š include: path.resolve(__dirname, 'src')&#125; ä¸Šé¢ presets çš„é…ç½®ä¹Ÿå¯ä»¥å†™åœ¨ .babelrc å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚ï¼š 123&#123; "presets": ["@babel/preset-env"]&#125; é…ç½®å®Œä¸Šé¢å†ä½¿ç”¨ uglifyjs è¿›è¡Œä»£ç å‹ç¼©æ—¶ä¹Ÿå°±ä¸ä¼šæŠ¥é”™äº† è½¬æ¢ç±»ç­‰123456// ç›´æ¥ä½¿ç”¨æŠ¥é”™class A &#123; a = 1&#125;let b = new A();console.log(b.a); 12// æ³¨æ„è¿™é‡Œä½¿ç”¨çš„æ˜¯ä¸€ä¸ªé’ˆå¯¹ JS æ–‡ä»¶çš„æ’ä»¶ï¼Œè€Œä¸æ˜¯ loader æˆ– é¢„è®¾cnpm i @babel/plugin-proposal-class-properties -D 1234567891011121314&#123; test: /\.js$/, use: &#123; loader: 'babel-loader', options: &#123; presets: [ '@babel/preset-env' ], plugins: [ ['@babel/plugin-proposal-class-properties',&#123;loose: true&#125;] ] &#125; &#125;&#125; æˆ– .bablerc ä¸­é…ç½®å¦‚ä¸‹ï¼š 12345678&#123; "presets": [ "@babel/preset-env" ], "plugins": [ ["@babel/plugin-proposal-class-properties",&#123;"loose": true&#125;] ]&#125; è½¬æ¢è£…é¥°å™¨ç­‰VSCode ä¸­ä¿®æ”¹è¿™ä¸ªå‚æ•° experimentalDecorators å¯ä»¥ç¦ç”¨ä½¿ç”¨è£…é¥°å™¨æ—¶çš„è­¦å‘Š 12345678@logclass A &#123; a = 1&#125;function log(target) &#123; console.log(target);&#125; 12// ä½¿ç”¨çš„ä¹Ÿæ˜¯ä¸€ä¸ªæ’ä»¶cnpm i @babel/plugin-proposal-decorators -D 12345678910111213141516&#123; test: /\.js$/, use: &#123; loader: 'babel-loader', options: &#123; presets: [ '@babel/preset-env' ], plugins: [ // æ³¨æ„è¿™é‡Œæ˜¯æœ‰é¡ºåºè®²ç©¶çš„ ['@babel/plugin-proposal-decorators', &#123;legacy: true&#125;], ['@babel/plugin-proposal-class-properties',&#123;loose: true&#125;] ] &#125; &#125;&#125; è½¬æ¢ç”Ÿæˆå™¨ç­‰123456789function *aaa(x) &#123; yield x + 1; yield x + 2; return x + 3;&#125;let it = aaa(1);console.log(it.next()); // &#123;value: 2, done: false&#125;console.log(it.next()); // &#123;value: 3, done: false&#125;console.log(it.next()); // &#123;value: 4, done: true&#125; 123// æ³¨æ„ @babel/runtime æ˜¯ç”Ÿäº§ä¾èµ–cnpm i @babel/plugin-transform-runtime -Dcnpm i @babel/runtime -S 1234567891011121314151617&#123; test: /\.js$/, use: &#123; loader: 'babel-loader', options: &#123; presets: [ '@babel/preset-env' ], plugins: [ // æ³¨æ„è¿™é‡Œæ˜¯æœ‰é¡ºåºè®²ç©¶çš„ ['@babel/plugin-proposal-decorators', &#123;legacy: true&#125;], ['@babel/plugin-proposal-class-properties',&#123;loose: true&#125;], ['@babel/plugin-transform-runtime'] ] &#125; &#125;&#125; è½¬æ¢ includes ç­‰12// ç›´æ¥ä½¿ç”¨æ˜¯å¯ä»¥å…è®¸ï¼Œä½†å¹¶ä¸ä¼šå°†æ‰“åŒ…åçš„ä»£ç è½¬æ¢æˆ ES5console.log('aaa'.includes('a')); 1cnpm i @babel/polyfill -S 123// ä½¿ç”¨require('@babel/polyfill')console.log('aaa'.includes('a')); æ³¨æ„ï¼šBabel 7.4.0 ä»¥åä½¿ç”¨æœ‰å˜åŒ–ï¼Œå‚è§ ä»¥ä¸Šä»£ç  ä½¿ç”¨ TSå®‰è£…12cnpm i typescript -gcnpm i typescript ts-loader -D é…ç½®12// ç”Ÿæˆ tsconfig.json é…ç½®æ–‡ä»¶tsc --init 12345678910111213&#123; module: &#123; rules: [ &#123; test: /\.ts$/, use: 'ts-loader', // æ³¨æ„è¿™é‡Œæˆ‘é…åœ¨äº† src/ts ç›®å½•ä¸‹ include: path.resolve(__dirname, 'src/ts'), exclude: /node_modules/ &#125; ] &#125;&#125; ä½¿ç”¨1234function sum(...args:number[]): number &#123; return eval( args.join('+') );&#125;export default sum; 12import sum from './ts/test.ts';console.log(sum(1, 2, 3)); ä»¥ä¸Šä»£ç  ä½¿ç”¨ Reactå®‰è£…1cnpm i react react-dom -S ä½¿ç”¨12345678910111213import React from 'react';import ReactDOM from 'react-dom';// å…ƒç´ ç±»å‹ã€å±æ€§ã€å­èŠ‚ç‚¹const virtualH1 = React.createElement('h1', &#123; id: 'title', title: 'hello world'&#125;, 'hello world');const virtualDiv = React.createElement('div', null, 'å˜»å˜»', virtualH1);// è¦æ¸²æŸ“çš„è™šæ‹Ÿ DOMã€å®¹å™¨ReactDOM.render(virtualDiv, document.querySelector('#root')); ä½¿ç”¨ JSXä¸Šé¢çš„ React.createElement çš„å†™æ³•å¤ªç´¯ï¼Œæƒ³ä½¿ç”¨ JSX è¯­æ³•ï¼Œæ³¨æ„ JSX æœ€ç»ˆè¿˜æ˜¯ä¼šè½¬æ¢æˆ React.createElement çš„å½¢å¼å»æ‰§è¡Œ å®‰è£…1cnpm install @babel/preset-react -D é…ç½®123456789101112&#123; test: /\.js$/, use: &#123; loader: 'babel-loader', options: &#123; presets: [ '@babel/preset-env', '@babel/preset-react' ], &#125; &#125;&#125; 1234// ä¹Ÿå¯ä»¥åœ¨ .babelrc ä¸­è¿›è¡Œé…ç½®&#123; "presets": ["@babel/preset-env", "@babel/preset-react"]&#125; 1234// æˆ–è€…ç®€å†™&#123; "presets": ["@babel/env", "@babel/react"]&#125; ä½¿ç”¨123456import React from 'react';import ReactDOM from 'react-dom';ReactDOM.render(&lt;div&gt; hello world&lt;/div&gt;, document.querySelector('#root')); ä»¥ä¸Šä»£ç  ä½¿ç”¨ jQueryå®‰è£…1cnpm i jquery -S ä½¿ç”¨123import $ from 'jquery';console.log($);console.log(window.$); // undefined æš´éœ²ç»™ windowä¸ºä»€ä¹ˆè¦æš´éœ²ç»™ window å‘¢ï¼Ÿå› ä¸ºæœ‰ä¸€äº›ç¬¬ä¸‰æ–¹æ¨¡å—ä¾èµ–çš„æ˜¯å…¨å±€ $ï¼Œè¿™æ—¶å€™å°±ä¼šå‡ºé—®é¢˜ï¼Œä¾‹å¦‚ jQueryUI ä¾èµ–çš„å°±æ˜¯ window.$ 1cnpm i expose-loader -D 1234// æ³¨æ„ index.html ä¸­éœ€è¦ DOMContentLoaded åæ‰èƒ½æ‹¿åˆ° $ æˆ– window.$let $ = require('expose-loader?$!jquery');console.log($);console.log(window.$); ä¹Ÿå¯ä»¥åœ¨ rules ä¸­è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š 123456&#123; test: require.resolve('jquery'), use: 'expose-loader?$'&#125;// åé¢åªéœ€ä¸‹é¢å†™æ³•import $ from 'jquery'; å…¨å±€å˜é‡ä¸å¸Œæœ›æ¯ä¸ªæ¨¡å—ä½¿ç”¨æ—¶éƒ½ import $ from â€˜jqueryâ€™; éº»çƒ¦ï¼ 1234567&#123; plugins: [ new webpack.ProvidePlugin(&#123; $: 'jquery' // $ æ¥è‡ªäº jquery åŒ…ï¼Œç›¸å½“äº import $ from 'jquery'ï¼Œæ¯ä¸ªæ¨¡å—ä¸­éƒ½æ³¨å…¥äº† $ï¼Œå¹¶ä¸” window ä¸‹ä¹Ÿæœ‰ï¼Œå› ä¸ºä¸Šé¢é…ç½®äº† expose-loader &#125;) ]&#125; 123// æ— éœ€å¼•ç”¨ï¼Œç›´æ¥ä½¿ç”¨ï¼ŒçœŸå¥½ï¼console.log($);console.log(window.$); ä½¿ç”¨ CDN1&lt;script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"&gt;&lt;/script&gt; 123// æ¨¡å—å’Œ HTML æ–‡ä»¶ä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ $ å’Œ window.$ äº†console.log($);console.log(window.$); æœ€åä¼˜åŒ–ä¸Šé¢è™½ç„¶æ¨¡å—ä¸­ä¸å¼•ç”¨ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ $ï¼Œä½†æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œå¹¶ä¸”ä½¿ç”¨ TS æ—¶ä¹Ÿé€šä¸è¿‡è¯­æ³•æ£€æŸ¥ï¼æˆ‘æƒ³å¼•ç”¨åå†ä½¿ç”¨ï¼Œè¿™æ ·å°±è§£å†³äº†çœ‹èµ·æ¥å¥‡æ€ªå’Œé€šä¸è¿‡ TS è¯­æ³•æ£€æŸ¥çš„é—®é¢˜ï¼ ä½†æ˜¯åˆå¼•æ¥äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼ŒHTML ä¸­ä»¥åŠ é€šè¿‡ CDN å¼•å…¥ jQuery äº†ï¼Œæ¨¡å—ä¸­å†æ¬¡å¼•å…¥çš„è¯ä¼šè¢«æ‰“åŒ…ï¼Œè¿™æ ·å°±å¤šäº†ä¸€å¥—é‡å¤çš„ä»£ç ï¼ ç›®çš„ï¼šJS æ–‡ä»¶ä¸­å¼•å…¥ç¬¬ä¸‰æ–¹åº“ä½†ä¸æƒ³è¢«æ‰“åŒ…ï¼ è§£å†³ï¼šé…ç½® externalsï¼Œå®ƒå¯ä»¥æŒ‡å®šä¸€ä¸ªå˜é‡æ˜¯å¤–éƒ¨ï¼ˆscriptï¼‰æ¥çš„ï¼Œä¸éœ€è¦è¢«æ‰“åŒ… 123456module.exports = &#123; externals: &#123; // æ„æ€æ˜¯è¿™ä¸ª jquery æ˜¯å¤–éƒ¨æä¾›çš„ï¼Œåˆ«å†ç»™è€å­æ‰“åŒ…è¿›å»äº† jquery: '$' &#125;&#125;; 123// æ¨¡å—ä¸­éšä¾¿ç”¨ï¼Œä¸ä¼šè¢«æ‰“åŒ…ï¼Œç¾æ»‹æ»‹~import $ from 'jquery';console.log($, window.$); ä»¥ä¸Šä»£ç  æ–‡ä»¶å‹ç¼©æ³¨æ„åœ¨ production æ¨¡å¼ä¸‹ build æ–‡ä»¶ï¼Œå‹ç¼©åŠŸèƒ½æ‰ä¼šç”Ÿæ•ˆï¼ JSWebpack4 ä¸­ production æ¨¡å¼ä¼šè‡ªåŠ¨å¯¹ JS æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå†é…åˆæ­¤æ’ä»¶å¦‚è™æ·»ç¿¼ï¼ å®‰è£…1cnpm i uglifyjs-webpack-plugin -D é…ç½®12345678910optimization: &#123; minimizer: [ // æ³¨æ„å¯¹ JS çš„å‹ç¼©éœ€è¦åœ¨é…ç½® babel ä¹‹å new UglifyjsWebpackPlugin(&#123; cache: true, parallel: true, // å¤šçº¿ç¨‹æ‰“åŒ… sourceMap: true // ES5 åˆ° ES6 çš„æ˜ å°„æ–¹ä¾¿è°ƒè¯• &#125;) ]&#125; CSSWebpack4 ä¸­ production æ¨¡å¼ä¼šè‡ªåŠ¨å¯¹ JS å‹ç¼©ä¸å‡ï¼Œä½†å¹¶ä¸ä¼šå¯¹ CSS å‹ç¼© å®‰è£…1cnpm i optimize-css-assets-webpack-plugin -D é…ç½®1234567&#123; optimization: &#123; minimizer: [ new OptimizeCssAssetsWebpackPlugin() ] &#125;&#125; æ‰“åŒ…èµ„æºåˆ†ç±» å›¾ç‰‡åˆ†ç±»é€šè¿‡é…ç½® outputPath å°†å…¶ç»Ÿä¸€åˆ†é…åˆ°å¯¹åº”ç›®å½• CSS åˆ†ç±»é€šè¿‡é…ç½® plugins ä¸­çš„ MiniCssExtractPlugin é€šè¿‡é…ç½® publicPath å¯ä»¥åœ¨å¼•ç”¨èµ„æºï¼ˆä¾‹å¦‚CSSã€Imgï¼‰çš„æ—¶å€™ä¼šç»Ÿä¸€åŠ ä¸Šä¸€ä¸ªå‰ç¼€ è‹¥åªæƒ³ç»™å›¾ç‰‡åŠ å‰ç¼€ï¼Œä¹Ÿå¯ä»¥å•ç‹¬é…ç½®å›¾ç‰‡çš„ publicPath æ‰“åŒ…å¤šé¡µåº”ç”¨å¤šå…¥å£ JS æ–‡ä»¶ï¼Œåˆ©ç”¨ html-webpack-plugin å®ƒä¹Ÿå¯ä»¥è‡ªåŠ¨å¸®æˆ‘ä»¬å¼•å…¥ JSï¼Œsrc æŒ‡å®šå¤šå…¥å£æ—¶ä¹ŸåŒæ ·ä¼šå¸®æˆ‘ä»¬æ‰“åŒ…è¿›å»ï¼Œæ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶å¼•å…¥ å¤šå…¥å£å•å‡ºå£1234567891011121314const path = require('path');module.exports = &#123; // æ³¨æ„è¿™é‡Œä¸€ä¸ªæ•°ç»„ï¼Œæœ€åä¼šæŠŠä»£ç åˆæˆä¸€ä¸ª index.js entry: [ './src/test.js', './src/index.js' ], output: &#123; path: path.resolve(__dirname, 'dist'), filename: 'index.js' // åˆæˆ index.js &#125;, mode: 'development'&#125;; å¤šå…¥å£å¤šå‡ºå£1234567891011module.exports = &#123; // æ³¨æ„è¿™é‡Œæ˜¯ä¸€ä¸ª JSON entry: &#123; test: './src/test.js', index: './src/index.js' &#125;, output: &#123; path: path.resolve(__dirname, 'dist'), filename: '[name].js' // è¿™é‡Œ name æ˜¯ä¸€ä¸ªå˜é‡ï¼Œä¼šè¾“å‡ºå¤šä¸ªæ–‡ä»¶å¹¶å¼•å…¥åˆ° index.html &#125;&#125;; å¤šå…¥å£å¤šå‡ºå£å¤šæ–‡ä»¶1234567891011121314151617181920212223242526272829303132333435const path = require('path');const webpack = require('webpack');const HtmlWebpackPlugin = require('html-webpack-plugin');const htmlIndexPlugin = new HtmlWebpackPlugin(&#123; // æ¨¡æ¿æ–‡ä»¶ template: path.join(__dirname, './src/index.html'), // ç”Ÿæˆæ–‡ä»¶ filename: 'index.html', // å¼•å…¥çš„ JS æ–‡ä»¶ chunks: ['test', 'index']&#125;);const htmlTestPlugin = new HtmlWebpackPlugin(&#123; template: path.join(__dirname, './src/test.html'), filename: 'test.html', chunks: ['test']&#125;);module.exports = &#123; entry: &#123; test: './src/test.js', index: './src/index.js' &#125;, output: &#123; path: path.resolve(__dirname, 'dist'), filename: '[name].js' &#125;, plugins: [ new webpack.HotModuleReplacementPlugin(), htmlIndexPlugin, htmlTestPlugin ], mode: 'development'&#125;; è°ƒè¯•æ‰“åŒ…åçš„ä»£ç è§£æ JS çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæŠŠé«˜çº§è¯­æ³•è½¬æˆä½çº§è¯­æ³•ï¼Œä¹Ÿå¯èƒ½å¯¹ä»£ç è¿›è¡Œå‹ç¼©ï¼Œé…ç½® source-mapï¼ˆæºç æ˜ å°„ï¼‰ å¯ä»¥è°ƒè¯•åŸå‘³ä»£ç  devtool: â€˜source-mapâ€™, ç”Ÿæˆä¸€ä¸ªæ–°çš„ sourcemap æ–‡ä»¶ï¼Œå¯ä»¥æ˜ å°„åˆ°åˆ— devtool: â€˜eval-source-mapâ€™, åœ¨å½“å‰æ‰“åŒ…æ–‡ä»¶ä¸­ç”Ÿæˆï¼Œå¯ä»¥æ˜ å°„åˆ°åˆ— devtool: â€˜cheap-module-source-mapâ€™, ç”Ÿæˆä¸€ä¸ªæ–°çš„ sourcemap æ–‡ä»¶ï¼Œå¯ä»¥ä¿ç•™èµ·æ¥ï¼Œä¸èƒ½è°ƒè¯• devtool: â€˜cheap-module-eval-source-mapâ€™, åœ¨åŒä¸€æ–‡ä»¶ä¸­ç”Ÿæˆï¼Œä¸èƒ½æ˜ å°„åˆ°åˆ— å®æ—¶æ‰“åŒ…npx webpack â€“mode development ç¼–è¯‘å®Œå°±æ–­å¼€äº†ï¼Œé»˜è®¤ watch: falseï¼Œå¸Œæœ›å®æ—¶æ‰“åŒ…æˆå®ä½“æ–‡ä»¶ 12345678watch: true,watchOptions: &#123; ignored: /node_modules/, // æ¯ç§’å‘æ–‡ä»¶è¯¢é—®çš„æ¬¡æ•° poll: 1000, // å¤šå°‘æ¯«ç§’å†…é‡å¤ä¿å­˜ä¸æ‰“åŒ… aggregateTimeout: 500&#125; ç”¨ webpack-dev-server å…¶å®å¯¹ä¸Šé¢å·²ç»å¤„ç†äº† ç‰ˆæƒå£°æ˜12// ä¼šåœ¨è¯·æ±‚å¤´åŠ ä¸Šä»£ç ä¿¡æ¯new webpack.BannerPlugin('weixian') æ‹·è´é™æ€æ–‡ä»¶ä¾‹å¦‚æ–‡æ¡£ï¼Œè®¾è®¡ç¨¿ç­‰ å®‰è£…1npm i copy-webpack-plugin -D é…ç½®1234new CopyWebpackPlugin([&#123; from: path.resolve(__dirname, &apos;src/assets&apos;), to: path.resolve(__dirname, &apos;dist/assets&apos;)&#125;]) æ‰“åŒ…å‰å…ˆæ¸…ç©ºè¾“å‡ºç›®å½•å®‰è£…1npm i clean-webpack-plugin -D é…ç½®1const &#123;CleanWebpackPlugin&#125; = require('clean-webpack-plugin'); 123plugins: [ new CleanWebpackPlugin()] æœåŠ¡å™¨ä»£ç†åœºæ™¯ä¸€å‰ç«¯ä»£ç  123456// 8080 ä¸‹çš„é¡µé¢è¯·æ±‚ 3001 ä¸‹çš„æ•°æ®å¿…ç„¶ä¸è¡Œfetch('/api/user').then(res =&gt; &#123; return res.json();&#125;).then(data =&gt; &#123; console.log(data);&#125;); Webpack é…ç½® 12345678910devServer: &#123; contentBase: './dist', port: 8080, host: 'localhost', proxy: &#123; // å¦‚æœè¯·æ±‚ `localhost:8080/api/users` å¼€å¤´çš„å°±ä¼šè¢«ä»£ç†åˆ° `localhost:3001/api/users` // è‡ªå·±å®šä¹‰ä¸ªæ¥å£çš„ç‰¹ç‚¹ï¼Œä¾‹å¦‚ call "/api": "http://localhost:3001" &#125;&#125; æœåŠ¡ç«¯ä»£ç  1234567891011const express = require('express');const app = express();app.get('/api/user', (req, res) =&gt; &#123; res.send(&#123; name: 'ifer', age: 18 &#125;);&#125;);app.listen(3001); åœºæ™¯äºŒåç«¯å†™æ¥å£çš„æ—¶å€™ä¸å¯èƒ½éƒ½åŠ ä¸Š /api å§ï¼Œå¤ªè›‹ç–¼äº†ï¼Œéœ€è¦è·¯å¾„çš„é‡å‘½åï¼ 1234567891011121314151617devServer: &#123; // ç”Ÿæˆé™æ€æ–‡ä»¶æ ¹ç›®å½• contentBase: './dist', port: 8080, host: 'localhost', proxy: &#123; // è¯·æ±‚çš„ http://localhost:8080/api/users æ˜ å°„åˆ° http://localhost:3001/users // å¦‚æœè¯·æ±‚çš„æ˜¯ /api/users æŠŠ /api å»æ‰ "/api": &#123; target: "http://localhost:3001", pathRewrite: &#123; // "^/api": "" "/api": "" &#125; &#125; &#125;&#125;, åç«¯åªéœ€ 123456app.get('/user', (req, res) =&gt; &#123; res.send(&#123; name: 'test', age: 18 &#125;);&#125;); åœºæ™¯ä¸‰é€šè¿‡é…ç½® Webpack ä¹Ÿå¯ä»¥å®ç°ç®€å•çš„æ•°æ® Mock 123456789101112131415devServer: &#123; // ç”Ÿæˆé™æ€æ–‡ä»¶æ ¹ç›®å½• contentBase: './dist', port: 8080, host: 'localhost', // é’©å­ï¼Œå¯åŠ¨æœåŠ¡ä¹‹å‰åšä¸€äº›äº‹æƒ… before(app) &#123; app.get('/api/user', (req, res)=&gt; &#123; res.send(&#123; user: 'ifer', age: 18 &#125;); &#125;); &#125;&#125;, ä¸€èˆ¬ä½¿ç”¨çš„æ—¶å€™æœ€å¥½æŠŠ mock æ•°æ®ç‹¬ç«‹æˆä¸€ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š 12345678910const mock = require('./mock');devServer: &#123; // ç”Ÿæˆé™æ€æ–‡ä»¶æ ¹ç›®å½• contentBase: './dist', port: 8080, host: 'localhost', before(app) &#123; mock(app); &#125;&#125;, 123456789// mock.jsmodule.exports = function(app) &#123; app.get('/api/user', (req, res) =&gt; &#123; res.send(&#123; user: 'ifer', age: 18 &#125;); &#125;);&#125;; åœºæ™¯å››å¸Œæœ›åœ¨å·²æœ‰çš„ Express æœåŠ¡ä¸­é›†æˆ webpackï¼Œå¥½å¤„æ˜¯æ–¹ä¾¿åˆ©ç”¨ Expressï¼Œä¸éœ€è¦ä»£ç†äº†ï¼Œä¸‹æ¬¡åªéœ€è¦å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼ˆserver.jsï¼‰å³å¯ï¼Œwebpack.config.js çš„ devServer æœ€å¥½ä¸è¦å†é…ç½® proxy äº† 1npm i webpack-dev-middleware -D 12345678910111213141516171819202122232425// express è™½ç„¶ package.json ä¸­æ²¡æœ‰ï¼Œwebpack-dev-server å·²ç»ä¾èµ–äº† ...const express = require('express');const morgan = require('morgan');const app = express();const webpack = require('webpack');/** * 1ã€webpack ä¸­é›†æˆäº† express(webpack-dev-server) * 2ã€express ä¸­é›†æˆ webpack */const webpackDevMiddleware = require('webpack-dev-middleware');const webpackConfig = require('./webpack.config.js');const compiler = webpack(webpackConfig);app.use(webpackDevMiddleware(compiler));app.use(morgan('dev'));app.get('/user', (req, res) =&gt; &#123; res.send(&#123; name: "ifer", age: 17 &#125;);&#125;);app.listen(3001); ä»¥ä¸Šä»£ç ]]></content>
      <tags>
        <tag>Webpack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†è¯´äº‹ä»¶ç»‘å®š]]></title>
    <url>%2F2019%2F06%2F27%2FaddEventListener%2F</url>
    <content type="text"><![CDATA[å¤§å®¶éƒ½æ¸…æ¥šï¼Œå¸¸ç”¨çš„äº‹ä»¶ç»‘å®šæœ‰ä¸¤ç§å½¢å¼ï¼Œä¸€ç§æ˜¯ä¼ ç»Ÿç»‘å®šï¼Œä¾‹å¦‚ oBtn.onclick = fn; è¿˜æœ‰ä¸€ç§æ˜¯é€šè¿‡äº‹ä»¶ç›‘å¬ï¼Œä¾‹å¦‚ oBtn.addEventListener(&#39;click&#39;, fn, false); ä¸¤ç§ç»‘å®šæ–¹å¼æœ€å¤§çš„å·®å¼‚æˆ‘ç›¸ä¿¡å¤§å®¶ä¹Ÿæ¯”è¾ƒæ¸…æ¥šï¼Œå°±æ˜¯ä¼ ç»Ÿæ–¹å¼ç»™åŒä¸€å…ƒç´ ç»‘å®šå¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºæ—¶ç”Ÿæ•ˆçš„æ˜¯æœ€åçš„é‚£ä¸ªï¼ˆåé¢çš„è¦†ç›–å‰é¢çš„ï¼‰ï¼Œäº‹ä»¶ç›‘å¬çš„å½¢å¼ç»™åŒä¸€å…ƒç´ ç»‘å®šå¤šä¸ªä¸åŒçš„äº‹ä»¶å¤„ç†ç¨‹åºæ—¶éƒ½ä¼šç”Ÿæ•ˆã€‚ä½†æ˜¯åœ¨å…·ä½“ä½¿ç”¨æ—¶ç”¨ä»€ä¹ˆæ–¹å¼ç»‘ï¼Ÿç»‘å®šåœ¨è°èº«ä¸Šï¼ˆæ˜¯ç‚¹å‡»çš„å½“å‰å…ƒç´ è¿˜æ˜¯çˆ¶å…ƒç´ ï¼‰ï¼Ÿä»€ä¹ˆæ—¶å€™ç»‘ï¼ˆæ˜¯ç‚¹å‡»çš„æ—¶å€™ç»‘è¿˜æ˜¯ç¨‹åºåŠ è½½çš„æ—¶å€™ç»‘ï¼‰ï¼Ÿéƒ½æ˜¯ä½ éœ€è¦å…³æ³¨çš„ç»†èŠ‚ï¼Œè¿™é‡Œæˆ‘ä¸¾äº†ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜è¿™ä¸‰ä¸ªé—®é¢˜ï¼ åŸºæœ¬éœ€æ±‚ éœ€æ±‚ï¼šç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼ŒæŠŠ input æ¡†ä¸­çš„å†…å®¹æ”¾å…¥æ–°åˆ›å»ºçš„ liï¼Œå¹¶ç»™ li ä¸­æ·»åŠ åˆ é™¤æŒ‰é’®å¯ä»¥åˆ é™¤å½“å‰è¡Œï¼Œæœ€åæŠŠ li æ·»åŠ åˆ° ul ä¸­ï¼Œå¦‚ä¸Šå›¾ ä»£ç å®ç°ï¼š 123&lt;input type="text"&gt;&lt;button&gt;æ·»åŠ &lt;/button&gt;&lt;ul style="width: 200px;"&gt;&lt;/ul&gt; 123456789101112131415161718192021222324252627var oInput = document.querySelector('input');var oBtn = document.querySelector('button');var oUl = document.querySelector('ul');oBtn.onclick = function() &#123; // åˆ›å»º li var oLi = document.createElement('li'); // ç»™ li æ·»åŠ å†…å®¹ oLi.innerHTML = oInput.value; // æ·»åŠ  li åˆ° ul oUl.appendChild(oLi); // åˆ›å»ºåˆ é™¤æŒ‰é’® span var oBtn = document.createElement('span'); // æ·»åŠ æ–‡å­— oBtn.innerHTML = 'åˆ é™¤'; // æ·»åŠ åˆ é™¤æŒ‰é’®åˆ° li oLi.appendChild(oBtn); // æ¯æ¬¡ç‚¹å‡»æ—¶é€‰æ‹©æ‰€æœ‰æŒ‰é’®ï¼Œå¹¶ç»‘å®šç‚¹å‡»äº‹ä»¶åšåˆ é™¤æ“ä½œ var aBtn = document.querySelectorAll('span'); for(var i = 0; i &lt; aBtn.length; i ++) &#123; aBtn[i].onclick = function() &#123; oUl.removeChild(this.parentNode); &#125;; &#125;&#125;; é—®é¢˜é‡ç°ä¸Šé¢åˆ é™¤å½“å‰åˆ—è¡¨çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬æ˜¯ç”¨æ™®é€šçš„äº‹ä»¶ç»‘å®šå½¢å¼(onclick)å»åšçš„ï¼Œæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚æœ‰åŒå­¦å°è¯•ç”¨äº‹ä»¶ç›‘å¬çš„å½¢å¼(addEventListener)æ”¹å†™ä»£ç å¦‚ä¸‹ï¼š 123456var aBtn = document.querySelectorAll('span');for(var i = 0; i &lt; aBtn.length; i ++) &#123; aBtn[i].addEventListener('click', function() &#123; oUl.removeChild(this.parentNode); &#125;);&#125; ç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼Œå¢åŠ äº† 2 ä¸ªæˆ–å¤§äº 2 ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶å†åˆ é™¤éæœ€åä¸€ä¸ªåˆ—è¡¨æ—¶ï¼ˆéæœ€åä¸€ä¸ªè¿˜æ˜¯éç¬¬ä¸€ä¸ªå–å†³äºæ˜¯ç”¨ appendChild è¿˜æ˜¯ insertBefore æ’å…¥çš„ï¼‰ï¼Œå´å‘ç°å‡ºç°äº†é”™è¯¯ï¼æ‰“å¼€æ§åˆ¶å°æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼ˆåˆ é™¤äº†ä¸€ä¸ªä¸æ˜¯ oUl å­å…ƒç´ çš„èŠ‚ç‚¹ï¼‰ï¼š é—®é¢˜åˆ†æç¬¬ 1 æ¬¡ç‚¹å‡»æŒ‰é’®æ·»åŠ å®Œæˆåï¼Œä¼šé€šè¿‡ var aBtn = document.querySelectorAll(&#39;span&#39;); é€‰æ‹©æ‰€æœ‰çš„åˆ é™¤æŒ‰é’®ï¼Œç»‘å®šäº‹ä»¶ ç¬¬ 2 æ¬¡ç‚¹å‡»æ·»åŠ æŒ‰é’®å®Œæˆåï¼Œä¼šé€šè¿‡ var aBtn = document.querySelectorAll(&#39;span&#39;); é€‰æ‹©æ‰€æœ‰çš„åˆ é™¤æŒ‰é’®ï¼Œç»‘å®šäº‹ä»¶ã€‚é—®é¢˜å°±å‡ºåœ¨è¿™é‡Œï¼Œé€‰æ‹©æ‰€æœ‰åˆ é™¤æŒ‰é’®å¹¶ç»‘å®šäº‹ä»¶çš„æ“ä½œï¼Œå…¶å®åˆä¼šæŠŠä¹‹å‰å·²ç»ç»‘å®šäº‹ä»¶çš„å…ƒç´ å†æ¬¡ç»‘å®šäº†ä¸€æ¬¡ã€‚æ‰€ä»¥ç‚¹å‡»åˆ é™¤æŒ‰é’®æ—¶ä¼šå‘ç° oUl.removeChild(this.parentNode); æ‰§è¡Œäº†å¤šæ¬¡ï¼ˆå–å†³äºé‡å¤ç»‘å®šäº†å¤šå°‘æ¬¡ï¼‰ï¼Œç¬¬ 1 æ¬¡æ‰§è¡Œæ—¶å·²ç»æŠŠå½“å‰ li ä» ul ä¸­ç§»é™¤ï¼Œä¸‹æ¬¡å†æ‰§è¡Œ oUl.removeChild(this.parentNode); æ—¶å…¶å® ul ä¸­å·²ç»æ²¡æœ‰äº†è¿™ä¸ª liï¼Œåˆ é™¤ä¸€ä¸ªä¸å­˜åœ¨çš„å­èŠ‚ç‚¹å°±ä¼šæŠ¥é”™ï¼ ç¬¬ 3 æ¬¡ç‚¹å‡»æ·»åŠ æŒ‰é’®å®Œæˆåï¼ŒåŒç†â€¦ è§£å†³æ–¹æ¡ˆWay1: ä½¿ç”¨æ™®é€šçš„äº‹ä»¶ç»‘å®šå½¢å¼ï¼ˆonclickï¼‰ Way2: å¯¹äºåŒæ ·çš„äº‹ä»¶å¤„ç†ç¨‹åºç‹¬ç«‹å‡ºå»å˜æˆåŒä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡ä¿è¯ç»‘å®šçš„æ˜¯åŒä¸€ä¸ªï¼ˆå‡½æ•°ï¼‰ï¼Œä¾‹å¦‚ï¼š 123456789var aBtn = document.querySelectorAll('span');for(var i = 0; i &lt; aBtn.length; i ++) &#123; // aBtn[i].removeEventListener('click', rm); // è¿™é‡Œå°±æ²¡æœ‰å¿…è¦è¿›è¡Œå…ˆè§£ç»‘äº†ï¼Œå› ä¸ºæ¯æ¬¡ç»‘å®šçš„æ˜¯åŒä¸€ä¸ª rmï¼Œä¼šè¦†ç›–æ‰ä¹‹å‰çš„ aBtn[i].addEventListener('click', rm);&#125;// æ³¨æ„è¿™é‡Œå·§å¦™çš„ç”¨åˆ°äº† e.target æŸ¥æ‰¾å½“å‰ç‚¹å‡»çš„å…ƒç´ ï¼Œä¸è¦è¯•å›¾é€šè¿‡ä¼ å‚çš„å½¢å¼ä½¿ç”¨ this æŸ¥æ‰¾å½“å‰å…ƒç´ ï¼function rm(e) &#123; oUl.removeChild(e.target.parentNode);&#125; Way3: å…¶å®å‰é¢æ¯æ¬¡æ·»åŠ åˆ—è¡¨å°±é€šè¿‡ querySelectorAll é‡æ–°é€‰æ‹©æ‰€æœ‰åˆ é™¤æŒ‰é’®å¹¶ç»‘å®šäº‹ä»¶ï¼Œæœ¬èº«å°±æ˜¯ä¸€ä¸ªç³Ÿç³•çš„æ€è·¯ï¼å…¶å®åªéœ€è¦æ‰¾åˆ°æœ€æ–°æ·»åŠ çš„é‚£ä¸€ä¸ªè¿›è¡Œäº‹ä»¶ç»‘å®šå°±å¯ä»¥äº†ï¼Œå¾€å‰æ’å…¥çš„è¯å¯ä»¥ç›´æ¥é€šè¿‡ var oBtn = document.querySelector(&#39;span&#39;); æ‰¾åˆ°æœ€æ–°æ·»åŠ çš„é‚£ä¸ªï¼Œå¾€åæ’å…¥çš„è¯ä»£ç å¦‚ä¸‹ï¼š 1234var oBtn = document.querySelectorAll('span')[oUl.children.length-1];oBtn.addEventListener('click', function() &#123; oUl.removeChild(this.parentNode);&#125;); é™¤äº†ä¸Šé¢é€šè¿‡å…ƒç´ é€‰æ‹©çš„æ–¹å¼æŸ¥æ‰¾æœ€æ–°æ·»åŠ çš„é‚£ä¸€ä¸ªï¼Œæœ€æ­£ç¡®çš„æ–¹å¼å…¶å®æ˜¯æ ¹æœ¬ä¸ç”¨æŸ¥æ‰¾ï¼Œå®ƒå°±åœ¨é‚£é‡Œï¼æ¯æ¬¡æ·»åŠ åˆ—è¡¨çš„æ—¶å€™ï¼Œå½“å‰åˆ›å»ºçš„åˆ é™¤æŒ‰é’®å°±æ˜¯æœ€æ–°çš„ï¼Œç›´æ¥ç»™å…¶ç»‘å®šäº‹ä»¶å³å¯ï¼Œè¿™æ ·æ— è®ºæ˜¯ä»æ•ˆç‡ï¼Œè¿˜æ˜¯ä»£ç ç®€æ´åº¦ä¸Šéƒ½æœ€ä½³ï¼Œä»£ç å¦‚ä¸‹ï¼š 1234567var oBtn = document.createElement('span');// ç»™ä¸€ä¸ªåˆ›å»ºçš„å…ƒç´ å•ç‹¬ç»‘å®šäº‹ä»¶ï¼Œè€Œä¸æ˜¯æ¯æ¬¡ç‚¹å‡»é€šè¿‡ querySelectorAll é€‰æ‹©çš„å½¢å¼oBtn.addEventListener('click', function() &#123; oUl.removeChild(this.parentNode);&#125;);oBtn.innerHTML = 'åˆ é™¤';oLi.appendChild(oBtn); Way4: ä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼Œæ¨èï¼ 1234567// æŠŠäº‹ä»¶ç»‘å®šåœ¨çˆ¶çº§ä¸ŠoUl.addEventListener('click', function(e) &#123; // æ ¹æ®ç‚¹å‡»å½“å‰å…ƒç´ çš„åå­—ï¼ˆæˆ–å…¶ä»–ï¼‰æ¥åˆ¤æ–­æ˜¯å¦æ˜¯ spanï¼ˆå³åˆ é™¤æŒ‰é’®ï¼‰ï¼Œç„¶ååšç›¸åº”çš„æ“ä½œ if(e.target.nodeName.toLowerCase() === 'span') &#123; e.currentTarget.removeChild(e.target.parentNode); &#125;&#125;);]]></content>
      <categories>
        <category>Web API</category>
      </categories>
      <tags>
        <tag>addEventListener</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºæ•°ç»„å¡Œé™·]]></title>
    <url>%2F2019%2F06%2F23%2Fsplice%2F</url>
    <content type="text"><![CDATA[å…³äºæ•°ç»„çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œsplice ç®—æ˜¯æ¯”è¾ƒå¼ºå¤§çš„ä¸€ä¸ªï¼Œå®ƒèƒ½ç”¨æ¥åˆ é™¤ã€æ·»åŠ ã€æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå®é™…å¼€å‘ä¸­éå¸¸å®ç”¨ï¼ åŸºæœ¬è¯­æ³•123456// start: ä»å“ªé‡Œå¼€å§‹ï¼Œä¹Ÿæ”¯æŒè´Ÿå€¼ï¼Œ-n ç›¸å½“äº arr.length - n// deleteCount: è¦åˆ é™¤å‡ ä¸ªï¼ˆå¯é€‰ï¼‰// item1, item2: è¦æ·»åŠ è¿›æ•°ç»„çš„å…ƒç´ ï¼ˆå¯é€‰ï¼‰// è¿”å›å€¼: ä»¥æ•°ç»„çš„å½¢å¼è¿”å›åˆ é™¤çš„é‚£äº›å…ƒç´ array.splice(start, deleteCount, item1, item2); ä»£ç æ¼”ç»ƒåˆ é™¤ï¼šä»ç¬¬ 2 ä½å¼€å§‹ï¼Œåˆ é™¤ 2 ä¸ª 123var arr = ['apple', 'orange', 'banana', 'watermelon'];arr.splice(2, 2);console.log(arr); // ['apple', 'orange'] æ·»åŠ ï¼šä»ç¬¬ 2 ä½å¼€å§‹ï¼Œåˆ é™¤ 0 ä¸ªï¼Œæ·»åŠ  ğŸ¤£ğŸ˜ 123var arr = ['apple', 'orange', 'banana', 'watermelon'];arr.splice(2, 0, 'ğŸ¤£', 'ğŸ˜');console.log(arr); // ["apple", "orange", "ğŸ¤£", "ğŸ˜", "banana", "watermelon"] æ›¿æ¢ï¼šä»ç¬¬ 2 é¡¹å¼€å§‹ï¼Œåˆ é™¤ 2 é¡¹å¹¶æ·»åŠ ğŸŒå’ŒğŸ‰ 123var arr = ['apple', 'orange', 'banana', 'watermelon'];arr.splice(2, 2, 'ğŸŒ', 'ğŸ‰');console.log(arr); // ["apple", "orange", "ğŸŒ", "ğŸ‰"] æ•°ç»„å¡Œé™·éœ€æ±‚ï¼šåˆ©ç”¨ splice åˆ é™¤æ•°ç»„ä¸­çš„æŒ‡å®šå…ƒç´  1234var arr = ['apple', 'orange', 'banana', 'watermelon'];// ä» 0 å¼€å§‹åˆ åˆ°æœ€åï¼Œå¹¶ä¸èƒ½æŒ‡å®šåˆ é™¤æŸä¸ªå…ƒç´ arr.splice(0);console.log(arr); // [] 1234567// åˆ é™¤æŒ‡å®šçš„æŸä¸ªå…ƒç´ æ—¶å°±éœ€è¦éå†ï¼Œä½†æœ€ç»ˆçš„ç»“æœå’Œæˆ‘ä»¬æƒ³çš„ä¸ä¸€æ ·ï¼var arr = ['apple', 'orange', 'banana', 'watermelon'];for(var i = 0; i &lt; arr.length; i ++) &#123; // ä»ç¬¬ i ä¸ªå¼€å§‹ï¼Œåˆ é™¤ 1 ä¸ª arr.splice(i, 1);&#125;console.log(arr); // ["orange", "watermelon"] ä¸Šé¢çš„å†™æ³•åˆ ä¸å¹²å‡€ï¼Œå› ä¸º splice æ¯åˆ é™¤ä¸€ä¸ªå…ƒç´ å°±ä¼šæ”¹å˜åŸæ¥æ•°ç»„çš„ç´¢å¼•ä»¥åŠé•¿åº¦ï¼Œè€Œ i çš„å€¼æ°¸è¿œæ˜¯ä¸ªé€’å¢çš„çŠ¶æ€ï¼Œä»£ç åˆ†æå¦‚ä¸‹ï¼ˆå»ºè®®æ–­ç‚¹è°ƒè¯•ï¼‰ï¼š ç¬¬ 1 æ¬¡ i ç­‰äº 0ï¼Œ arr.splice(0, 1) åçš„ç»“æœæ˜¯ [â€˜orangeâ€™, â€˜bananaâ€™, â€˜watermelonâ€™]ï¼Œarr çš„ length å˜ä¸ºäº† 3ï¼› ç¬¬ 2 æ¬¡ i ç­‰äº 1ï¼Œarr.splice(1, 1) åçš„ç»“æœæ˜¯ [â€˜orangeâ€™, â€˜watermelonâ€™]ï¼Œarr çš„ length å˜ä¸ºäº† 2ï¼› ç¬¬ 3 æ¬¡ i ç­‰äº 2ï¼Œ i &lt; arr.length æ¡ä»¶ä¸ºå‡ï¼Œç»“æŸå¾ªç¯ï¼› è§£å†³æ–¹æ³•éœ€æ±‚ï¼šè§£å†³ä¸Šé¢åˆ©ç”¨ splice åˆ é™¤ä¸å¹²å‡€çš„é—®é¢˜ï¼ æ¯æ¬¡åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  1234567var arr = ['apple', 'orange', 'banana', 'watermelon'];for(var i = 0; i &lt; arr.length; i ++) &#123; arr.splice(i, 1); // æ¯æ¬¡åˆ é™¤åè¿›è¡Œ i--ï¼Œè¿™æ ·å°±èƒ½ä¿è¯åˆ é™¤çš„æ°¸è¿œéƒ½æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆè¯´ç¬¬ä¸€ä¸ªå…ƒç´ ä¸å¤ªå‡†ç¡®ï¼Œå–å†³äºiçš„å€¼å˜åŒ–åˆ°å“ªé‡Œäº†ï¼‰ i --;&#125;console.log(arr); // [] 1234// åŸç†å’Œä¸Šé¢ä¸€æ ·ï¼Œæ°¸è¿œåˆ é™¤æ•°ç»„æœ€å‰é¢é‚£ä¸ªå…ƒç´ while(arr.length) &#123; arr.splice(0, 1);&#125; å€’ç€åˆ  123456// å¯ä»¥é€šè¿‡æ–­ç‚¹è°ƒè¯•æŸ¥çœ‹ä»£ç æ‰§è¡Œè¿‡ç¨‹var arr = ['apple', 'orange', 'banana', 'watermelon'];for(var i = arr.length - 1; i &gt;= 0; i --) &#123; arr.splice(i, 1);&#125;console.log(arr); ä½¿ç”¨åœºæ™¯æ•°ç»„å»é‡ï¼šæ¯æ¬¡ç”¨å½“å‰å…ƒç´ å’Œåé¢çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒå°±åˆ©ç”¨ splice åˆ é™¤æ‰åé¢ç›¸åŒçš„é‚£ä¸ªå…ƒç´  jï¼ˆæˆ–å½“å‰çš„ iï¼‰ 12345678910var arr = ['apple', 'apple', 'apple', 'orange', 'apple'];for(var i = 0; i &lt; arr.length; i ++) &#123; for(var j = i + 1; j &lt; arr.length; j ++) &#123; if(arr[i] === arr[j]) &#123; arr.splice(j, 1); // è§£å†³ splice åå¸¦æ¥çš„æ•°ç»„å¡Œé™·é—®é¢˜ j --; &#125; &#125;&#125; é¢˜ç›®æµ‹è¯•éœ€æ±‚ï¼šåœ¨æ•°ç»„ var arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]; æ¯ä¸€é¡¹çš„å‰é¢æ·»åŠ  @ å­—ç¬¦ 123456// Way1for(var i = arr.length - 1; i &gt;= 0; i --) &#123; arr.splice(i, 0, '@');&#125;console.log(arr); // ["@", "a", "@", "b", "@", "c", "@", "d"] 12345678// Way2for(var i = 0; i &lt; arr.length; i ++) &#123; arr.splice(i, 0, '@'); // ['@', 'a', 'b', 'c', 'd'] ä¸‹æ¬¡ 'b' çš„ç´¢å¼•å·²ç»æ˜¯ 2 äº†ï¼Œéœ€è¦å†æ¬¡è¿›è¡Œ i++ i++;&#125;console.log(arr); // ["@", "a", "@", "b", "@", "c", "@", "d"] 1234567// Way3for(var i = 0; i &lt; arr.length; i ++) &#123; arr.splice(i, 1, '@'+arr[i]);&#125;arr = arr.join('').split('');console.log(arr); // ["@", "a", "@", "b", "@", "c", "@", "d"] å…¶ä»–æ–¹æ³•ç”¨ splice åˆ é™¤æŒ‡å®šå…ƒç´ çš„ç›®çš„ï¼Œæ¢å¥è¯è¯´æ— éæ˜¯æƒ³å¾—åˆ°æƒ³è¦çš„å…ƒç´ ï¼Œå…¶å®æ•°ç»„ä¹Ÿæä¾›äº† filter æ–¹æ³•ï¼Œå¯ä»¥å¸®æˆ‘ä»¬ç­›é€‰å‡ºæƒ³è¦çš„æ•°ç»„å…ƒç´ ï¼ 12345// å…·ä½“ä½¿ç”¨çœ‹æ–‡æ¡£ï¼Œè¿™é‡Œä¸å†å•°å—¦äº†ï¼var arr = ['apple', 'orange', 'banana', 'watermelon'];// è¿”å›ä¸€ä¸ªæ–°çš„ã€ç”±é€šè¿‡æµ‹è¯•çš„å…ƒç´ ç»„æˆçš„æ–°æ•°ç»„var newArr = arr.filter(word =&gt; !word);console.log(newArr); // []]]></content>
      <categories>
        <category>JS åŸºç¡€</category>
      </categories>
      <tags>
        <tag>æ•°ç»„å¡Œé™·</tag>
        <tag>splice</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ ‡è®°è¯­å¥]]></title>
    <url>%2F2019%2F06%2F21%2Fjs-label%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰è¯¾ä¸Šåšè¿‡ä¸€ä¸ªè®¡ç®—å™¨çš„æ¡ˆä¾‹ï¼Œé€‰æ‹© 1ã€2ã€3ã€4 åä¼šå¯¹åé¢å¡«å…¥çš„æ•°å­—è¿›è¡Œå¯¹åº”çš„è¿ç®—å¹¶å¼¹å‡ºç»“æœï¼Œç‚¹å‡»ç¡®å®šååˆä¼šå›åˆ°åˆå§‹ç•Œé¢ã€‚å¦‚æœç”¨æˆ·åœ¨åˆå§‹ç•Œé¢è¾“å…¥çš„æ˜¯æ•°å­— 5ï¼Œç‚¹å‡»ç¡®å®šå°±ä¼šè¿›è¡Œé€€å‡ºæ“ä½œï¼Œä¸å†å›åˆ°åˆå§‹ç•Œé¢äº†ï¼ å¯å®ç°ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839// è¾“å…¥å†…å®¹å¹¶è¿”å›function inputValue() &#123; var num1 = parseFloat(prompt('è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•°ï¼š')); var num2 = parseFloat(prompt('è¯·è¾“å…¥ç¬¬äºŒä¸ªæ•°ï¼š')); return [num1, num2];&#125;// ç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªå¼€å…³ï¼Œé»˜è®¤å¼€å¯çŠ¶æ€var bBar = true;do &#123; var opration = prompt('è¯·é€‰æ‹©è¦è¿›è¡Œçš„è¿ç®—ï¼š\n1. åŠ æ³•è¿ç®—\n2. å‡æ³•è¿ç®—\n3. ä¹˜æ³•è¿ç®—\n4. é™¤æ³•è¿ç®—\n5. é€€å‡º'); opration = parseInt(opration); switch (opration) &#123; case 1: var arr = inputValue(); alert('ç›¸åŠ çš„ç»“æœæ˜¯ï¼š' + (arr[0] + arr[1])); break; case 2: var arr = inputValue(); alert('ç›¸å‡çš„ç»“æœæ˜¯ï¼š' + (arr[0] - arr[1])); break; case 3: var arr = inputValue(); alert('ç›¸ä¹˜çš„ç»“æœæ˜¯ï¼š' + (arr[0] * arr[1])); break; case 4: var arr = inputValue(); alert('ç›¸é™¤çš„ç»“æœæ˜¯ï¼š' + (arr[0] / arr[1])); break; case 5: alert('é€€å‡º...'); // å¦‚æœç”¨æˆ·è¾“å…¥çš„æ˜¯ 5ï¼Œåˆ™å…³é—­å¼€å…³ï¼Œé‚£ä¸‹æ¬¡çš„å¾ªç¯ bBar å°±æ˜¯ falseï¼Œwhile(bBar) ä¹Ÿå°±ä¸ä¼šæ‰§è¡Œäº† bBar = false; // é»˜è®¤åªä¼šé€€å‡ºå½“å‰çš„ switch break; &#125;&#125; while (bBar); å…¶å®ä¸Šé¢é€€å‡ºå¾ªç¯çš„æ“ä½œä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡è®°è¯­å¥æ¥å®Œæˆï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç‚¹å‡»é“¾æ¥è¿›å»å­¦ä¹ ä¸‹ï¼Œä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š 123456789101112// Step1: æŒ‡å®šæ ‡è®°ç‚¹loopPoint:do &#123; // ... switch (opration) &#123; // ... case 5: alert('é€€å‡º...'); // Step2: è·³åˆ°æ ‡è®°ç‚¹ break loopPoint; &#125;&#125; while (true); ä¸‹é¢æ˜¯æµ‹è¯•ä»£ç ï¼š 1234567891011121314var num = 0;for (var i = 0; i &lt; 6; i++) &#123; for (var j = 0; j &lt; 6; j++) &#123; // å½“ i ç­‰äº 3 å¹¶ä¸” j ç­‰äº 3 æ—¶ï¼Œä¼šç›´æ¥ break é‡Œé¢ä¸€å±‚çš„ for å¾ªç¯ï¼Œç»§ç»­å¤–é¢çš„ for å¾ªç¯ // å½“ i ç­‰äº 3 æ—¶ï¼Œå¯¼è‡´ j å€¼ä¸º [3,6) ä¹‹é—´çš„æ²¡æœ‰è¿›è¡Œï¼Œnum å°‘åŠ äº† 3 æ¬¡ // æ‰€ä»¥æœ€ç»ˆçš„ num å€¼ä¸º 33 if (i == 3 &amp;&amp; j == 3) &#123; // è·³å‡ºå½“å‰å¾ªç¯ break; &#125; num++; &#125;&#125;console.log(num); // æ‰“å°ç»“æœæ˜¯å¤šå°‘ï¼Ÿ 1234567891011121314151617var num = 0;outerMark:for (var i = 0; i &lt; 6; i++) &#123; // å¤–å±‚ for å¾ªç¯ï¼Œi ç­‰äº 0 æ—¶ï¼Œé‡Œå±‚æ‰§è¡Œå®Œ 6 æ¬¡ // å¤–å±‚ for å¾ªç¯ï¼Œi ç­‰äº 1 æ—¶ï¼Œé‡Œå±‚æ‰§è¡Œå®Œ 6 æ¬¡ // å¤–å±‚ for å¾ªç¯ï¼Œi ç­‰äº 2 æ—¶ï¼Œé‡Œå±‚æ‰§è¡Œå®Œ 6 æ¬¡ // å¤–å±‚ for å¾ªç¯ï¼Œi ç­‰äº 3 æ—¶ï¼Œé‡Œå±‚å¾ªç¯ j æ‰§è¡Œäº† 3 æ¬¡ [0, 3) // æœ€ç»ˆçš„ num å€¼æ˜¯ 21 for (var j = 0; j &lt; 6; j++) &#123; if (i == 3 &amp;&amp; j == 3) &#123; // è·³å‡ºåˆ° outerMark æ ‡è®°çš„åœ°æ–¹ break outerMark; &#125; num++; &#125;&#125;console.log(num); // æ‰“å°ç»“æœæ˜¯å¤šå°‘ï¼Ÿ 123456789101112var num = 0;outerMark:for (var i = 0; i &lt; 6; i++) &#123; for (var j = 0; j &lt; 6; j++) &#123; if (i == 3 &amp;&amp; j == 3) &#123; // è·³å‡ºå¤–å±‚çš„å½“å‰å¾ªç¯ï¼Œç»§ç»­ä¸‹æ¬¡ i++ continue outerMark; &#125; num++; &#125;&#125;console.log(num); // æ‰“å°ç»“æœæ˜¯å¤šå°‘ï¼Ÿ]]></content>
      <categories>
        <category>JS åŸºç¡€</category>
      </categories>
      <tags>
        <tag>æ ‡è®°è¯­å¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç§»åŠ¨ç«¯å¸ƒå±€é‚£ç‚¹äº‹]]></title>
    <url>%2F2019%2F06%2F07%2Fmobile-layout%2F</url>
    <content type="text"><![CDATA[ä½œä¸ºå‰ç«¯ï¼Œåœ¨ä»Šå¤©æ¥è¯´ï¼Œç§»åŠ¨ç«¯å¸ƒå±€å¿…é¡»æ˜¯ä¸€ä»¶å¿…çŸ¥å¿…ä¼šçš„äº‹æƒ…ï¼Œé‡è¦ç¨‹åº¦ä¸è¨€è€Œå–»ï¼è¿™é‡Œæˆ‘æ€»ç»“äº†åŒä¸€æ¡ˆä¾‹ä¸‹ä¸åŒå¸ƒå±€çš„å†™æ³•ï¼ˆåŸç†å°±ä¸å†èµ˜è¿°ï¼Œç›´æ¥å³é”®æŸ¥çœ‹æºä»£ç å³å¯ï¼‰ï¼Œæ–¹ä¾¿å¤§å®¶å›å¿†ã€‚ ç™¾åˆ†æ¯”å¸ƒå±€ç‰¹ç‚¹ï¼šå®½åº¦ç™¾åˆ†æ¯”ã€é«˜åº¦å†™æ­»ï¼ˆ750çš„è®¾è®¡ç¨¿ä¸‹ä¸€èˆ¬é™¤ä»¥2ï¼‰ã€‚ç¼ºç‚¹ï¼šé«˜åº¦æˆ–æ–‡å­—å¾ˆéš¾è‡ªé€‚åº”ã€‚ ä¸¾ä¾‹ Flexible å¸ƒå±€ç‰¹ç‚¹ï¼šå®½åº¦å¼¹æ€§å¸ƒå±€ã€é«˜åº¦å†™æ­»ã€‚ç¼ºç‚¹ï¼šé«˜åº¦æˆ–æ–‡å­—è¿˜æ˜¯å¾ˆéš¾è‡ªé€‚åº”ã€‚ä¼˜ç‚¹ï¼šçµæ´»ã€ç®€æ´ã€‚ ä¸¾ä¾‹ REM å¸ƒå±€åŸç†ï¼šä¸åŒå°ºå¯¸å±å¹•ä¸‹ç»™æ ¹å…ƒç´ è®¾ç½®ä¸åŒçš„æ–‡å­—å¤§å°ï¼ˆåˆ©ç”¨åª’ä½“æŸ¥è¯¢æˆ–JSï¼‰ï¼Œå®½ã€é«˜ã€é—´è·â€¦éƒ½ç»Ÿä¸€ä½¿ç”¨ REM å•ä½ã€‚ä½¿ç”¨ï¼šé‡å–åˆ°çš„è®¾è®¡ç¨¿å°ºå¯¸é™¤ä»¥æ ¹å…ƒç´ å­—ä½“å¤§å°ï¼ˆåŸºå‡†å€¼ï¼‰å³å¯ï¼Œä¾‹å¦‚ä½¿ç”¨ flexible.jsï¼Œ150px ç”¨ rem è¡¨ç¤ºå°±æ˜¯ 2remã€‚ä¼˜ç‚¹ï¼šé«˜åº¦å’Œæ–‡å­—å¯ä»¥è‡ªé€‚åº”ã€‚ æ³¨æ„ em æ˜¯ç›¸å¯¹äºå½“å‰å…ƒç´ çš„å­—ä½“å¤§å°ï¼ˆå¦‚æœå½“å‰å…ƒç´ æ²¡æœ‰è®¾ç½®å­—ä½“å¤§å°é‚£å°±æ˜¯ç»§æ‰¿è¿‡æ¥çš„å¤§å°ï¼‰çš„å•ä½ã€‚ ä¸¾ä¾‹ å“åº”å¼å¸ƒå±€åŸç†ï¼šåˆ©ç”¨ bootstrap çš„æ …æ ¼ç³»ç»Ÿï¼ˆæ ¸å¿ƒè¿˜æ˜¯åª’ä½“æŸ¥è¯¢ï¼‰ï¼Œä¸åŒå°ºå¯¸ä¸‹è®¾ç½®ä¸åŒçš„æ ·å¼ï¼Œå®ç° PC å’Œç§»åŠ¨ç«¯å¸ƒå±€ä½¿ç”¨åŒä¸€å¥—ä»£ç ï¼åœºæ™¯ï¼šé€‚ç”¨äºç›¸å¯¹ç®€å•çš„é¡µé¢ï¼Œå¤æ‚é¡µé¢ä¸‹çš„å“åº”å¼å¼€å‘æˆæœ¬å¤ªé«˜ã€‚]]></content>
      <categories>
        <category>ç§»åŠ¨ Web å¼€å‘</category>
      </categories>
      <tags>
        <tag>ç§»åŠ¨ç«¯å¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[steps(number[, end | start])]]></title>
    <url>%2F2019%2F05%2F31%2Fsteps%2F</url>
    <content type="text"><![CDATA[ç¼˜èµ·CSS3 ä¸­ç”¨äºè®¾ç½®åŠ¨ç”»çš„ animation è¯­æ³•å¦‚ä¸‹ï¼š 1animation: name duration timing-function delay iteration-count direction; å…¶ä¸­ï¼Œtiming-function å–å€¼å¦‚ä¸‹ï¼š 1timing-function: linear / ease / ease-in / ease-out / ease-in-out / cubic-bezier() / steps() ä¸Šé¢ timing-function çš„å–å€¼é™¤äº† steps() éƒ½ä»£è¡¨è¡¥é—´åŠ¨ç”»ï¼ˆçº¿æ€§åŠ¨ç”»ï¼‰ï¼Œsteps() ä»£è¡¨å¸§åŠ¨ç”»ï¼Œæœ‰æ—¶å€™ä¸€äº›åŠ¨ç”»æ•ˆæœå¿…é¡»ç”¨å®ƒæ‰èƒ½å®ç°ï¼Œä¾‹å¦‚ä¸Šé¢å›¾å¥”è·‘çš„åŠ¨ç‰©æ˜¯æˆ‘ä»¬æ›¾ç»åšè¿‡çš„åŠ¨ç”»ï¼Œå°±æ˜¯é€šè¿‡ steps() é…åˆæ”¹å˜é›ªç¢§å›¾ï¼ˆ1600pxå®½ï¼‰çš„ä½ç½®å®ç°çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678@keyframes aniSelf &#123; 0% &#123; background-position: 0 0; &#125; 100% &#123; background-position: -1600px 0; &#125;&#125; 123.wolf&#123; animation: aniSelf 1s steps(8) infinite;&#125; ä¸Šé¢ä»£ç ç¡®å®èƒ½å®ç°é¢„æœŸçš„æ•ˆæœï¼Œä½†ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰è¿™æ ·ä¸€ä¸ªç–‘é—®ï¼šå½“èƒŒæ™¯ä½ç½®ä¸º background-position: -1600px 0; æ—¶ï¼Œå›¾ç‰‡åœ¨ç›’å­ä¸­åº”è¯¥æ˜¯çœ‹ä¸åˆ°çš„æ‰å¯¹ï¼ˆå› ä¸ºå›¾ç‰‡æ€»å…±æ˜¯1600pxï¼Œè¿™æ ·åˆšå¥½æ˜¯å›¾ç‰‡çš„æœ€å³è¾¹å¡åˆ°ç›’å­çš„æœ€å·¦è¾¹ï¼‰ï¼Œä½†ä¸ºä»€ä¹ˆåŠ¨ç”»è¿˜èƒ½æ­£å¸¸è·‘èµ·æ¥ï¼Œè€Œæ²¡æœ‰å‡ºç°ç©ºç™½çš„é—®é¢˜å‘¢ï¼Ÿ è¦è§£ç­”ä¸Šé¢çš„ç–‘é—®ï¼Œæˆ‘ä»¬å°±è¦æ˜ç™½å…³äº steps(number[, end | start]) å‚æ•°çš„å«ä¹‰ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¤§å®¶éƒ½çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œè¡¨ç¤ºåœ¨æ¯ä¸ªé—´éš”çš„èµ·ç‚¹æˆ–æ˜¯ç»ˆç‚¹å‘ç”Ÿé˜¶è·ƒå˜åŒ–ï¼Œå¦‚æœå¿½ç•¥ï¼Œé»˜è®¤æ˜¯ endã€‚ çœ‹å®Œä¸Šé¢åŠ ç²—éƒ¨åˆ†çš„å®šä¹‰ï¼Œæˆ‘ä¸çŸ¥é“ä½ ä½œä½•æ„Ÿæƒ³â€¦ğŸ˜£ æˆ‘çš„æ„Ÿæ€§è®¤è¯†æˆ‘çš„ç†è§£ï¼šsteps() ç¬¬äºŒä¸ªå‚æ•°å¦‚æœæ˜¯ end åˆ™ä»£è¡¨å¿½ç•¥ç»“æŸå¸§ï¼Œå¦‚æœæ˜¯ start åˆ™ä»£è¡¨å¿½ç•¥å¼€å§‹å¸§ï¼Œå¦‚ä½•ç†è§£è¿™å¥è¯å‘¢ï¼Ÿ ä¸Šé¢æ˜¯ä¸€å¼  50 * 200 çš„å›¾ç‰‡ï¼Œä½œä¸º 50 * 50 ç›’å­çš„èƒŒæ™¯å›¾ï¼Œæˆ‘æƒ³å®ç°åœ¨ hover ç›’å­çš„æ—¶å€™èƒŒæ™¯ä» A å˜åŒ–åˆ° A çš„é€å¸§åŠ¨ç”»ã€‚ç”±äºæˆ‘ä»¬çŸ¥é“ steps(4, end) æ—¶ä¼šå¿½ç•¥æœ€åä¸€å¸§ï¼ŒåŠ¨ç”»èµ°å®Œæ—¶æ²¡æœ‰ forwardsï¼Œåˆä¼šå›åˆ°åˆå§‹çŠ¶æ€ï¼Œæ•…å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•æ¥å®ç°ï¼š 1234567891011121314151617181920.box &#123; border: 1px solid #333; width: 50px; height: 50px; background: url(./images/steps.png) no-repeat;&#125;.box:hover &#123; /* åˆ†ä¸º 4 æ­¥æ¥å®Œæˆï¼Œä¼šå¿½ç•¥æœ€åä¸€æ­¥ background-position: 0 -150px; åˆ° background-position: 0 -200px; è¿™ä¸ªåŒºé—´ï¼ */ animation: way1 2s steps(4);&#125;@keyframes way1 &#123; 0% &#123; background-position: 0 0; &#125; 100% &#123; background-position: 0 -200px; &#125;&#125; ä¸Šé¢ä»£ç å…¶å®å°±æ˜¯å’Œæˆ‘ä»¬è¯¾ä¸Šå®ç°åŠ¨ç‰©è¿åŠ¨çš„ä»£ç æ˜¯ä¸€æ ·çš„æ€è·¯ï¼Œé‚£å¦‚æœæˆ‘æŠŠä¸Šé¢çš„ä»£ç æ”¹ä¸º steps(4, start) ä¼šæ€æ ·çš„ï¼Œæ ¹æ®æˆ‘ä»¬ä¹‹å‰çš„ç»“è®ºï¼Œstart ä¼šå¿½ç•¥ç¬¬ä¸€å¸§ï¼Œä¹Ÿå°±æ˜¯ hover ä¸Šçš„ä¸€åˆ¹é‚£å°±ä¼šå®šä½åˆ° Bï¼Œç„¶åä¹Ÿä¼šèµ° background-position: 0 -150px; åˆ° background-position: 0 -200px; æœ€åä¸€å¸§è¿™ä¸ªåŒºé—´ï¼Œå³ä¼šå‡ºç°ç©ºç™½ï¼Œæœ€ååˆå›åˆ°åˆå§‹çŠ¶æ€ Aï¼Œå¯è§ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ã€‚ æˆ‘å°±æƒ³ç”¨ startå¦‚æœå®åœ¨æƒ³ç”¨ start å¯ä»¥æ”¹å†™ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314/* Step1: åˆ†ä¸º 3 æ­¥èµ° */.box:hover &#123; animation: way1 2s steps(3, start);&#125;/* Step2: æœ€åä¸€å¸§çš„ä½ç½®æ”¹æˆä¸¥ä¸åˆç¼çš„æœ€åä¸€æ ·å›¾ç‰‡ */@keyframes way1 &#123; 0% &#123; background-position: 0 0; &#125; 100% &#123; background-position: 0 -150px; &#125;&#125; æ³¨æ„ï¼šä»¥ä¸Šä»£ç è™½ç„¶èƒ½å®ç° hover æ—¶èƒŒæ™¯ä» Aã€Bã€Cã€D åˆ° A çš„å˜æ¢ï¼Œä½†å¹¶ä¸æ¨èè¿™æ ·åšï¼Œå› ä¸º hover çš„ä¸€åˆ¹é‚£ A åˆ° B çš„å˜æ¢æ˜¯æ²¡æœ‰åŠ¨ç”»çš„ï¼ˆé€å¸§åŠ¨ç”»ä¹Ÿæ˜¯åŠ¨ç”»ï¼‰ å…¶ä»–å†™æ³•æ³¨æ„çœ‹æˆ‘çš„æ³¨é‡Šéƒ¨åˆ†ï¼ 123456789101112131415161718192021.box &#123; border: 1px solid #333; width: 50px; height: 50px; /* Step1: èƒŒæ™¯é‡å¤ï¼ */ background: url(./images/steps.png) repeat-y;&#125;.box:hover &#123; /* Step2: è¿™æ—¶å€™ steps ç¬¬äºŒä¸ªå‚æ•°æ˜¯ start or end åªæ˜¯å¼€å§‹æ—¶ç¬¬ä¸€å¸§æœ‰æ²¡æœ‰åŠ¨ç”»çš„åŒºåˆ«ï¼Œå¹¶ä¸ä¼šå‡ºç°ç©ºç™½äº†ï¼Œå› ä¸ºèƒŒæ™¯å¹³é“ºäº† */ animation: way1 2s steps(4);&#125;@keyframes way1 &#123; 0% &#123; background-position: 0 0; /* A */ &#125; 100% &#123; background-position: 0 -200px; /* A */ &#125;&#125; 123456789/* è®¾ç½®æ˜¯è¿™æ ·çš„å†™æ³• */@keyframes way1 &#123; 0% &#123; background-position: 0 200px; /* A */ &#125; 100% &#123; background-position: 0 0px; /* A */ &#125;&#125; å…¶ä»–å±æ€§å¯¹ step çš„å½±å“å½“ steps() ç¬¬äºŒä¸ªå‚æ•°ä¸º end æ—¶ä¼šå¿½ç•¥ç»“æŸå¸§ï¼Œä½† animation-fill-mode: forwards; æ˜¯ä¼šå½±å“ steps() çš„è¡¨ç°çš„ï¼Œä¾‹å¦‚æˆ‘æƒ³è®©ä¸€ä¸ªç›’å­ä» 0 è¿åŠ¨åˆ° 100ï¼Œå¯å†™ä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516.box&#123; width: 100px; height: 100px; background-color: pink; position: absolute; top: 70px; animation: move 3s steps(5) forwards;&#125;@keyframes move &#123; 0%&#123; left: 0; &#125; 100%&#123; left: 100px; &#125;&#125; ç»“æœå¦‚ä¸‹ï¼š è¯´å¥½çš„ steps() ç¬¬äºŒä¸ªå‚æ•°ä¸º end æ—¶ä¼šå¿½ç•¥æœ€åä¸€å¸§ï¼Œä½†æœ€åå´åœåœ¨äº† 100px çš„ä½ç½®ä¸Šï¼Œè¯´æ˜ animation-fill-mode ä¸º forwards æ—¶ä¼šå¯¹ steps() å¸§åŠ¨ç”»é€ æˆå½±å“ï¼Œä»¥ forwards ä¸ºå‡†ï¼å½“ç„¶ä½ å¦‚æœåˆè®¾ç½®äº† infiniteï¼Œé‚£ forwards ä¹Ÿå°±â€œå¤±æ•ˆâ€äº†â€¦ å†æ¥ä¸ªå°æ —å­ç‚¹æˆ‘å»è¿œæ–¹]]></content>
      <categories>
        <category>HTML5/CSS3</category>
      </categories>
      <tags>
        <tag>steps()</tag>
        <tag>å¸§åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ç±»å‹æ£€æµ‹çš„ N ä¸­æ–¹å¼]]></title>
    <url>%2F2019%2F05%2F26%2Fjudge-type%2F</url>
    <content type="text"><![CDATA[ä» JS åŸºç¡€ç¬¬ä¸€å¤©å¼€å§‹ï¼Œæˆ‘ä»¬å°±å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ typeof å»åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå­¦ä¹ æ„é€ å‡½æ•°æ—¶æˆ‘ä»¬åˆè¯´äº† constructor ä»¥åŠ instanceof ä¹Ÿå¯ä»¥å»è¿›è¡Œç±»å‹æ£€æµ‹ï¼Œåˆ° JS é«˜çº§æ—¶è¿˜è®²äº† Object.prototype.toString() æ–¹æ³•ä¹Ÿå¯ä»¥å»åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™ä¹ˆå¤šæ–¹æ³•å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆå¼‚åŒå—ï¼Ÿä¸åŒåœºæ™¯ä¸‹è¯¥æ€æ ·ä½¿ç”¨æ‰æ¯”è¾ƒåˆé€‚å‘¢ï¼Ÿ æ•°æ®ç±»å‹çŸ¥å¤šå°‘æ—¢ç„¶è¦æ£€æµ‹æ•°æ®ç±»å‹ï¼Œé¦–å…ˆè¦æ˜ç¡® JS ä¸­çš„æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹ 7 ç§ï¼š ç®€å•æ•°æ®ç±»å‹ï¼šNumberã€Stringã€Booleanã€Nullã€Undefinedã€Symbolï¼ˆES6ï¼‰ å¤æ‚æ•°æ®ç±»å‹ï¼šObjectï¼ˆåŒ…æ‹¬å‡½æ•°ã€æ•°ç»„ã€å¯¹è±¡ã€æ­£åˆ™ã€æ—¥æœŸç­‰ï¼‰ typeoftypeof å®ƒçš„ä½¿ç”¨æ–¹æ³•æœ‰ä¸¤ç§ï¼š 1234// å¯ä»¥ä¸å¸¦æ‹¬å·ï¼Œç›´æ¥è·Ÿæ•°æ®console.log(typeof 36);// ä¹Ÿå¯ä»¥å¸¦æ‹¬å·console.log(typeof(36)); typeof çš„è¿”å›å€¼æ°¸è¿œæ˜¯ä¸€ä¸ªå…¨å°å†™å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š 1console.log(typeof (typeof (typeof 66))); // string typeof çš„è¿”å›å€¼é™¤äº†ä¸Šé¢ 7 ç§æ•°æ®ç±»å‹å¤–ï¼Œè¿˜å¤šäº†ä¸€ä¸ª functionï¼Œä¾‹å¦‚ï¼š 12function test() &#123;&#125;console.log(typeof test); // function æ€»ç»“ï¼š é™¤äº† Nullï¼ˆè¿”å› objectï¼‰ï¼Œtypeof å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹éƒ½èƒ½è¿”å›æ­£ç¡®çš„ç»“æœ é™¤äº† Functionï¼ˆè¿”å› functionï¼‰ï¼Œtypeof å¯¹äºå¤æ‚æ•°æ®ç±»å‹éƒ½è¿”å› object ç¼ºç‚¹ï¼š typeof å¯¹äºå¤æ‚æ•°æ®ç±»å‹çš„å¤„ç†ï¼Œåªèƒ½è¿”å›å¤„äºåŸå‹é“¾æœ€é¡¶ç«¯çš„ Object ç±»å‹ï¼Œä¸èƒ½ç»†åˆ† constructoræ–°å»ºä¸€ä¸ªï¼ˆæ„é€ ï¼‰å‡½æ•° Fn æ—¶ï¼ŒJS å¼•æ“ä¼šç»™è‡ª Fn æ·»åŠ ä¸€ä¸ª prototype å±æ€§ï¼Œprototype ä¸‹åˆæœ‰ä¸€ä¸ª constructor æŒ‡å‘ Fn å‡½æ•°ï¼Œå¯ç”¨å¦‚ä¸‹ä»£ç è¡¨ç¤ºï¼š 12function Fn() &#123;&#125;console.log(Fn.prototype.constructor === Fn); // true å½“æˆ‘ä»¬æ‰§è¡Œ new Fn æ¥åˆ›å»º Fn çš„å®ä¾‹åï¼Œè¿™ä¸ªå®ä¾‹çš„ constructor ä¹Ÿå°±æŒ‡å‘ Fnï¼Œå¦‚ä¸‹ï¼š 1234function Fn() &#123;&#125;var f1 = new Fn;// f1 ä¸‹æœ¬æ²¡æœ‰ constructorï¼Œè‡ªå·±æ²¡æœ‰åˆ™ä¼šé€šè¿‡åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾åˆ° Fn.prototype ä¸Šconsole.log(f1.constructor === Fn); // true å¦‚æ­¤ä¸€æ¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ constructor æ¥åˆ¤æ–­æŸä¸ªå®ä¾‹å¯¹è±¡å…·ä½“çš„ç±»å‹ï¼ˆæ¥æºï¼‰ï¼Œä¾‹å¦‚ä¸Šé¢ä»£ç ä»åŸå‹é“¾çš„è§’åº¦æ¥è¯´ f1 çš„ç±»å‹ï¼ˆæ¥æºï¼‰å°±æ˜¯ Fnã€‚ åŒæ ·çš„é“ç†ï¼Œå…¶ä»–æ•°æ®çš„ä¹Ÿå¯ä»¥é€šè¿‡ constructor æ¥åˆ¤æ–­å…·ä½“çš„ç±»å‹ï¼Œå®ƒå¯ä»¥è§£å†³ typeof å¯¹åº”å¤æ‚æ•°æ®ç±»å‹çš„åˆ¤æ–­æ— èƒ½ä¸ºåŠ›çš„é—®é¢˜ï¼Œæµ‹è¯•å¦‚ä¸‹ï¼š 1234567console.log([].constructor === Array); // trueconsole.log(new Date().constructor === Date); // trueconsole.log(new Function().constructor === Function);console.log(''.constructor === String);console.log(true.constructor === Boolean);console.log(new Error().constructor === Error);console.log(document.constructor === HTMLDocument); constructor çš„å°é—®é¢˜ï¼š null å’Œ undefined ä¸Šæ²¡æœ‰ constructor è¿™å±æ€§ï¼Œä¸èƒ½é€šè¿‡ constructor æ¥åˆ¤æ–­ å½“ prototype è¢«ä¸å°å¿ƒé‡å†™åï¼Œä¼šå¯¼è‡´ constructor åˆ¤æ–­ä¸å‡†ç¡®çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼š 1234567891011function Test() &#123;&#125;var t1 = new Test;console.log(t1.constructor === Test); // true// é‡å†™åŸå‹ä¼šå¯¼è‡´ Test.prototype.constructor æŒ‡å‘ä¸æ­£ç¡®// å½“ç„¶å¯¹åº”çš„å®ä¾‹å¯¹è±¡åœ¨ç”¨ constructor å»åˆ¤æ–­ç±»å‹çš„æ—¶å€™ä¹Ÿå°±ä¼šæŒ‡å‘ä¸æ­£ç¡®Test.prototype = &#123; showAge: function() &#123;&#125;&#125;;var t2 = new Test();console.log(t2.constructor === Test); // false instanceofå®ƒä¸»è¦ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦èƒ½å¤Ÿé€šè¿‡åŸå‹é“¾æ‰¾åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä¾‹å¦‚ï¼š 12// [] å¯ä»¥é€šè¿‡ __proto__ æ‰¾åˆ° Array.prototypeï¼Œæ‰€ä»¥ç»“æœæ˜¯ trueconsole.log([] instanceof Array); 123// [].__proto__.__proto__ === Object.prototype// è¯´æ˜ [] ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡åŸå‹é“¾æ‰¾è¿‡ Object çš„åŸå‹ï¼Œæ‰€ä»¥ä¸‹é¢ç»“æœä¹Ÿæ˜¯ trueconsole.log([] instanceof Object); æ‰€ä»¥å¤§å®¶ä¹Ÿçœ‹åˆ°äº†ï¼Œinstanceof å¹¶ä¸èƒ½å‡†ç¡®çš„æ‰¾åˆ°æŸä¸ªå®ä¾‹çš„ç±»å‹ï¼Œä½†å®ƒç›¸å¯¹äº constructor æœ‰è¿™æ ·ä¸€ä¸ªç‰¹ç‚¹ï¼Œå³ä¾¿æ„é€ å‡½æ•°çš„åŸå‹è¢«é‡å†™åï¼Œå®ä¾‹ä¹Ÿèƒ½é€šè¿‡ instanceof å»åˆ¤æ–­è‡ªå·±çš„ç±»å‹ï¼Œä¾‹å¦‚ï¼š 1234567function Test() &#123;&#125;Test.prototype = &#123; showAge: function() &#123;&#125;&#125;;var t1 = new Test();console.log(t1 instanceof Test); // trueconsole.log(t1 instanceof Object); // å½“ç„¶å¯¹åº”é¡¶çº§å¯¹è±¡ Object ä¹Ÿæ˜¯ trueï¼Œè¿˜æ˜¯ä¸èƒ½å‡†ç¡®åˆ¤æ–­å°±æ˜¯ Test ç±»å‹ instanceof è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜éœ€è¦ä½ æ³¨æ„çš„ï¼Œå½“é¡µé¢ä¸­å¼•å…¥ iframe æ—¶ï¼Œå®ä¾‹åŒ– iframe çª—å£ä¸‹çš„å¯¹è±¡å’Œå½“å‰çª—å£ä¸‹ç›¸å¯¹åº”çš„æ„é€ å‡½æ•°è¿›è¡Œ instanceof åˆ¤æ–­æ—¶ä¹Ÿä¼šå‡ºç°é—®é¢˜ã€‚ä¾‹å¦‚ï¼š 1234567891011var oFrame = document.createElement('iframe');document.body.appendChild(oFrame);// ifame çª—å£ä¸‹å®ä¾‹åŒ–çš„ arrvar arr = new window.frames[0].Array;console.log(arr instanceof window.frames[0].Array); // trueconsole.log(arr instanceof Array); // false// é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜ ES5 æä¾›äº† Array.isArray() è¿™ä¸ªæ–¹æ³•è¿›è¡Œåˆ¤æ–­console.log(Array.isArray(arr)); // true Object.prototype.toStringä»–è¿”å›çš„ä¿¡æ¯æ ¼å¼æ˜¯ [object Xxx]ï¼ˆæ³¨æ„ç¬¬ä¸€ä¸ª X æ˜¯å¤§å†™ï¼‰ï¼Œå¯¹äº {} ç›´æ¥è°ƒç”¨ toString æ—¢å¯ä»¥è¿”å› [object Object]ï¼Œå…¶ä»–ç±»å‹éœ€è¦å€ŸåŠ© call/apply æ–¹æ³•å»è°ƒç”¨ï¼Œä¾‹å¦‚ï¼š 12345678910111213// ä¹Ÿå¯ä»¥æŠŠ Object.prototype æ›¿æ¢æˆ &#123;&#125;// å› ä¸ºè°ƒç”¨ &#123;&#125; ä¸‹çš„ toString() æ–¹æ³•ï¼Œè‡ªå·±æ²¡æœ‰ä¼šé€šè¿‡åŸå‹é“¾å» Object.prototype ä¸Šé¢æ‰¾console.log(Object.prototype.toString.call(233)); // [object Number]console.log(Object.prototype.toString.call('233')); // [object String]console.log(Object.prototype.toString.call(true)); // [object Boolean]console.log(Object.prototype.toString.call(null)); // [object Null]console.log(Object.prototype.toString.call(undefined)); // [object Undefined]console.log(Object.prototype.toString.call(Symbol())); // [object Symbol]console.log(Object.prototype.toString.call([])); // [object Array]console.log(Object.prototype.toString.call(new Function)); // [object Function]console.log(Object.prototype.toString.call(new Date)); // [object Date]console.log(Object.prototype.toString.call(new RegExp)); // [object RegExp] å¯è§ Object.prototype.toString() ç®€ç›´å¤ªå¥½ç”¨å•¦ï¼Œæ¨èä½¿ç”¨ï¼]]></content>
      <categories>
        <category>JS é«˜çº§</category>
      </categories>
      <tags>
        <tag>åˆ¤æ–­æ•°æ®ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å½¢å¼]]></title>
    <url>%2F2019%2F05%2F25%2Fsnake-question%2F</url>
    <content type="text"><![CDATA[å­¦ä¹ è´ªåƒè›‡æ—¶ï¼Œå¾€è›‡èº«ä½“å¢åŠ æœ€åä¸€èŠ‚ï¼Œå½“æ—¶ä»£ç æ˜¯ç›´æ¥è¿™æ ·å†™çš„ this.body.push({ x: last.x, y: last.y, color: last.color })ï¼Œæœ‰äº›åŒå­¦é—® last è¿™ä¸ªå˜é‡ä¿å­˜çš„æ•°æ®å’Œ { x: last.x, y: last.y, color: last.color } â€œé•¿çš„ä¸€æ ·â€ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ this.body.push(last) å‘¢ï¼Ÿ åŸºæœ¬æ•°æ®ç±»å‹å­˜å‚¨è¦è¯´æ¸…æ¥šä¸Šé¢çš„é—®é¢˜ï¼Œé¦–å…ˆå¤§å®¶è¦æ˜ç™½ä¸åŒæ•°æ®ç±»å‹åœ¨å†…å­˜ä¸­çš„å­˜å‚¨å½¢å¼æ˜¯æ€æ ·çš„ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ JS ä¸­çš„æ•°æ®ç±»å‹åˆ†ä¸º 2 å¤§ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š åŸºæœ¬æ•°æ®ç±»å‹ï¼šNumberã€Stringã€Booleanã€Nullã€Undefinedã€Symbol(ES6) å¤æ‚æ•°æ®ç±»å‹ï¼šObject(åŒ…æ‹¬æ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ã€æ­£åˆ™) å…¶ä¸­åŸºæœ¬æ•°æ®ç±»å‹å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­ï¼Œä»–ä»¬æ˜¯æŒ‰å€¼å­˜æ”¾çš„ï¼Œä¾‹å¦‚ï¼š 1234var age1 = 18;var age2 = age1;age2 = 20;console.log(age1, age2); // 18 20 ä¸Šé¢ä»£ç åœ¨å†…å­˜ä¸­çš„è¡¨ç°å½¢å¼å¦‚ä¸‹ï¼š å¤æ‚æ•°æ®ç±»å‹å­˜å‚¨å¤æ‚æ•°æ®ç±»å‹çš„çœŸå®æ•°æ®æ˜¯å­˜æ”¾åœ¨å †å†…å­˜ä¸­çš„ï¼Œå˜é‡ä¿å­˜çš„åªæ˜¯åœ¨æ ˆå†…å­˜ä¸­çš„ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘å †å†…å­˜ä¸­æ•°æ®ã€‚ä¾‹å¦‚ï¼š 1234var obj1 = &#123; age: 18 &#125;;var obj2 = obj1;obj2.age = 20; // obj2 æ˜¯æ”¹å˜å †å†…å­˜ä¸­çš„åŒä¸€ä»½æ•°æ®console.log(obj1.age); // æ‰€ä»¥ obj1 çš„æ•°æ®ä¹Ÿè¢«å½±å“äº†ï¼Œç»“æœæ˜¯ 20 ä¸Šé¢ä»£ç åœ¨å†…å­˜ä¸­çš„è¡¨ç°å½¢å¼å¦‚ä¸‹ï¼š è§£é‡Šè´ªåƒè›‡çš„é—®é¢˜è®²è´ªåƒè›‡æ—¶ï¼Œå…³äºè›‡å¦‚ä½•åƒåˆ°é£Ÿç‰©æˆ‘ä»¬è¯´äº†è¿™ä¹ˆä¸€æ®µè¯ï¼šåœ¨è›‡è¿åŠ¨æ—¶ï¼Œåˆ¤æ–­è›‡å¤´çš„åæ ‡æ˜¯å¦ä¸é£Ÿç‰©çš„åæ ‡å»åˆï¼Œå¦‚æœå»åˆï¼Œåˆ™å¾€è›‡èº«ä½“åå¢åŠ ä¸€èŠ‚ï¼Œç„¶åå†éšæœºé£Ÿç‰©çš„åæ ‡å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678if (headX === food.x &amp;&amp; headY === food.y) &#123; // Step1: è·å–è›‡çš„æœ€åä¸€èŠ‚ var last = this.body[this.body.length - 1]; // Step2: æ·»åŠ åˆ°èº«ä½“çš„æœ€å this.body.push(&#123; x: last.x, y: last.y, color: last.color &#125;); // Step3: éšæœºéšæœºé£Ÿç‰©åæ ‡ food.render(map);&#125; å¦‚æœç›´æ¥ this.body.push(last) çš„è¯ï¼Œç›¸å½“äºæ¯æ¬¡æ·»åŠ çš„è¿˜æ˜¯å †å†…å­˜ä¸­çš„åŒä¸€ä¸ª lastï¼Œé‚£åœ¨ä¸‹æ¬¡ move ä¿®æ”¹æ•°æ®çš„æ—¶å€™å°±ä¼šç›¸äº’å½±å“ï¼Œæ— è®ºä½ å¾€åé¢ push å¤šå°‘é¡¹ lastï¼Œåœ¨ä¿®æ”¹åˆ°æœ€å‰é¢çš„ three æ—¶ä¹Ÿä¼šæŠŠåé¢çš„ç»™ä¿®æ”¹æ‰ï¼ˆå› ä¸ºéƒ½æ˜¯å †å†…å­˜ä¸­çš„åŒä¸€ä»½æ•°æ®ï¼‰ï¼Œæ‰€ä»¥ä½ çœ‹åˆ°çš„ç»“æœæ˜¯åé¢çš„æ•°æ®éƒ½æ˜¯é‡å¤çš„ï¼Œå¯¹åº”åˆ°é¡µé¢ä¸Šä¹Ÿå°±æ˜¯æœ€åä¸€èŠ‚çš„å…ƒç´ éƒ½æ˜¯è¦†ç›–åœ¨ä¸€èµ·çš„ã€‚æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š 12345678910var one = &#123;x: 26, y: 14, color: "red"&#125;;var two = &#123;x: 25, y: 14, color: "blue"&#125;;var three = &#123;x: 24, y: 14, color: "blue"&#125;;var arr = [one, two, three, three];for (var i = arr.length - 1; i &gt; 0; i--) &#123; arr[i].x = arr[i - 1].x; arr[i].y = arr[i - 1].y;&#125;console.log(arr); è¯¥å¦‚ä½•è§£å†³12345678910111213141516171819var arr = [ &#123;x: 26, y: 14, color: "red"&#125;, &#123;x: 25, y: 14, color: "blue"&#125;, &#123;x: 24, y: 14, color: "blue"&#125;];var last = arr[arr.length - 1];// æ¯æ¬¡é€ ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡var newObj = &#123; x: last.x, y: last.y, color: last.color &#125;;// æˆ–è€…æ‹·è´åŸæ¥çš„å¯¹è±¡// var newObj = JSON.parse(JSON.stringify(last));arr.push(newObj);for (var i = arr.length - 1; i &gt; 0; i--) &#123; arr[i].x = arr[i - 1].x; arr[i].y = arr[i - 1].y;&#125;console.log(arr);]]></content>
      <categories>
        <category>JS é«˜çº§</category>
      </categories>
      <tags>
        <tag>è´ªåƒè›‡</tag>
        <tag>å¼•ç”¨ç±»å‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JS ä¸­çš„éšå¼è½¬æ¢]]></title>
    <url>%2F2019%2F05%2F24%2Finvisible-transform%2F</url>
    <content type="text"><![CDATA[JS ä¸­æœ‰ä¸ªâ€œç»å…¸â€çš„é¢è¯•é¢˜ï¼šè¯·é—® [] == ![] çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¸€çœ¼çœ‹ä¸Šå»è‚¯å®šæ˜¯ falseï¼Œä½†ç»“æœå´æ˜¯ trueï¼Œè¦æ¸…æ¥šä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Œå°±è¦äº†è§£ JS åœ¨è¿›è¡Œæ•°æ®æ¯”è¾ƒæ—¶çš„éšå¼è½¬æ¢è§„åˆ™æ˜¯æ€æ ·çš„ï¼Ÿ æ³¨ï¼šé™¤äº†å¯¹æœ¬é—®é¢˜çš„è§£é‡Šéƒ¨åˆ†ï¼Œå…¶ä»–éƒ½æ¥è‡ª JavaScript é«˜çº§ç¨‹åºè®¾è®¡ï¼Œå»ºè®®çœ‹ä¹¦ï¼æˆ‘è¿™é‡Œæ‘˜å‡ºäº†å…¶ä¸­ä¸¤ç‚¹ï¼Œæ¥ä½œä¸ºå¯¹å¸¸è§é—®é¢˜çš„è§£é‡Šï¼Œå…¶å®è¿˜æœ‰å…¶ä»–ç»†èŠ‚æˆ–ç‰¹æ®Šæ³¨æ„çš„åœ°æ–¹ï¼Œå»ºè®®åœ¨ç²¾åŠ›å……æ²›çš„æƒ…å†µä¸‹å¯ä»¥è‡ªå·±å»æ¢ç´¢ï¼ ç›¸ç­‰æ“ä½œç¬¦è§„åˆ™åœ¨è½¬æ¢ä¸åŒçš„æ•°æ®ç±»å‹æ—¶ï¼Œç›¸ç­‰å’Œä¸ç›¸ç­‰æ“ä½œç¬¦éµå¾ªä¸‹åˆ—åŸºæœ¬è§„åˆ™ï¼š 1 . å¦‚æœæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™åœ¨æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰å…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼ï¼Œfalse è½¬æ¢ä¸º 0ï¼Œè€Œ true è½¬æ¢ä¸º 12 . å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°æ˜¯æ•°å€¼ï¼Œåœ¨æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼3 . å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°ä¸æ˜¯ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ valueOf()æ–¹æ³•ï¼Œç”¨å¾—åˆ°çš„åŸºæœ¬ç±»å‹å€¼æŒ‰ç…§å‰é¢çš„è§„åˆ™è¿›è¡Œæ¯”è¾ƒ è¿™ä¸¤ä¸ªæ“ä½œç¬¦åœ¨è¿›è¡Œæ¯”è¾ƒæ—¶åˆè¦éµå¾ªä¸‹åˆ—ç‰¹æ®Šçš„æƒ…å†µï¼š 1 . null å’Œ undefined æ˜¯ç›¸ç­‰çš„2 . è¦æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰ï¼Œä¸èƒ½å°† null å’Œ undefined è½¬æ¢æˆå…¶ä»–ä»»ä½•å€¼3 . å¦‚æœæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯ NaNï¼Œåˆ™ç›¸ç­‰æ“ä½œç¬¦è¿”å› falseï¼Œè€Œä¸ç›¸ç­‰æ“ä½œç¬¦è¿”å› trueã€‚é‡è¦æç¤ºï¼šå³ä½¿ä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯ NaNï¼Œç›¸ç­‰æ“ä½œç¬¦ä¹Ÿè¿”å› falseï¼›å› ä¸ºæŒ‰ç…§è§„åˆ™ï¼ŒNaN ä¸ç­‰äº NaN4 . å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯å¯¹è±¡ï¼Œåˆ™æ¯”è¾ƒå®ƒä»¬æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ç›¸ç­‰æ“ä½œç¬¦è¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› false å…³ç³»æ“ä½œç¬¦è§„åˆ™å½“å…³ç³»æ“ä½œç¬¦çš„æ“ä½œæ•°ä½¿ç”¨äº†éæ•°å€¼æ—¶ï¼Œä¹Ÿè¦è¿›è¡Œæ•°æ®è½¬æ¢æˆ–å®ŒæˆæŸäº›å¥‡æ€ªçš„æ“ä½œã€‚ä»¥ä¸‹å°±æ˜¯ç›¸åº”çš„è§„åˆ™ï¼š 1 . å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯æ•°å€¼ï¼Œåˆ™æ‰§è¡Œæ•°å€¼æ¯”è¾ƒ2 . å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹åº”çš„å­—ç¬¦ç¼–ç å€¼3 . å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯æ•°å€¼ï¼Œåˆ™å°†å¦ä¸€ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºä¸€ä¸ªæ•°å€¼ï¼Œç„¶åæ‰§è¡Œæ•°å€¼æ¯”è¾ƒ4 . å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ valueOf()æ–¹æ³•ï¼Œç”¨å¾—åˆ°çš„ç»“æœæŒ‰ç…§å‰é¢çš„è§„åˆ™æ‰§è¡Œæ¯”è¾ƒã€‚å¦‚æœå¯¹è±¡æ²¡æœ‰ valueOf()æ–¹æ³•ï¼Œåˆ™è°ƒç”¨ toString()æ–¹æ³•ï¼Œå¹¶ç”¨å¾—åˆ°çš„ç»“æœæ ¹æ®å‰é¢çš„è§„åˆ™æ‰§è¡Œæ¯”è¾ƒ5 . å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™å…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼ï¼Œç„¶åå†æ‰§è¡Œæ¯”è¾ƒ è§£é‡Š [] == ![]1[] == ![] Step1: ! çš„ä¼˜å…ˆçº§æ¯” == é«˜ï¼Œå…ˆæ‰§è¡Œ ![]ï¼Œé™¤äº† nullã€undefinedã€â€™â€™ã€NaNã€0 éƒ½æ˜¯ trueï¼Œæ‰€ä»¥ ![] æ˜¯ false 1[] == false Step2: å‚è€ƒç›¸ç­‰æ“ä½œç¬¦æ¯”è¾ƒçš„ç¬¬ 1 æ¡è§„åˆ™ï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¸ƒå°”å€¼ï¼Œåˆ™åœ¨æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰å…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼ï¼Œæ•…ç»“æœå¦‚ä¸‹ï¼š 1[] == 0 Step3: å‚è€ƒç›¸ç­‰æ“ä½œç¬¦æ¯”è¾ƒçš„ç¬¬ 3 æ¡è§„åˆ™ï¼Œè°ƒç”¨å¯¹è±¡çš„ valueOf() æ–¹æ³•å¾—åˆ°åŸå§‹å€¼ï¼Œå¹¶å°†åŸå§‹å€¼è½¬æ¢ä¸ºæ•°å­—ç»“æœå¦‚ä¸‹ï¼š 1Number([].valueOf()) == 0]]></content>
      <categories>
        <category>JS åŸºç¡€</category>
      </categories>
      <tags>
        <tag>éšå¼è½¬æ¢</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§¦å‘å…¨é€‰æŒ‰é’®çš„å‡ ç§æ€è·¯]]></title>
    <url>%2F2019%2F05%2F22%2Fselect-all%2F</url>
    <content type="text"><![CDATA[éœ€æ±‚ï¼šç‚¹å‡»å…¨é€‰ï¼Œé€‰ä¸­ä¸Šé¢æ‰€æœ‰çš„åˆ—è¡¨é¡¹ï¼›ç‚¹å‡»åˆ—è¡¨é¡¹ä¸­çš„æ¯ä¸€ä¸ªæ°´æœï¼Œå¦‚æœæœ‰æœªé€‰ä¸­åˆ™å–æ¶ˆå…¨é€‰æŒ‰é’®ï¼Œå¦‚æœéƒ½é€‰ä¸­äº†åˆ™æ¿€æ´»å…¨é€‰æŒ‰é’®ã€‚ å¸¸è§„æ“ä½œç‚¹å‡»æ¯ä¸ªåˆ—è¡¨é€‰é¡¹æ—¶ï¼Œéå†æ‰€æœ‰åˆ—è¡¨é€‰é¡¹å¹¶æ£€æŸ¥æ˜¯å¦æœ‰æœªé€‰ä¸­çš„ï¼Œå¦‚æœæœ‰åˆ™å¯ä»¥ç¡®å®šå…¨é€‰æŒ‰é’®çš„çŠ¶æ€ä¸ºæœªé€‰ä¸­ï¼Œå¦åˆ™å…¨é€‰æŒ‰é’®ç½®ä¸ºé€‰ä¸­ã€‚ 1234567891011121314151617181920212223242526272829303132var oAllInput = document.querySelector('#all');var aInput = document.querySelectorAll('ul input');// ç‚¹å‡»å…¨é€‰ input æ—¶æ ¹æ®è‡ªå·±çš„çŠ¶æ€æ¥æ§åˆ¶å…¶ä»–åˆ—è¡¨é¡¹çš„ inputoAllInput.onchange = function() &#123; for(var i = 0; i &lt; aInput.length; i ++) &#123; aInput[i].checked = this.checked; &#125;&#125;;// æ¯æ¬¡ç‚¹å‡»æ¯ä¸€ä¸ªåˆ—è¡¨é¡¹çš„ input æ—¶ï¼Œåˆ¤æ–­å…¨é€‰çš„ input æ˜¯å¦éœ€è¦è¢«é€‰ä¸­for(var i = 0; i &lt; aInput.length; i ++) &#123; aInput[i].onclick = function() &#123; if (!this.checked) &#123; // å¦‚æœå½“å‰ç‚¹å‡»çš„æŒ‰é’®æœªé€‰ä¸­ï¼Œé‚£å°±å¯ä»¥ç›´æ¥ç¡®å®šå…¨é€‰æŒ‰é’®çš„çŠ¶æ€äº† oAllInput.checked = false; // ä¹Ÿå°±æ²¡æœ‰å¿…è¦è¿›è¡Œä¸‹å»äº† return; &#125; var bBar = true; for(var i = 0; i &lt; aInput.length; i ++) &#123; // å‘ç°æœ‰ä¸€ä¸ªæ²¡é€‰ä¸­çš„ if(!aInput[i].checked) &#123; bBar = false; // å‘ç°æœ‰ä¸€ä¸ªæ²¡é€‰ä¸­çš„ä¹Ÿå°±å¯ä»¥æ–­å®š oAllInput çš„çŠ¶æ€äº†ï¼Œå°±æ²¡æœ‰å¿…è¦å†è¿›è¡Œä¸‹å»äº† // å½“ç„¶ä½ ä¸å†™ break é€»è¾‘ä¸Šä¹Ÿæ˜¯å¯¹çš„ï¼Œåªæ˜¯å­˜åœ¨æ€§èƒ½æµªè´¹ break; &#125; &#125; oAllInput.checked = bBar; &#125;;&#125; æ³¨æ„ç»†èŠ‚æ€è·¯å’Œä¸Šé¢ä¸€æ ·ï¼Œä¸‹é¢çš„å†™æ³•ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šç‚¹å‡»åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹è¿›è¡Œå¾ªç¯æ—¶ï¼Œç¢°åˆ°æœªé€‰ä¸­çš„ä¸€å®šè¦è·³å‡ºå¾ªç¯ï¼Œä¸ç„¶å‰é¢å…¨é€‰æŒ‰é’®çš„çŠ¶æ€éƒ½ä¼šè¢«æœ€åä¸€ä¸ªæŒ‰é’®çš„çŠ¶æ€æ‰€è¦†ç›–ã€‚ 12345678910111213141516171819for (var i = 0; i &lt; aInput.length; i++) &#123; aInput[i].onclick = function () &#123; if (!this.checked) &#123; // å¦‚æœå½“å‰ç‚¹å‡»çš„æŒ‰é’®æœªé€‰ä¸­ï¼Œé‚£å°±å¯ä»¥ç›´æ¥ç¡®å®šå…¨é€‰æŒ‰é’®çš„çŠ¶æ€äº† oAllInput.checked = false; // ä¹Ÿå°±æ²¡æœ‰å¿…è¦è¿›è¡Œä¸‹å»äº† return; &#125; for (var i = 0; i &lt; aInput.length; i++) &#123; if (!aInput[i].checked) &#123; oAllInput.checked = false; // è¿™é‡Œçš„ break æ˜¯å¿…é¡»è¦åŠ çš„ï¼ä¸ç„¶å…¨é€‰æŒ‰é’®çš„çŠ¶æ€æ°¸è¿œæ˜¯ä»¥æœ€åä¸€ä¸ªçš„é€‰ä¸­çŠ¶æ€ä¸ºå‡†ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çš„ break; &#125; else &#123; oAllInput.checked = true; &#125; &#125; &#125;;&#125; å…¶ä»–æ–¹æ³•æ¯æ¬¡ç‚¹å‡»åˆ—è¡¨ä¸­çš„æŒ‰é’®æ—¶ï¼Œè·å–æ‰€æœ‰å·²é€‰ä¸­ input çš„é•¿åº¦ï¼Œå¹¶åˆ¤æ–­å·²é€‰ä¸­ input çš„ length æ˜¯å¦ç­‰äºæ‰€æœ‰ input çš„ lengthï¼Œå¦‚æœç›¸ç­‰ï¼Œå°±å¯ä»¥æ¿€æ´»å…¨é€‰æŒ‰é’®å•¦ï¼Œå¦åˆ™åˆ™å–æ¶ˆå…¨é€‰ã€‚ 1234567891011for (var i = 0; i &lt; aInput.length; i++) &#123; aInput[i].onclick = function () &#123; var aInputChecked = document.querySelectorAll('ul input:checked'); // å·²é€‰ä¸­ length ç­‰äºæ‰€æœ‰ length å°±è¯æ˜å…¨é€‰ä¸­äº†ï¼Œä¹Ÿå°±å¯ä»¥æ¿€æ´»å…¨é€‰æŒ‰é’®å•¦ if (aInputChecked.length === aInput.length) &#123; oAllInput.checked = true; &#125; else &#123; oAllInput.checked = false; &#125; &#125;;&#125;]]></content>
      <categories>
        <category>Web API</category>
      </categories>
      <tags>
        <tag>å…¨é€‰</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ’ä»–æ€æƒ³]]></title>
    <url>%2F2019%2F05%2F21%2Fkill-other%2F</url>
    <content type="text"><![CDATA[ä¸Šè¯¾æˆ‘ä»¬åœ¨åšç‚¹å‡»å½“å‰æŒ‰é’®é«˜äº®ï¼Œå…¶ä»–æŒ‰é’®é‡ç½®ä¸ºé»˜è®¤é¢œè‰²çš„éœ€æ±‚æ—¶ï¼Œç”¨åˆ°äº†â€œæ’ä»–æ€æƒ³â€ï¼Œæ€è·¯æ˜¯ï¼šç¬¬ä¸€æ­¥ï¼Œå…ˆå¹²æ‰æ‰€æœ‰çš„ï¼›ç¬¬äºŒæ­¥ï¼Œå†æ“ä½œè‡ªå·±çš„ï¼Œç®€å•æ˜äº†ï¼Œç›¸ä¿¡å¤§å®¶éƒ½æ¯”è¾ƒæ¸…æ¥šäº†ï¼è¿™é‡Œæˆ‘å†ç»™å¤§å®¶åšä¸ªæ€»ç»“ï¼Œé¡ºä¾¿å†æ‹“å±•ä¸€ä¸‹å…¶ä»–çš„å®ç°æ€è·¯ ~ æ’å®Œæ€æƒ³éœ€æ±‚ï¼šæœ‰ 5 ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»å½“å‰æŒ‰é’®å˜çº¢ï¼Œå…¶ä»–æŒ‰é’®æ¢å¤é»˜è®¤é¢œè‰² 123456&lt;!-- HTML ç»“æ„ --&gt;&lt;button&gt;1&lt;/button&gt;&lt;button&gt;2&lt;/button&gt;&lt;button&gt;3&lt;/button&gt;&lt;button&gt;4&lt;/button&gt;&lt;button&gt;5&lt;/button&gt; 123456789101112var aBtn = document.querySelectorAll('button');for(var i = 0; i &lt; aBtn.length; i ++) &#123; aBtn[i].onclick = function() &#123; // Step1: å…ˆå¹²æ‰æ‰€æœ‰äººï¼Œâ€œæ’å®Œâ€ for(var i = 0; i &lt; aBtn.length; i ++) &#123; aBtn[i].style.backgroundColor = ''; &#125; // Step2: å†æ“ä½œè‡ªå·±çš„ this.style.backgroundColor = 'red'; &#125;;&#125; æ’å…„æ€æƒ³1234567&lt;script src="https://cdn.bootcss.com/jquery/3.4.0/jquery.min.js"&gt;&lt;/script&gt;&lt;script&gt;$("button").on("click", function() &#123; // å…ˆæ“ä½œè‡ªå·±çš„ï¼Œå†å¹²æ‰æ‰€æœ‰çš„å…„å¼Ÿï¼Œâ€œæ’å…„â€ $(this).css("background", "red").siblings().css("background", "");&#125;);&lt;/script&gt; æ’ä¸Šæ€æƒ³1234567891011121314var aBtn = document.querySelectorAll('button');var prev = 0;for (var i = 0; i &lt; aBtn.length; i++) &#123; aBtn[i].index = i; aBtn[i].onclick = function () &#123; // Step1: å…ˆå¹²æ‰ä¸Šä¸€ä¸ªï¼Œâ€œæ’ä¸Šâ€ aBtn[prev].style.backgroundColor = ""; // Step2: å†æ“ä½œè‡ªå·±çš„ this.style.backgroundColor = 'red'; // Step3: æ“ä½œå®Œåˆ«å¿˜äº†æŠŠè‡ªå·±ä¹Ÿå˜æˆâ€œä¸Šä¸€ä¸ªâ€ prev = this.index; &#125;;&#125;]]></content>
      <categories>
        <category>Web API</category>
      </categories>
      <tags>
        <tag>æ’ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¤æ¸… Node.appendChild()]]></title>
    <url>%2F2019%2F05%2F19%2FappendChild%2F</url>
    <content type="text"><![CDATA[Node.appendChild() æ–¹æ³•ç”¨äºå°†ä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ åˆ°æŒ‡å®šçˆ¶èŠ‚ç‚¹çš„å­èŠ‚ç‚¹åˆ—è¡¨çš„æœ«å°¾ï¼Œä½†åœ¨å…·ä½“ä½¿ç”¨æ—¶è¿˜æœ‰å…¶ä»–ä¸€äº›éœ€è¦æˆ‘ä»¬å…³æ³¨çš„ç»†èŠ‚ï¼Œä»¥åŠå¯¹åº”çš„åº”ç”¨åœºæ™¯ã€‚ å¸¸è§„æ“ä½œå¤§å®¶éƒ½æ¸…æ¥š appendChild å¯ä»¥æŠŠåˆ›å»ºå¥½çš„å…ƒç´ æ’å…¥åˆ°å¦ä¸€ä¸ªå…ƒç´ å†…å®¹çš„æœ€åé¢ï¼Œå¸¸è§„æ“ä½œå¦‚ä¸‹ï¼š 123456// åˆ›å»ºå…ƒç´ var oDiv = document.createElement('div');// ç»™åˆ›å»ºå¥½çš„å…ƒç´ åŠ ç‚¹å†…å®¹oDiv.innerHTML = 'hello world';// æ·»åŠ åˆ° body é‡Œé¢document.body.appendChild(oDiv); éœ€è¦æ³¨æ„ä¸Šé¢ä»£ç å¿…ç„¶æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†è¿™é‡Œè¿˜æœ‰ä¸€ç‚¹éœ€è¦å¤§å®¶æ³¨æ„çš„æ˜¯ï¼ŒappendChild åœ¨æ’å…¥å·²å­˜åœ¨å…ƒç´ çš„æ—¶å€™å…¶å®æ˜¯åšäº†ä¸¤ä»¶äº‹çš„ï¼š å…ˆæŠŠåŸæ¥å·²å­˜åœ¨çš„å…ƒç´ åˆ é™¤ å†è¿›è¡Œåç»­çš„æ·»åŠ æ“ä½œ å…·ä½“æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå¤§å®¶çœ‹ä¸‹é¢çš„ä¾‹å­å°±æ¸…æ¥šäº†ã€‚éœ€æ±‚ï¼šæ¯æ¬¡ç‚¹å‡»æŒ‰é’®æŠŠä¸Šé¢ ul ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ç§»åŠ¨åˆ°ä¸‹é¢çš„ ul ä¸­ï¼š 1234567891011121314151617181920&lt;ul id="ul1"&gt; &lt;li&gt;aaa&lt;/li&gt; &lt;li&gt;bbb&lt;/li&gt; &lt;li&gt;ccc&lt;/li&gt; &lt;li&gt;ddd&lt;/li&gt;&lt;/ul&gt;&lt;button id="btn"&gt;æ’å…¥ä¸‹é¢&lt;/button&gt;&lt;ul id="ul2"&gt;&lt;/ul&gt;&lt;script&gt;// é€‰æ‹©å…ƒç´ var oUl1 = document.querySelector('#ul1');var oBtn = document.querySelector('#btn');var oUl2 = document.querySelector('#ul2');oBtn.onclick = function() &#123; var oLi = oUl1.children[0]; // æ¯æ¬¡ç‚¹å‡»æŒ‰é’®ç¡®å®åœ¨ oUl2 ä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œä½†åŒæ—¶ oUl1 ä¸­ä¹Ÿç›¸åº”å°‘äº†è¿™ä¸ªå…ƒç´  // æ‰€ä»¥ appendChild æ—¶ç›¸å½“äºå·å·å¸®æˆ‘ä»¬åšäº†è¿™ä¹ˆä¸€æ­¥æ“ä½œï¼šoUl1.removeChild(oLi); oUl2.appendChild(oLi);&#125;;&lt;/script&gt; å®é™…åº”ç”¨å¥½ï¼Œç°åœ¨æˆ‘ä»¬æ¸…æ¥šäº†å½“ç”¨ appendChild æ’å…¥å·²å­˜åœ¨å…ƒç´ æ—¶ä¼šå…ˆåˆ é™¤ä¹‹å‰å†è¿›è¡Œæ’å…¥ï¼Œé‚£æ˜ç™½è¿™ä¸ªç‰¹æ€§æœ‰ä»€ä¹ˆå®é™…çš„ç”¨å¤„å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ä¾‹å¦‚ä¸‹é¢ä¸€ä¸ªéœ€æ±‚ï¼Œç‚¹å‡»æŒ‰é’®ï¼Œæ ¹æ®å…ƒç´ ä¸­çš„æ•°å­—å¤§å°å¯¹è¿™ç»„å…ƒç´ è¿›è¡Œæ’åºï¼š 123456789&lt;!-- HTML ç»“æ„ --&gt;&lt;ul id="ul1"&gt; &lt;li&gt;5&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;4&lt;/li&gt;&lt;/ul&gt;&lt;button id="btn"&gt;ç‚¹å‡»&lt;/button&gt; 123456789101112131415161718192021222324252627282930313233// é€‰æ‹©å…ƒç´ var oUl1 = document.querySelector('#ul1');var aLi = oUl1.querySelectorAll('li');var oBtn = document.querySelector('#btn');// æŠŠä¼ªæ•°ç»„ aLi ä¸­çš„æ¯ä¸€é¡¹éƒ½æ”¾åˆ°æ•°ç»„é‡Œé¢ï¼Œç›®çš„æ˜¯ä¸ºäº†è¿›è¡Œæ’åºvar arr = [];for(var i = 0; i &lt; aLi.length; i ++) &#123; arr.push(aLi[i]);&#125;oBtn.onclick = function () &#123; // è¿™å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„å†’æ³¡æ’åºï¼Œä½ è¿˜è®°å¾—å— for (var i = 0; i &lt; arr.length - 1; i++) &#123; // éœ€è¦èµ° arr.length - 1 è½® for (var j = 0; j &lt; arr.length - i - 1; j++) &#123; // æ¯è½®æ¯”è¾ƒ arr.length - i - 1 æ¬¡ var prevNum = parseFloat(arr[j].innerText); var nextNum = parseFloat(arr[j + 1].innerText); if (prevNum &gt; nextNum) &#123; // ä¸èƒ½å¯¹ä¼ªæ•°ç»„ä¸­å…¶ä¸­ä¸€äº›ç›´æ¥èµ‹å€¼ï¼Œä¾‹å¦‚ï¼šaLi[j] = aLi[j+1]ï¼Œæ‰€ä»¥éœ€è¦æŠŠä¼ªæ•°ç»„è½¬æ¢æˆæ•°ç»„åå†è¿›è¡Œæ’åº var temp = null; temp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = temp; &#125; &#125; &#125; // æ­¤æ—¶ arr ä¸­è£…çš„å·²ç»æ˜¯æ’å¥½åºçš„ä¸€å † li å…ƒç´ äº† for(var i = 0; i &lt; arr.length; i ++) &#123; // åˆ†åˆ«æŠŠæ’å¥½åºçš„æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ’å…¥åˆ° oUl1 å†…å®¹çš„æœ€å // æ³¨æ„æ¯æ¬¡æ’å…¥çš„åŒæ—¶ä¹Ÿä¼šæŠŠ oUl1 ä¸­é‚£ä¸ªç›¸åŒçš„å…ƒç´ å…ˆç»™å¹²æ‰ï¼Œæ‰€ä»¥ oUl1 ä¸­ä¹Ÿå°±ä¸ä¼šå­˜åœ¨é‡å¤å…ƒç´ çš„é—®é¢˜ oUl1.appendChild(arr[i]); &#125;&#125;; ä¼˜åŒ–ä»£ç è¿™é‡Œä¼˜åŒ–ç›¸å…³çš„ä»£ç æˆ‘ä»¬å¹¶æ²¡æœ‰å­¦ï¼ˆä¸å»ºè®®æŸ¥çœ‹ï¼‰ï¼Œæˆ‘è¿™é‡Œä¹Ÿæä¾›ä¸€ç§è¾ƒä½³å®æˆ˜ï¼Œæ˜¯ç»™ä½ ä»¬ä»¥åçœ‹çš„ï¼ˆç”šè‡³æ˜¯å·¥ä½œåï¼‰ï¼Œä¼˜åŒ–åçš„ JS ä»£ç å¦‚ä¸‹ï¼š 123456789101112const oUl1 = document.querySelector('#ul1');const aLi = oUl1.querySelectorAll('li');const oBtn = document.querySelector('#btn');oBtn.addEventListener('click', () =&gt; &#123; // Array.from å¯ä»¥æŠŠä¼ªæ•°ç»„è½¬æˆæ•°ç»„ï¼Œsort çš„åŸç†å°±æ˜¯ä¸Šé¢å†™çš„å†’æ³¡æ’åº Array.from(aLi).sort((li1, li2) =&gt; &#123; return parseFloat(li1.innerText) - parseFloat(li2.innerText); &#125;).forEach(li =&gt; &#123; oUl1.appendChild(li); &#125;)&#125;);]]></content>
      <categories>
        <category>Web API</category>
      </categories>
      <tags>
        <tag>appendChild</tag>
      </tags>
  </entry>
</search>
