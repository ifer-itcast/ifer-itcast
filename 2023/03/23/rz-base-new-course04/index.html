<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="ä»Šæ—¥ç›®æ ‡âœ” æŒæ¡ el-tree ç»„ä»¶çš„ä½¿ç”¨ã€‚ âœ” å®Œæˆç»„ç»‡æ¶æ„çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="04_äººèµ„åå°">
<meta property="og:url" content="http://example.com/2023/03/23/rz-base-new-course04/index.html">
<meta property="og:site_name" content="å±é™©">
<meta property="og:description" content="ä»Šæ—¥ç›®æ ‡âœ” æŒæ¡ el-tree ç»„ä»¶çš„ä½¿ç”¨ã€‚ âœ” å®Œæˆç»„ç»‡æ¶æ„çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/resource/images/image-20200828105046683.png">
<meta property="og:image" content="http://example.com/resource/images/zzjg.png">
<meta property="og:image" content="http://example.com/resource/images/Snipaste_2023-03-26_11-43-02.png">
<meta property="og:image" content="http://example.com/resource/images/Snipaste_2023-03-27_08-53-43.png">
<meta property="og:image" content="http://example.com/resource/images/image-20200721010931214.png">
<meta property="og:image" content="http://example.com/resource/images/new_rz_56.png">
<meta property="og:image" content="http://example.com/resource/images/new_rz_47.png">
<meta property="og:image" content="http://example.com/resource/images/new_rz_50.png">
<meta property="og:image" content="http://example.com/resource/images/new_rz_51.png">
<meta property="og:image" content="http://example.com/resource/images/new_rz_52.png">
<meta property="article:published_time" content="2023-03-23T07:03:56.000Z">
<meta property="article:modified_time" content="2023-05-11T07:42:51.332Z">
<meta property="article:author" content="Ifer">
<meta property="article:tag" content="React,Redux,Mobx,Saga,Dva,Umi,AntD,TS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/resource/images/image-20200828105046683.png">

<link rel="canonical" href="http://example.com/2023/03/23/rz-base-new-course04/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>04_äººèµ„åå° | å±é™©</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">å±é™©</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">ä¸ºä¹‹åˆ™æ˜“ï¼Œä¸ä¸ºåˆ™éš¾</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/03/23/rz-base-new-course04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/49337922.png">
      <meta itemprop="name" content="Ifer">
      <meta itemprop="description" content="React å…¨å®¶æ¡¶ <span style='position:relative;top:-2px;'>âœ</span>">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="å±é™©">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          04_äººèµ„åå°
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2023-03-23 15:03:56" itemprop="dateCreated datePublished" datetime="2023-03-23T15:03:56+08:00">2023-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-05-11 15:42:51" itemprop="dateModified" datetime="2023-05-11T15:42:51+08:00">2023-05-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="ä»Šæ—¥ç›®æ ‡"><a href="#ä»Šæ—¥ç›®æ ‡" class="headerlink" title="ä»Šæ—¥ç›®æ ‡"></a>ä»Šæ—¥ç›®æ ‡</h2><p>âœ” æŒæ¡ el-tree ç»„ä»¶çš„ä½¿ç”¨ã€‚</p>
<p>âœ” å®Œæˆç»„ç»‡æ¶æ„çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ã€‚</p>
<span id="more"></span>

<h2 id="ç»„ç»‡æ¶æ„æ ‘å½¢ç»“æ„å¸ƒå±€"><a href="#ç»„ç»‡æ¶æ„æ ‘å½¢ç»“æ„å¸ƒå±€" class="headerlink" title="ç»„ç»‡æ¶æ„æ ‘å½¢ç»“æ„å¸ƒå±€"></a>ç»„ç»‡æ¶æ„æ ‘å½¢ç»“æ„å¸ƒå±€</h2><h3 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>ä½¿ç”¨ ElementUI ç»„ä»¶å¸ƒå±€ç»„ç»‡æ¶æ„çš„åŸºæœ¬å¸ƒå±€ã€‚</p>
<h3 id="è®¤è¯†ç»„ç»‡æ¶æ„"><a href="#è®¤è¯†ç»„ç»‡æ¶æ„" class="headerlink" title="è®¤è¯†ç»„ç»‡æ¶æ„"></a>è®¤è¯†ç»„ç»‡æ¶æ„</h3><p><img src="/resource/images/image-20200828105046683.png" alt="image-20200828105046683"></p>
<p>ä¸€ä¸ªä¼ä¸šçš„ç»„ç»‡æ¶æ„æ˜¯è¯¥ä¼ä¸šçš„çµé­‚ï¼Œç»„ç»‡æ¶æ„é€šå¸¸é‡‡ç”¨æ ‘å½¢é‡‘å­—å¡”å¼ç»“æ„ï¼Œæœ¬ç« èŠ‚ï¼Œæˆ‘ä»¬å¸ƒå±€å‡ºé¡µé¢çš„åŸºæœ¬ç»“æ„ã€‚</p>
<p><img src="/resource/images/zzjg.png" alt="image-20200720010954202"></p>
<h3 id="æ ‘å½¢ç»„ä»¶è®¤è¯†"><a href="#æ ‘å½¢ç»„ä»¶è®¤è¯†" class="headerlink" title="æ ‘å½¢ç»„ä»¶è®¤è¯†"></a>æ ‘å½¢ç»„ä»¶è®¤è¯†</h3><p>æ¥ä¸‹æ¥ï¼Œå®ç°æ ‘å½¢çš„ç»“æ„ï¼Œé‡‡ç”¨ Element UI çš„ <a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/tree">tree ç»„ä»¶</a>ï¼Œç›¸å…³å±æ€§å¦‚ä¸‹ã€‚</p>
<table>
<thead>
<tr>
<th align="left">å‚æ•°</th>
<th align="left">è¯´æ˜</th>
<th align="left">ç±»å‹</th>
<th align="left">å¯é€‰å€¼</th>
<th align="left">é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td align="left">default-expand-all</td>
<td align="left">æ˜¯å¦é»˜è®¤å±•å¼€æ‰€æœ‰èŠ‚ç‚¹</td>
<td align="left">boolean</td>
<td align="left">â€”</td>
<td align="left">â€”</td>
</tr>
<tr>
<td align="left">data</td>
<td align="left">å±•ç¤ºæ•°æ®</td>
<td align="left">array</td>
<td align="left">â€”</td>
<td align="left">â€”</td>
</tr>
<tr>
<td align="left">node-key</td>
<td align="left">æ¯ä¸ªæ ‘èŠ‚ç‚¹ç”¨æ¥ä½œä¸ºå”¯ä¸€æ ‡è¯†çš„å±æ€§ï¼Œåœ¨æ•´æ£µæ ‘ä¸­åº”è¯¥æ˜¯å”¯ä¸€çš„</td>
<td align="left">String</td>
<td align="left">â€”</td>
<td align="left">â€”</td>
</tr>
<tr>
<td align="left">props</td>
<td align="left">é…ç½®é€‰é¡¹ï¼Œå…·ä½“çœ‹ä¸‹è¡¨</td>
<td align="left">object</td>
<td align="left">â€”</td>
<td align="left">â€”</td>
</tr>
</tbody></table>
<p>props å¯¹è±¡çš„é…ç½®ä¿¡æ¯å¦‚ä¸‹ã€‚</p>
<table>
<thead>
<tr>
<th align="left">å‚æ•°</th>
<th align="left">è¯´æ˜</th>
<th align="left">ç±»å‹</th>
<th align="left">å¯é€‰å€¼</th>
<th align="left">é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td align="left">label</td>
<td align="left">æŒ‡å®šèŠ‚ç‚¹æ ‡ç­¾ä¸ºèŠ‚ç‚¹å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼</td>
<td align="left">string, function(data, node)</td>
<td align="left">â€”</td>
<td align="left">â€”</td>
</tr>
<tr>
<td align="left">children</td>
<td align="left">æŒ‡å®šå­æ ‘ä¸ºèŠ‚ç‚¹å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼</td>
<td align="left">string</td>
<td align="left">â€”</td>
<td align="left">â€”</td>
</tr>
<tr>
<td align="left">disabled</td>
<td align="left">æŒ‡å®šèŠ‚ç‚¹é€‰æ‹©æ¡†æ˜¯å¦ç¦ç”¨ä¸ºèŠ‚ç‚¹å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼</td>
<td align="left">boolean, function(data, node)</td>
<td align="left">â€”</td>
<td align="left">â€”</td>
</tr>
</tbody></table>
<p><strong>data å±æ€§</strong>æ˜¯ç»„æˆæ ‘å½¢æ•°æ®çš„å…³é”®ï¼Œæ¼”ç¤ºå®ƒçš„ä½¿ç”¨ï¼Œ<a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/tree#ji-chu-yong-fa">å®˜ç½‘</a>ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-card</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span>&gt;</span><span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-tree</span> <span class="attr">:data</span>=<span class="string">&quot;departs&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-tree</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<img src="/resource/images/Snipaste_2023-03-26_11-43-02.png" width="500" class="highlight2"/>

<h3 id="æ”¹é€ æ ‘å½¢ç»„ä»¶çš„æ•°æ®å’Œç»“æ„"><a href="#æ”¹é€ æ ‘å½¢ç»„ä»¶çš„æ•°æ®å’Œç»“æ„" class="headerlink" title="æ”¹é€ æ ‘å½¢ç»„ä»¶çš„æ•°æ®å’Œç»“æ„"></a>æ”¹é€ æ ‘å½¢ç»„ä»¶çš„æ•°æ®å’Œç»“æ„</h3><p>ğŸ“ ç›®æ ‡ï¼šæ ¹æ®å›ºå®šæ•°æ®ï¼Œå®Œæˆä¸‹é¢çš„æ•ˆæœï¼ŒæŒæ¡  <a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/tree#scoped-slot">tree</a> props å±æ€§å’Œä½œç”¨åŸŸæ’æ§½çš„ä½¿ç”¨ã€‚</p>
<img src="/resource/images/Snipaste_2023-03-27_08-53-43.png" class="highlight2"/>

<p><code>views/department/index.vue</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app-container&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-card</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-tree</span> <span class="attr">:data</span>=<span class="string">&quot;departs&quot;</span> <span class="attr">:props</span>=<span class="string">&quot;defaultProps&quot;</span> <span class="attr">:default-expand-all</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- #1 el-row --&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- ä½œç”¨åŸŸæ’æ§½ slot-scope=&quot;obj&quot;ï¼Œæ¥æ”¶ä¼ é€’ç»™æ’æ§½çš„æ•°æ®ï¼Œobj.data æ˜¯æ¯ä¸ªèŠ‚ç‚¹çš„æ•°æ®å¯¹è±¡--&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- &lt;el-row slot-scope=&quot;&#123; data &#125;&quot; type=&quot;flex&quot; align=&quot;middle&quot; style=&quot;height: 40px; width: 100%&quot;&gt; --&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- æˆ–è€… &lt;template v-slot=&quot;&#123; data &#125;&quot;&gt;&lt;/template&gt; --&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- æˆ–è€… &lt;template v-slot:default=&quot;&#123; data &#125;&quot;&gt;&lt;/template&gt; --&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- æˆ–è€… &lt;template #default=&quot;&#123; data &#125;&quot;&gt;&lt;/template&gt; --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;&#123; data &#125;&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">type</span>=<span class="string">&quot;flex&quot;</span> <span class="attr">align</span>=<span class="string">&quot;middle&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 40px; width: 100%&quot;</span>&gt;</span></span><br><span class="line">                            <span class="comment">&lt;!-- #2 å·¦ä¾§å†…å®¹ --&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">el-col</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; data.name &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">                            <span class="comment">&lt;!-- #3 å³ä¾§å†…å®¹ --&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;4&quot;</span>&gt;</span></span><br><span class="line">                                <span class="comment">&lt;!-- #4 el-row --&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">type</span>=<span class="string">&quot;flex&quot;</span>&gt;</span></span><br><span class="line">                                    <span class="comment">&lt;!-- #5 left --&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;<span class="name">el-col</span>&gt;</span>&#123;&#123; data.managerName &#125;&#125;<span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">                                    <span class="comment">&lt;!-- #6 right --&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;<span class="name">el-col</span>&gt;</span></span><br><span class="line">                                        <span class="comment">&lt;!-- #7 --&gt;</span></span><br><span class="line">                                        <span class="comment">&lt;!-- æ”¾ç½®ä¸‹æ‹‰èœå• --&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">el-dropdown</span>&gt;</span></span><br><span class="line">                                            <span class="comment">&lt;!-- #8 æ ‡é¢˜ --&gt;</span></span><br><span class="line">                                            <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ“ä½œ<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-arrow-down&quot;</span> /&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                                            <span class="comment">&lt;!-- #9 å†…å®¹ï¼Œå…·åæ’æ§½ --&gt;</span></span><br><span class="line">                                            <span class="tag">&lt;<span class="name">el-dropdown-menu</span> <span class="attr">slot</span>=<span class="string">&quot;dropdown&quot;</span>&gt;</span></span><br><span class="line">                                                <span class="comment">&lt;!-- ä¸‹æ‹‰é€‰é¡¹ --&gt;</span></span><br><span class="line">                                                <span class="tag">&lt;<span class="name">el-dropdown-item</span>&gt;</span>æ·»åŠ å­éƒ¨é—¨<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                                                <span class="tag">&lt;<span class="name">el-dropdown-item</span>&gt;</span>ç¼–è¾‘éƒ¨é—¨<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                                                <span class="tag">&lt;<span class="name">el-dropdown-item</span>&gt;</span>åˆ é™¤éƒ¨é—¨<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">                                            <span class="tag">&lt;/<span class="name">el-dropdown-menu</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;/<span class="name">el-dropdown</span>&gt;</span></span><br><span class="line">                                    <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-tree</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&#x27;Department&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">departs</span>: [&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="attr">name</span>: <span class="string">&#x27;æ€»è£åŠ&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="attr">managerName</span>: <span class="string">&#x27;zs&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="attr">children</span>: [&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="attr">name</span>: <span class="string">&#x27;è‘£äº‹ä¼š&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                            <span class="attr">managerName</span>: <span class="string">&#x27;ls&#x27;</span></span></span><br><span class="line"><span class="javascript">                        &#125;]</span></span><br><span class="line"><span class="javascript">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="attr">name</span>: <span class="string">&#x27;è¡Œæ”¿éƒ¨&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="attr">managerName</span>: <span class="string">&#x27;ww&#x27;</span></span></span><br><span class="line"><span class="javascript">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="attr">name</span>: <span class="string">&#x27;äººäº‹éƒ¨&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        <span class="attr">managerName</span>: <span class="string">&#x27;zl&#x27;</span></span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                ],</span></span><br><span class="line"><span class="javascript">                <span class="attr">defaultProps</span>: &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">label</span>: <span class="string">&#x27;name&#x27;</span> <span class="comment">// è¡¨ç¤ºæ˜¾ç¤ºè¿™ä¸ªå±æ€§å¯¹åº”çš„å€¼</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h3><p>å®Œæˆæ ‘å½¢ç»“æ„çš„æ˜¾ç¤ºã€‚</p>
<h2 id="è·å–åŠ å·¥ç»„ç»‡æ¶æ„æ•°æ®"><a href="#è·å–åŠ å·¥ç»„ç»‡æ¶æ„æ•°æ®" class="headerlink" title="è·å–åŠ å·¥ç»„ç»‡æ¶æ„æ•°æ®"></a>è·å–åŠ å·¥ç»„ç»‡æ¶æ„æ•°æ®</h2><h3 id="ç›®æ ‡-1"><a href="#ç›®æ ‡-1" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>è·å–çœŸå®çš„ç»„ç»‡æ¶æ„æ•°æ®ï¼Œå¹¶å°†å…¶è½¬åŒ–æˆæ ‘å½¢æ•°æ®æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚</p>
<h3 id="å°è£…-API-æ¥å£"><a href="#å°è£…-API-æ¥å£" class="headerlink" title="å°è£… API æ¥å£"></a>å°è£… API æ¥å£</h3><ol>
<li>å°è£…è·å–ç»„ç»‡æ¶æ„çš„è¯·æ±‚ï¼Œ<code>api/departments.js</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request&#x27;</span></span><br><span class="line"><span class="comment">// è·å–ç»„ç»‡æ¶æ„æ•°æ®</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getDepartments</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/company/department&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åœ¨é’©å­å‡½æ•°ä¸­è°ƒç”¨æ¥å£ï¼Œ<code>views/departments/index.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #1</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    getDepartments</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/departments&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Department&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// #4 åˆ é™¤åˆå§‹çš„æ•°æ®</span></span><br><span class="line">            <span class="attr">departs</span>: [],</span><br><span class="line">            <span class="attr">defaultProps</span>: &#123;</span><br><span class="line">                <span class="attr">label</span>: <span class="string">&#x27;name&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="comment">// #2</span></span><br><span class="line">        <span class="built_in">this</span>.getDepartments()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="comment">// #3</span></span><br><span class="line">        <span class="keyword">async</span> <span class="function"><span class="title">getDepartments</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> result = <span class="keyword">await</span> getDepartments()</span><br><span class="line">            <span class="built_in">this</span>.departs = result</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å°†æ•°ç»„æ•°æ®è½¬åŒ–æˆæ ‘å½¢ç»“æ„"><a href="#å°†æ•°ç»„æ•°æ®è½¬åŒ–æˆæ ‘å½¢ç»“æ„" class="headerlink" title="å°†æ•°ç»„æ•°æ®è½¬åŒ–æˆæ ‘å½¢ç»“æ„"></a>å°†æ•°ç»„æ•°æ®è½¬åŒ–æˆæ ‘å½¢ç»“æ„</h3><p><img src="/resource/images/image-20200721010931214.png" alt="image-20200721010931214"></p>
<ol>
<li>å°è£…ä¸€ä¸ªå·¥å…·æ–¹æ³•ï¼Œ<code>utils/index.js</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¶ä»–åˆ é™¤...</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">transListToTreeData</span>(<span class="params">list, rootValue</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = []</span><br><span class="line">    list.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.pid === rootValue) &#123;</span><br><span class="line">            <span class="comment">// æ‰¾åˆ°ä¹‹åï¼Œå°±è¦å»æ‰¾ item ä¸‹é¢æœ‰æ²¡æœ‰å­èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">const</span> children = transListToTreeData(list, item.id)</span><br><span class="line">            <span class="keyword">if</span> (children.length) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœ children çš„é•¿åº¦å¤§äº 0ï¼Œè¯´æ˜æ‰¾åˆ°äº†å­èŠ‚ç‚¹</span></span><br><span class="line">                item.children = children</span><br><span class="line">            &#125;</span><br><span class="line">            arr.push(item) <span class="comment">// å°†å†…å®¹åŠ å…¥åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>è°ƒç”¨è½¬åŒ–æ–¹æ³•ï¼Œè½¬åŒ–æ ‘å½¢ç»“æ„ï¼Œ<code>src/views/department/index.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// #1</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    transListToTreeData</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="keyword">async</span> <span class="function"><span class="title">getDepartments</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">            <span class="comment">// #2</span></span><br><span class="line">            <span class="built_in">this</span>.departs = transListToTreeData(result, <span class="number">0</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="array-to-tree"><a href="#array-to-tree" class="headerlink" title="array to tree"></a>array to tree</h3><h4 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸå§‹æ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> list = [&#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;æ€»è£åŠ&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;è¡Œæ”¿éƒ¨&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;è´¢åŠ¡éƒ¨&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;d&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;è´¢åŠ¡æ ¸ç®—éƒ¨&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;e&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;ç¨åŠ¡ç®¡ç†éƒ¨&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;f&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;e&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;ç¨åŠ¡ç®¡ç† A éƒ¨&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;g&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;e&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;ç¨åŠ¡ç®¡ç† B éƒ¨&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœŸæœ›ç»“æœ</span></span><br><span class="line"><span class="keyword">const</span> list = [&#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;æ€»è£åŠ&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;è¡Œæ”¿éƒ¨&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;è´¢åŠ¡éƒ¨&#x27;</span>,</span><br><span class="line">        <span class="attr">children</span>: [&#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="string">&#x27;d&#x27;</span>,</span><br><span class="line">                <span class="attr">pid</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;è´¢åŠ¡æ ¸ç®—éƒ¨&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="string">&#x27;e&#x27;</span>,</span><br><span class="line">                <span class="attr">pid</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;ç¨åŠ¡ç®¡ç†éƒ¨&#x27;</span>,</span><br><span class="line">                <span class="attr">children</span>: [&#123;</span><br><span class="line">                        <span class="attr">id</span>: <span class="string">&#x27;f&#x27;</span>,</span><br><span class="line">                        <span class="attr">pid</span>: <span class="string">&#x27;e&#x27;</span>,</span><br><span class="line">                        <span class="attr">name</span>: <span class="string">&#x27;ç¨åŠ¡ç®¡ç† A éƒ¨&#x27;</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">id</span>: <span class="string">&#x27;g&#x27;</span>,</span><br><span class="line">                        <span class="attr">pid</span>: <span class="string">&#x27;e&#x27;</span>,</span><br><span class="line">                        <span class="attr">name</span>: <span class="string">&#x27;ç¨åŠ¡ç®¡ç† B éƒ¨&#x27;</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                ],</span><br><span class="line">            &#125;,</span><br><span class="line">        ],</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h4 id="ç¡®å®š-ROOT-ID"><a href="#ç¡®å®š-ROOT-ID" class="headerlink" title="ç¡®å®š ROOT_ID"></a>ç¡®å®š ROOT_ID</h4><p>ğŸœ å…ˆç¡®å®š ROOT_ID ä¸º <code>&#39;&#39;</code> ï¼ŒæŠŠ pid ç­‰äº ROOT_ID çš„æ·»åŠ åˆ°æ–°æ•°ç»„çš„ç¬¬ä¸€å±‚ã€‚</p>
<p>ğŸ¤” æ€è·¯ï¼šå°è£…æ–¹æ³• fn1ï¼Œä» list ä¸­æŸ¥æ‰¾ï¼Œã€è°ã€‘ï¼ˆæ•°ç»„çš„æŸä¸€é¡¹ itemï¼‰çš„ pid ç­‰äºæ ¹ id çš„ï¼ˆæ ¹ id å°±æ˜¯ ROOT_IDï¼‰ï¼Œå°±æŠŠè¿™ä¸ªã€è°ã€‘æ·»åŠ åˆ°æ•°ç»„ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ROOT_ID = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">list</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = []</span><br><span class="line">    list.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.pid === ROOT_ID) &#123;</span><br><span class="line">            arr.push(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æŸ¥æ‰¾æ¡ä»¶å¯èƒ½ä¼šå˜åŒ–ï¼Œä¸ºäº†æ–¹ä¾¿åç»­çš„å¤„ç†ï¼Œæ”¹é€ ä¸Šé¢ä»£ç å¦‚ä¸‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ROOT_ID = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">list, id = ROOT_ID</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = []</span><br><span class="line">    <span class="comment">// ä» list ä¸­ç»§ç»­æ‰¾ï¼Œè°çš„ pid ç­‰äºæ ¹ id çš„</span></span><br><span class="line">    list.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.pid === id) &#123;</span><br><span class="line">            arr.push(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> result = fn1(list)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br></pre></td></tr></table></figure>

<h4 id="æ‰¾-item-çš„-children"><a href="#æ‰¾-item-çš„-children" class="headerlink" title="æ‰¾ item çš„ children"></a>æ‰¾ item çš„ children</h4><p>ğŸ¤” æ·»åŠ è¿›å»çš„ item é¡¹å¯èƒ½è¿˜æœ‰ childrenï¼Œæ‰€ä»¥æ·»åŠ ä¹‹å‰å…ˆæ‰¾æ·»åŠ è¿›å»çš„è¿™ä¸ª item æœ‰æ²¡æœ‰ childrenï¼Œæœ‰ children çš„è¯å°±æŠŠè¿™ä¸ª children æŒ‚åˆ° item ä¸Šä¹‹åå†è¿›è¡Œæ·»åŠ ã€‚</p>
<p>ğŸ¤” é‚£ä¹ˆæ€ä¹ˆæ‰¾ children å‘¢ï¼Ÿ</p>
<p>ğŸ˜€ æ€è·¯ï¼šå°è£…æ–¹æ³• fn2ï¼Œä» list ä¸­æŸ¥æ‰¾ï¼Œã€è°ã€‘çš„ pid ç­‰äº <font color=e32d40><strong>item çš„ id</strong></font> çš„ï¼Œå°±æŠŠè¿™ä¸ªã€è°ã€‘æ·»åŠ åˆ°æ•°ç»„ä¸­ï¼Œæœ€åæŠŠæ•´ä¸ªæ•°ç»„ä½œä¸ºæ·»åŠ è¿›å»çš„ item çš„ childrenã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ROOT_ID = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params">list, id = ROOT_ID</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = []</span><br><span class="line">    list.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.pid === id) &#123;</span><br><span class="line">            <span class="keyword">const</span> children = fn2(list, item.id)</span><br><span class="line">            <span class="keyword">if</span> (children.length) &#123;</span><br><span class="line">                item.children = children</span><br><span class="line">            &#125;</span><br><span class="line">            arr.push(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params">list, id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = []</span><br><span class="line">    list.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.pid === id) &#123;</span><br><span class="line">            arr.push(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = fn1(list, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br></pre></td></tr></table></figure>

<h4 id="æ‰¾-item-çš„-children-1"><a href="#æ‰¾-item-çš„-children-1" class="headerlink" title="æ‰¾ item çš„ children"></a>æ‰¾ item çš„ children</h4><p>æ·»åŠ è¿›å»çš„ item é¡¹å¯èƒ½è¿˜æœ‰ childrenï¼Œæ‰€ä»¥æ·»åŠ ä¹‹å‰å…ˆæ‰¾æœ‰æ²¡æœ‰ childrenï¼Œæ€ä¹ˆæ‰¾ children å‘¢ï¼Ÿ</p>
<p>æ€è·¯ï¼šå°è£…æ–¹æ³• fn3ï¼Œä» list ä¸­æŸ¥æ‰¾ï¼Œã€è°ã€‘çš„ pid ç­‰äº <font color=e32d40><strong>item çš„ id</strong></font> çš„ï¼Œå°±æŠŠè¿™ä¸ªã€è°ã€‘æ·»åŠ åˆ°æ•°ç»„ä¸­ï¼Œæœ€åæŠŠæ•´ä¸ªæ•°ç»„ä½œä¸ºæ·»åŠ è¿›å»çš„ item çš„ childrenã€‚</p>
<h4 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ROOT_ID = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">list, id = ROOT_ID</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = []</span><br><span class="line">    list.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.pid === id) &#123;</span><br><span class="line">            <span class="keyword">const</span> children = fn(list, item.id)</span><br><span class="line">            <span class="keyword">if</span> (children.length) &#123;</span><br><span class="line">                item.children = children</span><br><span class="line">            &#125;</span><br><span class="line">            arr.push(item)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> arr = fn(list)</span><br><span class="line"><span class="built_in">console</span>.log(arr)</span><br></pre></td></tr></table></figure>

<h4 id="performant-array-to-tree"><a href="#performant-array-to-tree" class="headerlink" title="performant-array-to-tree"></a>performant-array-to-tree</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    arrayToTree</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;performant-array-to-tree&#x27;</span></span><br><span class="line">arrayToTree(arr, &#123;</span><br><span class="line">    <span class="attr">parentId</span>: <span class="string">&#x27;pid&#x27;</span>,</span><br><span class="line">    <span class="attr">dataField</span>: <span class="literal">null</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="ç»„ç»‡æ¶æ„åˆ é™¤éƒ¨é—¨åŠŸèƒ½"><a href="#ç»„ç»‡æ¶æ„åˆ é™¤éƒ¨é—¨åŠŸèƒ½" class="headerlink" title="ç»„ç»‡æ¶æ„åˆ é™¤éƒ¨é—¨åŠŸèƒ½"></a>ç»„ç»‡æ¶æ„åˆ é™¤éƒ¨é—¨åŠŸèƒ½</h2><h3 id="ç›®æ ‡-2"><a href="#ç›®æ ‡-2" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>å®ç°æ“ä½œåŠŸèƒ½çš„åˆ é™¤åŠŸèƒ½ã€‚</p>
<img src="/resource/images/new_rz_56.png"/>

<h3 id="å°è£…åˆ é™¤éƒ¨é—¨æ¥å£"><a href="#å°è£…åˆ é™¤éƒ¨é—¨æ¥å£" class="headerlink" title="å°è£…åˆ é™¤éƒ¨é—¨æ¥å£"></a>å°è£…åˆ é™¤éƒ¨é—¨æ¥å£</h3><p>å°è£…åˆ é™¤åŠŸèƒ½æ¨¡å—ï¼Œ <code>api/departments.js</code> ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">delDepartments</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`/company/department/<span class="subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;delete&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ³¨å†Œä¸‹æ‹‰èœå•äº‹ä»¶"><a href="#æ³¨å†Œä¸‹æ‹‰èœå•äº‹ä»¶" class="headerlink" title="æ³¨å†Œä¸‹æ‹‰èœå•äº‹ä»¶"></a>æ³¨å†Œä¸‹æ‹‰èœå•äº‹ä»¶</h3><p>ç›‘å¬ä¸‹æ‹‰èœå•çš„ç‚¹å‡»äº‹ä»¶å¹¶ä¼ é€’ç›¸å…³å‚æ•°ï¼Œ <code>views/departments/index.vue</code> ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- #1 @command --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-dropdown</span> @<span class="attr">command</span>=<span class="string">&quot;operateDepts($event, data.id)&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span> æ“ä½œ<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-arrow-down&quot;</span> /&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dropdown-menu</span> <span class="attr">slot</span>=<span class="string">&quot;dropdown&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- #2 command --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;add&quot;</span>&gt;</span>æ·»åŠ å­éƒ¨é—¨<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;edit&quot;</span>&gt;</span>ç¼–è¾‘éƒ¨é—¨<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;del&quot;</span>&gt;</span>åˆ é™¤éƒ¨é—¨<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-dropdown-menu</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-dropdown</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Department&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="function"><span class="title">operateDepts</span>(<span class="params">type, id</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (type === <span class="string">&#x27;add&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// æ·»åŠ å­éƒ¨é—¨çš„æ“ä½œ</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;edit&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// ç¼–è¾‘éƒ¨é—¨çš„æ“ä½œ</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// åˆ é™¤æ“ä½œ</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è°ƒç”¨åˆ é™¤éƒ¨é—¨æ¥å£"><a href="#è°ƒç”¨åˆ é™¤éƒ¨é—¨æ¥å£" class="headerlink" title="è°ƒç”¨åˆ é™¤éƒ¨é—¨æ¥å£"></a>è°ƒç”¨åˆ é™¤éƒ¨é—¨æ¥å£</h3><p>åˆ é™¤ä¹‹å‰ï¼Œæç¤ºç”¨æˆ·æ˜¯å¦åˆ é™¤ï¼Œç„¶åè°ƒç”¨åˆ é™¤æ¥å£ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    delDepartments</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/departments&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Department&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="function"><span class="title">operateDepts</span>(<span class="params">type</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (type === <span class="string">&#x27;add&#x27;</span>) &#123;&#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;edit&#x27;</span>) &#123;&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// åˆ é™¤æ“ä½œ</span></span><br><span class="line">                <span class="built_in">this</span>.$confirm(<span class="string">&#x27;ç¡®å®šè¦åˆ é™¤è¯¥éƒ¨é—¨å—&#x27;</span>).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœç‚¹å‡»äº†ç¡®å®šå°±ä¼šè¿›å…¥then</span></span><br><span class="line">                    <span class="keyword">return</span> delDepartments(id) <span class="comment">// è¿”å› promise å¯¹è±¡</span></span><br><span class="line">                &#125;).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                    <span class="comment">// å¦‚æœåˆ é™¤æˆåŠŸäº†ï¼Œå°±ä¼šè¿›å…¥è¿™é‡Œ</span></span><br><span class="line">                    <span class="built_in">this</span>.getDepartments()</span><br><span class="line">                &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="comment">// å–æ¶ˆèµ°è¿™å„¿</span></span><br><span class="line">                    <span class="built_in">console</span>.log(err)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨å¼¹æ¡†"><a href="#ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨å¼¹æ¡†" class="headerlink" title="ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨å¼¹æ¡†"></a>ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨å¼¹æ¡†</h2><h3 id="ç›®æ ‡-3"><a href="#ç›®æ ‡-3" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>å®ç°æ–°å¢éƒ¨é—¨åŠŸèƒ½çš„ç»„ä»¶åˆ›å»ºã€‚</p>
<h3 id="å°è£…æ–°å¢æ¥å£"><a href="#å°è£…æ–°å¢æ¥å£" class="headerlink" title="å°è£…æ–°å¢æ¥å£"></a>å°è£…æ–°å¢æ¥å£</h3><p>å°è£…æ–°å¢éƒ¨é—¨çš„ api æ¨¡å—ï¼Œ <code>api/departments.js</code> ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">addDepartments</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/company/department&#x27;</span>,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">        data,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ–°å»ºæ–°å¢å¼¹å±‚"><a href="#æ–°å»ºæ–°å¢å¼¹å±‚" class="headerlink" title="æ–°å»ºæ–°å¢å¼¹å±‚"></a>æ–°å»ºæ–°å¢å¼¹å±‚</h3><ol>
<li>æ„å»ºä¸€ä¸ªæ–°å¢éƒ¨é—¨çš„çª—ä½“ç»„ä»¶ï¼Œ<code>views/department/components/add-dept.vue</code>ã€‚</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ–°å¢éƒ¨é—¨çš„å¼¹å±‚ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">title</span>=<span class="string">&quot;æ–°å¢éƒ¨é—¨&quot;</span> <span class="attr">visible</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è¡¨å•ç»„ä»¶ el-formï¼Œé€šè¿‡ label-width è®¾ç½® label çš„å®½åº¦  --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- åŒ¿åæ’æ§½ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">label-width</span>=<span class="string">&quot;120px&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;éƒ¨é—¨åç§°&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">style</span>=<span class="string">&quot;width:80%&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;1-50ä¸ªå­—ç¬¦&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;éƒ¨é—¨ç¼–ç &quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">style</span>=<span class="string">&quot;width:80%&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;1-50ä¸ªå­—ç¬¦&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;éƒ¨é—¨è´Ÿè´£äºº&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- &lt;el-select style=&quot;width:80%&quot; placeholder=&quot;è¯·é€‰æ‹©&quot; /&gt; --&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;éƒ¨é—¨ä»‹ç»&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">style</span>=<span class="string">&quot;width:80%&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;1-300ä¸ªå­—ç¬¦&quot;</span> <span class="attr">type</span>=<span class="string">&quot;textarea&quot;</span> <span class="attr">:rows</span>=<span class="string">&quot;3&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- el-dialog æœ‰ä¸“é—¨æ”¾ç½®åº•éƒ¨æ“ä½œæ çš„æ’æ§½ï¼Œå…·åæ’æ§½ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-row</span> <span class="attr">slot</span>=<span class="string">&quot;footer&quot;</span> <span class="attr">type</span>=<span class="string">&quot;flex&quot;</span> <span class="attr">justify</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- åˆ—è¢«åˆ†ä¸º 24 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span>ç¡®å®š<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span>å–æ¶ˆ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å¼•å…¥æ–°å¢å¼¹æ¡†ç»„ä»¶ï¼Œ<code>departments/index.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> AddDept <span class="keyword">from</span> <span class="string">&#x27;./components/add-dept&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">components</span>: &#123;</span><br><span class="line">        AddDept</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app-container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">add-dept</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="ç‚¹å‡»æ˜¾ç¤ºå¼¹å±‚"><a href="#ç‚¹å‡»æ˜¾ç¤ºå¼¹å±‚" class="headerlink" title="ç‚¹å‡»æ˜¾ç¤ºå¼¹å±‚"></a>ç‚¹å‡»æ˜¾ç¤ºå¼¹å±‚</h3><p>ğŸ“ ç›®æ ‡ï¼šç‚¹å‡»æ–°å¢å­éƒ¨é—¨æ—¶æ˜¾ç¤ºå¼¹å±‚ç»„ä»¶ã€‚</p>
<ol>
<li>ç”¨å¤–ç•Œä¼ é€’è¿‡æ¥çš„ showDialog å±æ€§æ§åˆ¶ç»„ä»¶çš„æ˜¾ç¤ºæˆ–è€…éšè—ï¼Œ<code>views/departments/components/add-dept.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éœ€è¦ä¼ å…¥ä¸€ä¸ª props å˜é‡æ¥æ§åˆ¶æ˜¾ç¤ºæˆ–è€…éšè—</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;AddDept&#x27;</span>,</span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">        <span class="attr">showDialog</span>: &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="built_in">Boolean</span>,</span><br><span class="line">            <span class="attr">default</span>: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æŠŠ showDialog å˜é‡å’Œ el-dialog ç»„ä»¶çš„ visible å±æ€§è¿›è¡Œç»‘å®šã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">title</span>=<span class="string">&quot;æ–°å¢éƒ¨é—¨&quot;</span> <span class="attr">:visible</span>=<span class="string">&quot;showDialog&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>çˆ¶ç»„ä»¶å®šä¹‰å¹¶ä¼ é€’æ§åˆ¶çª—ä½“æ˜¾ç¤ºçš„å˜é‡ <code>showDialog</code>ï¼Œ<code>views/departments/index.vue</code>ã€‚</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">add-dept</span> <span class="attr">:show-dialog</span>=<span class="string">&quot;showDialog&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Department&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">            <span class="attr">showDialog</span>: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å½“ç‚¹å‡»æ–°å¢éƒ¨é—¨æ—¶ï¼Œå¼¹å‡ºç»„ä»¶ï¼Œ<code>views/departments/tree-tools.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Department&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="function"><span class="title">operateDepts</span>(<span class="params">type, id</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (type === <span class="string">&#x27;add&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// æ˜¾ç¤ºå¼¹æ¡†</span></span><br><span class="line">                <span class="built_in">this</span>.showDialog = <span class="literal">true</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;edit&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>å…³é—­å¼¹æ¡†ã€‚</li>
</ol>
<p>ç»™ el-dialog ç»„ä»¶ç»‘å®š @close äº‹ä»¶ï¼Œ <code>src/views/department/components/add-dept.vue</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">title</span>=<span class="string">&quot;æ–°å¢éƒ¨é—¨&quot;</span> <span class="attr">:visible</span>=<span class="string">&quot;showDialog&quot;</span> @<span class="attr">close</span>=<span class="string">&quot;btnCancel&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;AddDept&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="function"><span class="title">btnCancel</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.$emit(<span class="string">&#x27;update:showDialog&#x27;</span>, <span class="literal">false</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çˆ¶ç»„ä»¶æ·»åŠ  <code>.sync</code> ä¿®é¥°ç¬¦ï¼ˆå¯ä»¥ç®€åŒ–äº‹ä»¶ç›‘å¬å’Œèµ‹å€¼çš„æ“ä½œï¼‰ï¼Œ <code>src/views/department/index.vue</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">add-dept</span> <span class="attr">:show-dialog.sync</span>=<span class="string">&quot;showDialog&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨æ ¡éªŒ"><a href="#ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨æ ¡éªŒ" class="headerlink" title="ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨æ ¡éªŒ"></a>ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨æ ¡éªŒ</h2><h3 id="ç›®æ ‡-4"><a href="#ç›®æ ‡-4" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>å®Œæˆæ–°å¢éƒ¨é—¨åŠŸèƒ½çš„è§„åˆ™æ ¡éªŒå’Œæ•°æ®æäº¤éƒ¨åˆ†ã€‚</p>
<h3 id="æ•°æ®æ”¶é›†å’ŒåŸºç¡€æ ¡éªŒ"><a href="#æ•°æ®æ”¶é›†å’ŒåŸºç¡€æ ¡éªŒ" class="headerlink" title="æ•°æ®æ”¶é›†å’ŒåŸºç¡€æ ¡éªŒ"></a>æ•°æ®æ”¶é›†å’ŒåŸºç¡€æ ¡éªŒ</h3><ol>
<li>å‡†å¤‡å˜é‡å’Œè§„åˆ™ï¼Œ<code>views/departments/components/add-dept.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;AddDept&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// å®šä¹‰è¡¨å•æ•°æ®</span></span><br><span class="line">            <span class="attr">formData</span>: &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// éƒ¨é—¨åç§°ï¼Œå¿…å¡« 1-50 ä¸ªå­—ç¬¦ï¼ŒåŒçº§éƒ¨é—¨ä¸­ç¦æ­¢å‡ºç°é‡å¤éƒ¨é—¨</span></span><br><span class="line">                <span class="attr">code</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// éƒ¨é—¨ç¼–ç ï¼Œå¿…å¡« 1-50 ä¸ªå­—ç¬¦ï¼Œéƒ¨é—¨ç¼–ç åœ¨æ•´ä¸ªæ¨¡å—ä¸­éƒ½ä¸å…è®¸é‡å¤</span></span><br><span class="line">                <span class="attr">managerId</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// éƒ¨é—¨ç®¡ç†è€…ï¼Œå¿…å¡«</span></span><br><span class="line">                <span class="attr">introduce</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// éƒ¨é—¨ä»‹ç»ï¼Œå¿…å¡« 1-300 ä¸ªå­—ç¬¦</span></span><br><span class="line">                <span class="attr">pid</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// å®šä¹‰æ ¡éªŒè§„åˆ™</span></span><br><span class="line">            <span class="attr">rules</span>: &#123;</span><br><span class="line">                <span class="attr">name</span>: [&#123;</span><br><span class="line">                        <span class="attr">required</span>: <span class="literal">true</span>,</span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&#x27;éƒ¨é—¨åç§°ä¸èƒ½ä¸ºç©º&#x27;</span>,</span><br><span class="line">                        <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">min</span>: <span class="number">1</span>,</span><br><span class="line">                        <span class="attr">max</span>: <span class="number">50</span>,</span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&#x27;éƒ¨é—¨åç§°è¦æ±‚1-50ä¸ªå­—ç¬¦&#x27;</span>,</span><br><span class="line">                        <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">code</span>: [&#123;</span><br><span class="line">                        <span class="attr">required</span>: <span class="literal">true</span>,</span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&#x27;éƒ¨é—¨ç¼–ç ä¸èƒ½ä¸ºç©º&#x27;</span>,</span><br><span class="line">                        <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">min</span>: <span class="number">1</span>,</span><br><span class="line">                        <span class="attr">max</span>: <span class="number">50</span>,</span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&#x27;éƒ¨é—¨ç¼–ç è¦æ±‚1-50ä¸ªå­—ç¬¦&#x27;</span>,</span><br><span class="line">                        <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">managerId</span>: [&#123;</span><br><span class="line">                    <span class="attr">required</span>: <span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">message</span>: <span class="string">&#x27;éƒ¨é—¨è´Ÿè´£äººä¸èƒ½ä¸ºç©º&#x27;</span>,</span><br><span class="line">                    <span class="attr">trigger</span>: <span class="string">&#x27;change&#x27;</span></span><br><span class="line">                &#125;],</span><br><span class="line">                <span class="attr">introduce</span>: [&#123;</span><br><span class="line">                        <span class="attr">required</span>: <span class="literal">true</span>,</span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&#x27;éƒ¨é—¨ä»‹ç»ä¸èƒ½ä¸ºç©º&#x27;</span>,</span><br><span class="line">                        <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span>,</span><br><span class="line">                        <span class="attr">min</span>: <span class="number">1</span>,</span><br><span class="line">                        <span class="attr">max</span>: <span class="number">300</span>,</span><br><span class="line">                        <span class="attr">message</span>: <span class="string">&#x27;éƒ¨é—¨ä»‹ç»è¦æ±‚1-50ä¸ªå­—ç¬¦&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æŠŠä¸Šé¢çš„æ•°æ®å’Œè§„åˆ™ä¸è§†å›¾è¿›è¡Œç»‘å®šã€‚</li>
</ol>
<ul>
<li><p>  ç»™ <code>el-form</code> ç»„ä»¶é…ç½® model å’Œ rules å±æ€§ã€‚</p>
</li>
<li><p>  ç»™ <code>el-form-item</code> ç»„ä»¶é…ç½® prop å±æ€§ã€‚</p>
</li>
<li><p>  ç»™è¡¨å•ç»„ä»¶ <code>el-input</code> ç­‰è¿›è¡Œ v-model åŒå‘ç»‘å®šã€‚</p>
</li>
</ul>
<h3 id="éƒ¨é—¨åç§°å’Œéƒ¨é—¨ç¼–ç "><a href="#éƒ¨é—¨åç§°å’Œéƒ¨é—¨ç¼–ç " class="headerlink" title="éƒ¨é—¨åç§°å’Œéƒ¨é—¨ç¼–ç "></a>éƒ¨é—¨åç§°å’Œéƒ¨é—¨ç¼–ç </h3><p>ğŸ“ ç›®æ ‡ï¼šå®Œæˆéƒ¨é—¨åç§°å’Œéƒ¨é—¨ç¼–ç çš„è‡ªå®šä¹‰æ ¡éªŒï¼Œéƒ¨é—¨åç§°ä¸èƒ½å’Œ <code>åŒçº§åˆ«</code> çš„é‡å¤ã€‚</p>
<p>ğŸ¤” æ€è€ƒï¼šæ·»åŠ æ—¶ï¼Œéƒ¨é—¨åç§°çš„è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿéƒ¨é—¨ç¼–ç çš„è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<img src="/resource/images/new_rz_47.png"/>

<ol>
<li>è·å–æœ€æ–°çš„éƒ¨é—¨æ•°æ®ï¼Œåˆ¤æ–­æ˜¯å¦é‡å¤ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    getDepartments</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/departments&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;AddDept&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> checkNameRepeat = <span class="keyword">async</span> (rule, value, callback) =&gt; &#123;</span><br><span class="line">            <span class="keyword">const</span> result = <span class="keyword">await</span> getDepartments()</span><br><span class="line">            <span class="keyword">const</span> isRepeat = result.some(<span class="function">(<span class="params">item</span>) =&gt;</span> item.name === value)</span><br><span class="line">            isRepeat ? callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`å½“å‰å·²ç»æœ‰<span class="subst">$&#123;value&#125;</span>çš„éƒ¨é—¨äº†`</span>)) : callback()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">            <span class="comment">// å®šä¹‰æ ¡éªŒè§„åˆ™</span></span><br><span class="line">            <span class="attr">rules</span>: &#123;</span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">                <span class="attr">name</span>: [</span><br><span class="line">                    <span class="comment">// ...</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span>,</span><br><span class="line">                        <span class="attr">validator</span>: checkNameRepeat</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ£€æŸ¥éƒ¨é—¨ç¼–ç çš„è¿‡ç¨‹åŒç†ã€‚</li>
</ol>
<h2 id="è·å–éƒ¨é—¨è´Ÿè´£äººçš„æ•°æ®"><a href="#è·å–éƒ¨é—¨è´Ÿè´£äººçš„æ•°æ®" class="headerlink" title="è·å–éƒ¨é—¨è´Ÿè´£äººçš„æ•°æ®"></a>è·å–éƒ¨é—¨è´Ÿè´£äººçš„æ•°æ®</h2><h3 id="ç›®æ ‡-5"><a href="#ç›®æ ‡-5" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>è·å–æ–°å¢è¡¨å•ä¸­çš„éƒ¨é—¨è´Ÿè´£äººä¸‹æ‹‰æ•°æ®ã€‚</p>
<h3 id="å†…å®¹"><a href="#å†…å®¹" class="headerlink" title="å†…å®¹"></a>å†…å®¹</h3><ol>
<li>å°è£…è·å–éƒ¨é—¨è´Ÿè´£äººçš„æ¥å£ï¼Œ<code>api/departments.js</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getManagerList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/sys/user/simple&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç»„ä»¶åˆå§‹åŒ–å®Œæ¯•åè°ƒç”¨è·å–å‘˜å·¥åˆ—è¡¨çš„æ–¹æ³•ï¼Œ<code>views/departments/add-dept.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #1</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    getManagerList</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/departments&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;AddDept&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">            <span class="comment">// #2</span></span><br><span class="line">            <span class="attr">managerList</span>: [],</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.getManagerList()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="comment">// #3 è·å–å‘˜å·¥ç®€å•åˆ—è¡¨æ•°æ®</span></span><br><span class="line">        <span class="keyword">async</span> <span class="function"><span class="title">getManagerList</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.managerList = <span class="keyword">await</span> getManagerList()</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æ¸²æŸ“æ•°æ®ã€‚</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;formData.managerId&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:80%&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- éœ€è¦å¾ªç¯ç”Ÿæˆé€‰é¡¹ï¼Œæ˜¾ç¤ºçš„æ˜¯ç”¨æˆ·åï¼Œå­˜çš„ä¹Ÿæ˜¯ç”¨æˆ·å--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">v-for</span>=<span class="string">&quot;item in managerList&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span> <span class="attr">:label</span>=<span class="string">&quot;item.username&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;item.id&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="è®°å½•å½“å‰ç‚¹å‡»çš„æ•°æ®é¡¹"><a href="#è®°å½•å½“å‰ç‚¹å‡»çš„æ•°æ®é¡¹" class="headerlink" title="è®°å½•å½“å‰ç‚¹å‡»çš„æ•°æ®é¡¹"></a>è®°å½•å½“å‰ç‚¹å‡»çš„æ•°æ®é¡¹</h2><img src="/resource/images/new_rz_50.png" width="500" class="highlight2"/>

<ol>
<li>ç‚¹å‡»æ·»åŠ å­éƒ¨é—¨æŒ‰é’®æ—¶è¿›è¡Œè®°å½•ï¼Œ<code>src/views/department/index.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Department&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">currentNodeId</span>: <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="function"><span class="title">operateDepts</span>(<span class="params">type, id</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (type === <span class="string">&#x27;add&#x27;</span>) &#123;</span><br><span class="line">                <span class="built_in">this</span>.currentNodeId = id</span><br><span class="line">                <span class="built_in">this</span>.showDialog = <span class="literal">true</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;edit&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä¼ é€’ currentNodeId åˆ°æ–°å¢çš„å­ç»„ä»¶ï¼Œ<code>src/views/department/index.vue</code>ã€‚</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">add-dept</span> <span class="attr">:show-dialog.sync</span>=<span class="string">&quot;showDialog&quot;</span> <span class="attr">:current-node-id</span>=<span class="string">&quot;currentNodeId&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å­ç»„ä»¶è¿›è¡Œæ¥æ”¶æ•°æ®ï¼Œ<code>src/views/department/components/add-dept.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;AddDept&#x27;</span>,</span><br><span class="line">    <span class="attr">props</span>: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="attr">currentNodeId</span>: &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="built_in">Number</span>,</span><br><span class="line">            <span class="attr">default</span>: <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨åŠŸèƒ½"><a href="#ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨åŠŸèƒ½" class="headerlink" title="ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨åŠŸèƒ½"></a>ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨åŠŸèƒ½</h2><img src="/resource/images/new_rz_51.png"/>

<ol>
<li>ç»™ el-form å®šä¹‰ä¸€ä¸ª ref å±æ€§ï¼Œ<code>views/departments/components/add-dept.vue</code>ã€‚</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;deptForm&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;formData&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;120px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç‚¹å‡»ç¡®å®šæ—¶è§¦å‘</span></span><br><span class="line"><span class="function"><span class="title">btnOK</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$refs.deptForm.validate(<span class="function"><span class="params">isOK</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (isOK) &#123;</span><br><span class="line">            <span class="comment">// è¡¨ç¤ºå¯ä»¥æäº¤äº†</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ ¡éªŒé€šè¿‡æ—¶ï¼Œè°ƒç”¨æ–°å¢æ¥å£ï¼Œå› ä¸ºæ˜¯æ·»åŠ å­éƒ¨é—¨ï¼Œæ‰€ä»¥å­éƒ¨é—¨çš„ pid åº”è¯¥ç­‰äºå½“å‰ç‚¹å‡»éƒ¨é—¨çš„ idã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    addDepartments</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/departments&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;AddDept&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="function"><span class="title">btnOK</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.$refs.deptForm.validate(<span class="keyword">async</span> isOK =&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (isOK) &#123;</span><br><span class="line">                    <span class="comment">// è¡¨ç¤ºå¯ä»¥æäº¤äº†</span></span><br><span class="line">                    <span class="keyword">await</span> addDepartments(&#123;</span><br><span class="line">                        ...this.formData,</span><br><span class="line">                        <span class="attr">pid</span>: <span class="built_in">this</span>.currentNodeId</span><br><span class="line">                    &#125;)</span><br><span class="line">                    <span class="built_in">this</span>.$emit(<span class="string">&#x27;updateDepartment&#x27;</span>)</span><br><span class="line">                    <span class="built_in">this</span>.$message.success(<span class="string">&#x27;æ–°å¢éƒ¨é—¨æˆåŠŸ&#x27;</span>)</span><br><span class="line">                    <span class="built_in">this</span>.btnCancel()</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>çˆ¶ç»„ä»¶ç›‘å¬ updateDepartmentï¼Œ<code>views/departments/index.vue</code>ã€‚</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">add-dept</span> <span class="attr">:show-dialog.sync</span>=<span class="string">&quot;showDialog&quot;</span> <span class="attr">:current-node-id</span>=<span class="string">&quot;currentNodeId&quot;</span> @<span class="attr">updateDepartment</span>=<span class="string">&quot;getDepartments&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>å…³é—­å¼¹æ¡†æ—¶ï¼Œé‡ç½®è¡¨å•å’Œæ ¡éªŒè§„åˆ™ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;AddDept&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="function"><span class="title">btnCancel</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="comment">// é‡ç½®å†…å®¹ï¼Œå¹¶æ¸…ç©ºæ ¡éªŒè§„åˆ™</span></span><br><span class="line">            <span class="built_in">this</span>.$refs.deptForm.resetFields()</span><br><span class="line">            <span class="comment">// å…³é—­</span></span><br><span class="line">            <span class="built_in">this</span>.$emit(<span class="string">&#x27;update:showDialog&#x27;</span>, <span class="literal">false</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ç¼–è¾‘éƒ¨é—¨åŠŸèƒ½æ•°æ®å›å†™"><a href="#ç¼–è¾‘éƒ¨é—¨åŠŸèƒ½æ•°æ®å›å†™" class="headerlink" title="ç¼–è¾‘éƒ¨é—¨åŠŸèƒ½æ•°æ®å›å†™"></a>ç¼–è¾‘éƒ¨é—¨åŠŸèƒ½æ•°æ®å›å†™</h2><h3 id="ç›®æ ‡-6"><a href="#ç›®æ ‡-6" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>å®ç°ç¼–è¾‘éƒ¨é—¨çš„åŠŸèƒ½ã€‚</p>
<h3 id="å¡«å……æ•°æ®"><a href="#å¡«å……æ•°æ®" class="headerlink" title="å¡«å……æ•°æ®"></a>å¡«å……æ•°æ®</h3><p>ğŸ“ ç›®æ ‡ï¼šç‚¹å‡»ç¼–è¾‘æŒ‰é’®æ—¶ï¼Œçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶è·å–è¯¦æƒ…æ–¹æ³•æ¥å¡«å……æ•°æ®ã€‚</p>
<img src="/resource/images/new_rz_52.png" class="highlight2"/>

<ol>
<li>å°è£…è·å–éƒ¨é—¨ä¿¡æ¯çš„æ¥å£ï¼Œ<code>api/departments.js</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–éƒ¨é—¨è¯¦æƒ…</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getDepartDetail</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`/company/department/<span class="subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ·»åŠ éƒ¨é—¨çš„ç»„ä»¶ä¸­å®šä¹‰è·å–è¯¦æƒ…çš„æ–¹æ³•ï¼Œå¹¶æŠŠç»“æœèµ‹å€¼ç»™ formDataï¼Œ<code>views/departments/components/add-dept.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    getDepartDetail</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/departments&#x27;</span></span><br><span class="line"><span class="comment">// è·å–éƒ¨é—¨è¯¦æƒ…</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getDepartDetail</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.formData = <span class="keyword">await</span> getDepartDetail(<span class="built_in">this</span>.currentNodeId)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>çˆ¶ç»„ä»¶ä¸­ï¼Œç‚¹å‡»ç¼–è¾‘éƒ¨é—¨æŒ‰é’®æ—¶ï¼Œè°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•ï¼Œ<code>views/departments/index.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Department&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="function"><span class="title">operateDepts</span>(<span class="params">type, id</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (type === <span class="string">&#x27;add&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;edit&#x27;</span>) &#123;</span><br><span class="line">                <span class="built_in">this</span>.currentNodeId = id</span><br><span class="line">                <span class="built_in">this</span>.showDialog = <span class="literal">true</span></span><br><span class="line">                <span class="built_in">this</span>.$refs.addDept.getDepartDetail()</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ...</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>å¤„ç† props ä¼ é€’æ•°æ®å¼‚æ­¥çš„é—®é¢˜ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$nextTick(<span class="built_in">this</span>.$refs.addDept.getDepartDetail)</span><br></pre></td></tr></table></figure>

<h3 id="æ ¹æ®è®¡ç®—å±æ€§æ˜¾ç¤ºæ§åˆ¶æ ‡é¢˜"><a href="#æ ¹æ®è®¡ç®—å±æ€§æ˜¾ç¤ºæ§åˆ¶æ ‡é¢˜" class="headerlink" title="æ ¹æ®è®¡ç®—å±æ€§æ˜¾ç¤ºæ§åˆ¶æ ‡é¢˜"></a>æ ¹æ®è®¡ç®—å±æ€§æ˜¾ç¤ºæ§åˆ¶æ ‡é¢˜</h3><ol>
<li>æ ¹æ®æœ‰æ—  IDï¼Œåˆ©ç”¨è®¡ç®—å±æ€§ï¼ŒåŒºåˆ†ç¼–è¾‘å’Œæ·»åŠ çš„å¼¹æ¡†æ ‡é¢˜ï¼Œ<code>views/departments/components/add-dept.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    <span class="function"><span class="title">showTitle</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.formData.id ? <span class="string">&#x27;ç¼–è¾‘éƒ¨é—¨&#x27;</span> : <span class="string">&#x27;æ–°å¢å­éƒ¨é—¨&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç»‘å®šã€‚</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">:title</span>=<span class="string">&quot;showTitle&quot;</span> <span class="attr">:visible</span>=<span class="string">&quot;showDialog&quot;</span> @<span class="attr">close</span>=<span class="string">&quot;btnCancel&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>el-form ä¸­çš„ resetFields ä¸èƒ½é‡ç½®éè¡¨å•ä¸­çš„æ•°æ®ï¼Œå¯¼è‡´ formData.id æ®‹ç•™ï¼Œæ‰€ä»¥åœ¨å–æ¶ˆçš„æ—¶å€™æ‰‹åŠ¨é‡ç½®æ•°æ®ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">btnCancel</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// resetFields åªèƒ½é‡ç½®è¡¨å•ä¸Šçš„æ•°æ®ï¼Œéè¡¨å•ä¸Šçš„æ¯”å¦‚ id åˆ™ä¸èƒ½è¢«é‡ç½®</span></span><br><span class="line">    <span class="built_in">this</span>.formData = &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">code</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">managerId</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">introduce</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">pid</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é‡ç½®å†…å®¹ï¼Œå¹¶æ¸…ç©ºæ ¡éªŒè§„åˆ™</span></span><br><span class="line">    <span class="built_in">this</span>.$refs.deptForm.resetFields()</span><br><span class="line">    <span class="comment">// å…³é—­</span></span><br><span class="line">    <span class="built_in">this</span>.$emit(<span class="string">&#x27;update:showDialog&#x27;</span>, <span class="literal">false</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å°è£…å¹¶è°ƒç”¨ç¼–è¾‘çš„æ¥å£"><a href="#å°è£…å¹¶è°ƒç”¨ç¼–è¾‘çš„æ¥å£" class="headerlink" title="å°è£…å¹¶è°ƒç”¨ç¼–è¾‘çš„æ¥å£"></a>å°è£…å¹¶è°ƒç”¨ç¼–è¾‘çš„æ¥å£</h2><p>ğŸ¤” æ€è€ƒï¼šç‚¹å‡»ç¡®å®šæŒ‰é’®æ—¶ï¼Œå¦‚ä½•åŒºåˆ†æ˜¯æ–°å¢å’Œç¼–è¾‘ï¼Ÿ</p>
<ol>
<li>å°è£…ç¼–è¾‘éƒ¨é—¨æ¥å£ï¼Œ<code>api/departments.js</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¼–è¾‘éƒ¨é—¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">updateDepartments</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> request(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">`/company/department/<span class="subst">$&#123;data.id&#125;</span>`</span>,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;put&#x27;</span>,</span><br><span class="line">        data,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç‚¹å‡»ç¡®å®šæ—¶ï¼Œè¿›è¡Œåœºæ™¯åŒºåˆ†ï¼Œ<code>views/departments/components/add-dept.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;AddDept&#x27;</span>,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="function"><span class="title">btnOK</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.$refs.deptForm.validate(<span class="keyword">async</span> isOK =&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (isOK) &#123;</span><br><span class="line">                    <span class="comment">// è¡¨ç¤ºå¯ä»¥æäº¤äº†</span></span><br><span class="line">                    <span class="keyword">if</span> (<span class="built_in">this</span>.formData.id) &#123;</span><br><span class="line">                        <span class="keyword">await</span> updateDepartments(<span class="built_in">this</span>.formData)</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">await</span> addDepartments(&#123;</span><br><span class="line">                            ...this.formData,</span><br><span class="line">                            <span class="attr">pid</span>: <span class="built_in">this</span>.currentNodeId</span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="built_in">this</span>.$emit(<span class="string">&#x27;updateDepartment&#x27;</span>)</span><br><span class="line">                    <span class="built_in">this</span>.$message.success(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.formData.id ? <span class="string">&#x27;ç¼–è¾‘&#x27;</span> : <span class="string">&#x27;æ–°å¢&#x27;</span>&#125;</span>éƒ¨é—¨æˆåŠŸ`</span>)</span><br><span class="line">                    <span class="built_in">this</span>.btnCancel()</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ ¡éªŒè§„åˆ™æ”¯æŒç¼–è¾‘åœºæ™¯"><a href="#æ ¡éªŒè§„åˆ™æ”¯æŒç¼–è¾‘åœºæ™¯" class="headerlink" title="æ ¡éªŒè§„åˆ™æ”¯æŒç¼–è¾‘åœºæ™¯"></a>æ ¡éªŒè§„åˆ™æ”¯æŒç¼–è¾‘åœºæ™¯</h2><p>å‘ç°åŸæ¥çš„æ ¡éªŒè§„åˆ™å’Œç¼–è¾‘éƒ¨é—¨æœ‰äº›å†²çªï¼Œæ‰€ä»¥éœ€è¦è¿›ä¸€æ­¥å¤„ç†ï¼Œç¼–è¾‘æ—¶ name å’Œ code çš„æ ¡éªŒè§„åˆ™åº”è¯¥æ˜¯æ€æ ·çš„ï¼Ÿ</p>
<p> <code>views/departments/components/add-dept.vue</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> checkNameRepeat = <span class="keyword">async</span> (rule, value, callback) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> getDepartments()</span><br><span class="line">    <span class="comment">// ç¼–è¾‘åœºæ™¯</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.formData.id) &#123;</span><br><span class="line">        result = result.filter(<span class="function"><span class="params">item</span> =&gt;</span> item.id !== <span class="built_in">this</span>.formData.id)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> isRepeat = result.some(<span class="function">(<span class="params">item</span>) =&gt;</span> item.name === value)</span><br><span class="line">    isRepeat ? callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`å½“å‰å·²ç»æœ‰<span class="subst">$&#123;value&#125;</span>çš„éƒ¨é—¨äº†`</span>)) : callback()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> checkCodeRepeat = <span class="keyword">async</span> (rule, value, callback) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">await</span> getDepartments()</span><br><span class="line">    <span class="comment">// ç¼–è¾‘åœºæ™¯</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.formData.id) &#123;</span><br><span class="line">        result = result.filter(<span class="function"><span class="params">item</span> =&gt;</span> item.id !== <span class="built_in">this</span>.formData.id)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> isRepeat = result.some(<span class="function">(<span class="params">item</span>) =&gt;</span> item.code === value)</span><br><span class="line">    isRepeat ? callback(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`å½“å‰å·²ç»æœ‰<span class="subst">$&#123;value&#125;</span>çš„ç¼–ç äº†`</span>)) : callback()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œæ•´ä¸ªç»„ç»‡æ¶æ„ï¼Œæˆ‘ä»¬å®Œæˆäº†è¯»å– / æ–°å¢éƒ¨é—¨ / åˆ é™¤éƒ¨é—¨ / ç¼–è¾‘éƒ¨é—¨ã€‚</p>
<h2 id="ç»™æ•°æ®è·å–æ·»åŠ è¿›åº¦æ¡"><a href="#ç»™æ•°æ®è·å–æ·»åŠ è¿›åº¦æ¡" class="headerlink" title="ç»™æ•°æ®è·å–æ·»åŠ è¿›åº¦æ¡"></a>ç»™æ•°æ®è·å–æ·»åŠ è¿›åº¦æ¡</h2><h3 id="ç›®æ ‡-7"><a href="#ç›®æ ‡-7" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>ç”±äºè·å–æ•°æ®çš„å»¶è¿Ÿæ€§ï¼Œä¸ºäº†æ›´å¥½çš„ä½“éªŒï¼Œå¯ä»¥åˆ©ç”¨ Element UI æä¾›çš„ v-loading æŒ‡ä»¤ç»™é¡µé¢åŠ ä¸€ä¸ªè¿›åº¦æç¤ºã€‚</p>
<h3 id="å†…å®¹-1"><a href="#å†…å®¹-1" class="headerlink" title="å†…å®¹"></a>å†…å®¹</h3><ol>
<li>å®šä¹‰ loading å˜é‡ï¼Œ<code>views/departments/index.vue</code>ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">loading</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>è·å–æ•°æ®å‰åè®¾ç½®å˜é‡ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="title">getDepartments</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.loading = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> getDepartments()</span><br><span class="line">    <span class="built_in">this</span>.departs = transListToTreeData(result.depts, <span class="number">0</span>)</span><br><span class="line">    <span class="built_in">this</span>.loading = <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>èµ‹å€¼å˜é‡ç»™ v-loading æŒ‡ä»¤ã€‚</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-card</span> <span class="attr">v-loading</span>=<span class="string">&quot;loading&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/03/23/rz-base-new-course03/" rel="prev" title="03_äººèµ„åå°">
      <i class="fa fa-chevron-left"></i> 03_äººèµ„åå°
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/03/23/rz-base-new-course05/" rel="next" title="05_äººèµ„åå°">
      05_äººèµ„åå° <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%8A%E6%97%A5%E7%9B%AE%E6%A0%87"><span class="nav-number">1.</span> <span class="nav-text">ä»Šæ—¥ç›®æ ‡</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84%E5%B8%83%E5%B1%80"><span class="nav-number">2.</span> <span class="nav-text">ç»„ç»‡æ¶æ„æ ‘å½¢ç»“æ„å¸ƒå±€</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87"><span class="nav-number">2.1.</span> <span class="nav-text">ç›®æ ‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A4%E8%AF%86%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84"><span class="nav-number">2.2.</span> <span class="nav-text">è®¤è¯†ç»„ç»‡æ¶æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%91%E5%BD%A2%E7%BB%84%E4%BB%B6%E8%AE%A4%E8%AF%86"><span class="nav-number">2.3.</span> <span class="nav-text">æ ‘å½¢ç»„ä»¶è®¤è¯†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9%E9%80%A0%E6%A0%91%E5%BD%A2%E7%BB%84%E4%BB%B6%E7%9A%84%E6%95%B0%E6%8D%AE%E5%92%8C%E7%BB%93%E6%9E%84"><span class="nav-number">2.4.</span> <span class="nav-text">æ”¹é€ æ ‘å½¢ç»„ä»¶çš„æ•°æ®å’Œç»“æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%BB%E5%8A%A1"><span class="nav-number">2.5.</span> <span class="nav-text">ä»»åŠ¡</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%8A%A0%E5%B7%A5%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84%E6%95%B0%E6%8D%AE"><span class="nav-number">3.</span> <span class="nav-text">è·å–åŠ å·¥ç»„ç»‡æ¶æ„æ•°æ®</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87-1"><span class="nav-number">3.1.</span> <span class="nav-text">ç›®æ ‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%81%E8%A3%85-API-%E6%8E%A5%E5%8F%A3"><span class="nav-number">3.2.</span> <span class="nav-text">å°è£… API æ¥å£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%86%E6%95%B0%E7%BB%84%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8C%96%E6%88%90%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84"><span class="nav-number">3.3.</span> <span class="nav-text">å°†æ•°ç»„æ•°æ®è½¬åŒ–æˆæ ‘å½¢ç»“æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#array-to-tree"><span class="nav-number">3.4.</span> <span class="nav-text">array to tree</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9C%80%E6%B1%82"><span class="nav-number">3.4.1.</span> <span class="nav-text">éœ€æ±‚</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A1%AE%E5%AE%9A-ROOT-ID"><span class="nav-number">3.4.2.</span> <span class="nav-text">ç¡®å®š ROOT_ID</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%BE-item-%E7%9A%84-children"><span class="nav-number">3.4.3.</span> <span class="nav-text">æ‰¾ item çš„ children</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%BE-item-%E7%9A%84-children-1"><span class="nav-number">3.4.4.</span> <span class="nav-text">æ‰¾ item çš„ children</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%92%E5%BD%92"><span class="nav-number">3.4.5.</span> <span class="nav-text">é€’å½’</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#performant-array-to-tree"><span class="nav-number">3.4.6.</span> <span class="nav-text">performant-array-to-tree</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84%E5%88%A0%E9%99%A4%E9%83%A8%E9%97%A8%E5%8A%9F%E8%83%BD"><span class="nav-number">4.</span> <span class="nav-text">ç»„ç»‡æ¶æ„åˆ é™¤éƒ¨é—¨åŠŸèƒ½</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87-2"><span class="nav-number">4.1.</span> <span class="nav-text">ç›®æ ‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E5%88%A0%E9%99%A4%E9%83%A8%E9%97%A8%E6%8E%A5%E5%8F%A3"><span class="nav-number">4.2.</span> <span class="nav-text">å°è£…åˆ é™¤éƒ¨é—¨æ¥å£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E5%86%8C%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%E4%BA%8B%E4%BB%B6"><span class="nav-number">4.3.</span> <span class="nav-text">æ³¨å†Œä¸‹æ‹‰èœå•äº‹ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E7%94%A8%E5%88%A0%E9%99%A4%E9%83%A8%E9%97%A8%E6%8E%A5%E5%8F%A3"><span class="nav-number">4.4.</span> <span class="nav-text">è°ƒç”¨åˆ é™¤éƒ¨é—¨æ¥å£</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84%E6%96%B0%E5%A2%9E%E9%83%A8%E9%97%A8%E5%BC%B9%E6%A1%86"><span class="nav-number">5.</span> <span class="nav-text">ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨å¼¹æ¡†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87-3"><span class="nav-number">5.1.</span> <span class="nav-text">ç›®æ ‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E6%96%B0%E5%A2%9E%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.2.</span> <span class="nav-text">å°è£…æ–°å¢æ¥å£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%BB%BA%E6%96%B0%E5%A2%9E%E5%BC%B9%E5%B1%82"><span class="nav-number">5.3.</span> <span class="nav-text">æ–°å»ºæ–°å¢å¼¹å±‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%82%B9%E5%87%BB%E6%98%BE%E7%A4%BA%E5%BC%B9%E5%B1%82"><span class="nav-number">5.4.</span> <span class="nav-text">ç‚¹å‡»æ˜¾ç¤ºå¼¹å±‚</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84%E6%96%B0%E5%A2%9E%E9%83%A8%E9%97%A8%E6%A0%A1%E9%AA%8C"><span class="nav-number">6.</span> <span class="nav-text">ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨æ ¡éªŒ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87-4"><span class="nav-number">6.1.</span> <span class="nav-text">ç›®æ ‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%94%B6%E9%9B%86%E5%92%8C%E5%9F%BA%E7%A1%80%E6%A0%A1%E9%AA%8C"><span class="nav-number">6.2.</span> <span class="nav-text">æ•°æ®æ”¶é›†å’ŒåŸºç¡€æ ¡éªŒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%83%A8%E9%97%A8%E5%90%8D%E7%A7%B0%E5%92%8C%E9%83%A8%E9%97%A8%E7%BC%96%E7%A0%81"><span class="nav-number">6.3.</span> <span class="nav-text">éƒ¨é—¨åç§°å’Œéƒ¨é—¨ç¼–ç </span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E9%83%A8%E9%97%A8%E8%B4%9F%E8%B4%A3%E4%BA%BA%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="nav-number">7.</span> <span class="nav-text">è·å–éƒ¨é—¨è´Ÿè´£äººçš„æ•°æ®</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87-5"><span class="nav-number">7.1.</span> <span class="nav-text">ç›®æ ‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AE%B9"><span class="nav-number">7.2.</span> <span class="nav-text">å†…å®¹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%B0%E5%BD%95%E5%BD%93%E5%89%8D%E7%82%B9%E5%87%BB%E7%9A%84%E6%95%B0%E6%8D%AE%E9%A1%B9"><span class="nav-number">8.</span> <span class="nav-text">è®°å½•å½“å‰ç‚¹å‡»çš„æ•°æ®é¡¹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84%E6%96%B0%E5%A2%9E%E9%83%A8%E9%97%A8%E5%8A%9F%E8%83%BD"><span class="nav-number">9.</span> <span class="nav-text">ç»„ç»‡æ¶æ„æ–°å¢éƒ¨é—¨åŠŸèƒ½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%BE%91%E9%83%A8%E9%97%A8%E5%8A%9F%E8%83%BD%E6%95%B0%E6%8D%AE%E5%9B%9E%E5%86%99"><span class="nav-number">10.</span> <span class="nav-text">ç¼–è¾‘éƒ¨é—¨åŠŸèƒ½æ•°æ®å›å†™</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87-6"><span class="nav-number">10.1.</span> <span class="nav-text">ç›®æ ‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A1%AB%E5%85%85%E6%95%B0%E6%8D%AE"><span class="nav-number">10.2.</span> <span class="nav-text">å¡«å……æ•°æ®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B9%E6%8D%AE%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E6%98%BE%E7%A4%BA%E6%8E%A7%E5%88%B6%E6%A0%87%E9%A2%98"><span class="nav-number">10.3.</span> <span class="nav-text">æ ¹æ®è®¡ç®—å±æ€§æ˜¾ç¤ºæ§åˆ¶æ ‡é¢˜</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%81%E8%A3%85%E5%B9%B6%E8%B0%83%E7%94%A8%E7%BC%96%E8%BE%91%E7%9A%84%E6%8E%A5%E5%8F%A3"><span class="nav-number">11.</span> <span class="nav-text">å°è£…å¹¶è°ƒç”¨ç¼–è¾‘çš„æ¥å£</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%A1%E9%AA%8C%E8%A7%84%E5%88%99%E6%94%AF%E6%8C%81%E7%BC%96%E8%BE%91%E5%9C%BA%E6%99%AF"><span class="nav-number">12.</span> <span class="nav-text">æ ¡éªŒè§„åˆ™æ”¯æŒç¼–è¾‘åœºæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%99%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E6%B7%BB%E5%8A%A0%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="nav-number">13.</span> <span class="nav-text">ç»™æ•°æ®è·å–æ·»åŠ è¿›åº¦æ¡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87-7"><span class="nav-number">13.1.</span> <span class="nav-text">ç›®æ ‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AE%B9-1"><span class="nav-number">13.2.</span> <span class="nav-text">å†…å®¹</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ifer"
      src="/images/49337922.png">
  <p class="site-author-name" itemprop="name">Ifer</p>
  <div class="site-description" itemprop="description">React å…¨å®¶æ¡¶ <span style='position:relative;top:-2px;'>âœ</span></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">99</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://www.bilibili.com/video/BV1iW4y1k7Ci?spm_id_from=333.337.search-card.all.click" title="ğŸ˜š â†’ https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1iW4y1k7Ci?spm_id_from&#x3D;333.337.search-card.all.click" rel="noopener" target="_blank"><i class="a fa-fw"></i>ğŸ˜š</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/weixiantx" title="ğŸ˜™ â†’ https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;weixiantx" rel="noopener" target="_blank"><i class="a fa-fw"></i>ğŸ˜™</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ifer</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
